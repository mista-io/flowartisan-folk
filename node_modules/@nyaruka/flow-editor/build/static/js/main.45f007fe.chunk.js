(this["webpackJsonp@nyaruka/flow-editor"]=this["webpackJsonp@nyaruka/flow-editor"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",sim_container:"Simulator_sim_container__H7rj0",simulator:"Simulator_simulator__2tU1d",sim_hidden:"Simulator_sim_hidden__1ggwF",screen:"Simulator_screen__2Qp5p",header:"Simulator_header__2r6Gy",close:"Simulator_close__1RMuB",time:"Simulator_time__3FKl6",battery:"Simulator_battery__3Wa1Y",wifi:"Simulator_wifi__2E-6D",footer:"Simulator_footer__1_obl",show_context_button:"Simulator_show_context_button__20XVs",reset:"Simulator_reset__1A78l",inactive:"Simulator_inactive__3bLl7",active:"Simulator_active__1MwaM",messages:"Simulator_messages__3Oalm",controls:"Simulator_controls__1TlMu",show_attachments_button:"Simulator_show_attachments_button__3LFcV",attachment_buttons:"Simulator_attachment_buttons__hDIT5",visible:"Simulator_visible__3BBvQ",drawer:"Simulator_drawer__340zx",drawer_visible:"Simulator_drawer_visible__1jBzI",forced:"Simulator_forced__19aUl",drawer_header:"Simulator_drawer_header__nlorO",map_thumb:"Simulator_map_thumb__1zB9o",audio_picker:"Simulator_audio_picker__V2K8X",audio_icon:"Simulator_audio_icon__Ve23Y",audio_message:"Simulator_audio_message___4Yvw",keypad:"Simulator_keypad__29cCi",keypad_entry:"Simulator_keypad_entry__2S4e_",keys:"Simulator_keys__W8GcS",row:"Simulator_row__mtRhr",key:"Simulator_key__Wv2KS",drawer_items:"Simulator_drawer_items__PYHpL",drawer_item:"Simulator_drawer_item__yZRIg",tab_hidden:"Simulator_tab_hidden__1BDkU",simulator_tab:"Simulator_simulator_tab__uRMHB",simulator_tab_icon:"Simulator_simulator_tab_icon__3cmxe",simulator_tab_text:"Simulator_simulator_tab_text__1aI0Q",detail_webhook_called:"Simulator_detail_webhook_called__1A8Iu",quick_replies:"Simulator_quick_replies__3wan9",quick_reply:"Simulator_quick_reply__sSRfK"}},,,,,,,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",hidden:"TranslatorTab_hidden__n6TH8",message:"TranslatorTab_message__94Qv_",header:"TranslatorTab_header__D3V8v",translations_wrapper:"TranslatorTab_translations_wrapper__3D6T-",complete:"TranslatorTab_complete__30vNJ",language:"TranslatorTab_language__2b3mU",options:"TranslatorTab_options__hKEsd",options_visible:"TranslatorTab_options_visible__1Iv7O",filters:"TranslatorTab_filters__3qwqM",pct_complete:"TranslatorTab_pct_complete__3sHbg",toggle:"TranslatorTab_toggle__35-qI",change_visible:"TranslatorTab_change_visible__1P3qg",changeLanguage:"TranslatorTab_changeLanguage__RxYLJ",progress_bar:"TranslatorTab_progress_bar__cWMo0",filled:"TranslatorTab_filled__OKNl9",hundredpct:"TranslatorTab_hundredpct__2ltPG",checkboxes:"TranslatorTab_checkboxes__3MIKA",translate_block:"TranslatorTab_translate_block__1htQy",item:"TranslatorTab_item__3Q3JG",text:"TranslatorTab_text__2HqtQ",from_text:"TranslatorTab_from_text__3_B24",to_text:"TranslatorTab_to_text__z4k-b",needs_translation:"TranslatorTab_needs_translation__1FKjj",type_name:"TranslatorTab_type_name__OdM8M",attribute:"TranslatorTab_attribute__bQi14",translated:"TranslatorTab_translated__K2ZMS",check:"TranslatorTab_check__1ymTu"}},,,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",evt:"LogEvent_evt__1J8Uq",fadein:"LogEvent_fadein__kgfF4",msg_text:"LogEvent_msg_text__1HqoJ",ivr_msg:"LogEvent_ivr_msg__2pGYZ",send_msg:"LogEvent_send_msg__195Tn",msg_received:"LogEvent_msg_received__gf2kP",image_attachment:"LogEvent_image_attachment__2Ku4T",error:"LogEvent_error__2oBQ9",info:"LogEvent_info__12nsu",email:"LogEvent_email__1XyUb",webhook:"LogEvent_webhook__3jEK2",video_attachment:"LogEvent_video_attachment__2xn3C",audio_attachment:"LogEvent_audio_attachment__2iBWG",media_player:"LogEvent_media_player__22CtH",audio_text:"LogEvent_audio_text__3j-uW",email_details:"LogEvent_email_details__1f2TW",to:"LogEvent_to__H-JTa",subject:"LogEvent_subject__mN7Lz",body:"LogEvent_body__2hSdi",webhook_details:"LogEvent_webhook_details__3mtJW",response:"LogEvent_response__2oEy0",event_viewer:"LogEvent_event_viewer__2D4uw",has_detail:"LogEvent_has_detail__ZRVpP",classification:"LogEvent_classification__2arCX"}},,,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",clickable:"Dialog_clickable__1gSoh",dialog:"Dialog_dialog__16A3R",header:"Dialog_header__YD-Nm",header_overlay:"Dialog_header_overlay__1Of6F",header_icon:"Dialog_header_icon__2z4U8",title:"Dialog_title__1IRe1",barber:"Dialog_barber__3x6cp",iconed:"Dialog_iconed__2eQKD",title_container:"Dialog_title_container__2HiUa",content:"Dialog_content__1YGhY",footer:"Dialog_footer__3UylY",gutter:"Dialog_gutter__1Xxy-",buttons:"Dialog_buttons__1T0cB",left_buttons:"Dialog_left_buttons__31hp_",right_buttons:"Dialog_right_buttons__3NHBO",tabs:"Dialog_tabs__2gLgU",tab:"Dialog_tab__1x47g",tab_icon:"Dialog_tab_icon__28etF",active:"Dialog_active__3yOgq"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",exit:"Exit_exit__36tB1",translating:"Exit_translating__mA2Hf",unnamed_exit:"Exit_unnamed_exit__1H6-H",endpoint:"Exit_endpoint__1D08c",missing_localization:"Exit_missing_localization__h2WGJ",name:"Exit_name__22WdX",confirm_delete:"Exit_confirm_delete__26Wo-",activity:"Exit_activity__11sTW",count:"Exit_count__1tNM8",confirm_x:"Exit_confirm_x__1AODA",recent_contacts:"Exit_recent_contacts__1bAqb",container:"Exit_container__3yonj",no_recents:"Exit_no_recents__R97kK",title:"Exit_title__3Ugsu",loading:"Exit_loading__37ssZ",row:"Exit_row__2S09I",operand:"Exit_operand__okvAf",time:"Exit_time__1PzNY"}},,,,,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",context_explorer:"ContextExplorer_context_explorer__wmqkX",visible:"ContextExplorer_visible__2gRjv",panel:"ContextExplorer_panel__gz824",close_button:"ContextExplorer_close_button__26zA3",row:"ContextExplorer_row__2rF84",arrow_right:"ContextExplorer_arrow_right__22xI1",has_children:"ContextExplorer_has_children__2eFg-",open:"ContextExplorer_open__2duis",key:"ContextExplorer_key__AE_c_",clipboard:"ContextExplorer_clipboard__ZgQfN",key_summary:"ContextExplorer_key_summary__2xvsu",colon:"ContextExplorer_colon__3TZUN",str_value:"ContextExplorer_str_value__2W3Fs",footer:"ContextExplorer_footer__xM3R1",hide_checkbox:"ContextExplorer_hide_checkbox__w80HV",help:"ContextExplorer_help__23pVD",empty_toggle:"ContextExplorer_empty_toggle__29mpj",message:"ContextExplorer_message__2x4s4",expression:"ContextExplorer_expression__3MKM4"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",yellow:"Sticky_yellow__39XW4",color_option:"Sticky_color_option__32vU5",sticky:"Sticky_sticky__3QUKK",blue:"Sticky_blue__3s2JL",purple:"Sticky_purple__278EO",gray:"Sticky_gray__39re9",green:"Sticky_green__3BQ0M",color_chooser_container:"Sticky_color_chooser_container__2lT4F",color_chooser:"Sticky_color_chooser__3Jbqj",sticky_container:"Sticky_sticky_container__CAgg9",selected:"Sticky_selected__1Ra33",removal:"Sticky_removal__2Ktvw",title_wrapper:"Sticky_title_wrapper__2QWs9",remove_button:"Sticky_remove_button__2jDO8",title:"Sticky_title__1kkPN",confirmation:"Sticky_confirmation__wEJ6P",body_wrapper:"Sticky_body_wrapper__3vHL0",body:"Sticky_body__18mNO"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",node_container:"Node_node_container__2eaRs",uuid:"Node_uuid__1gU_w",ghost:"Node_ghost__1rJWj",nondragged:"Node_nondragged__3odZa",selected:"Node_selected__1ck3F",node:"Node_node__2ympr",immutable:"Node_immutable__2NDYM",save_as:"Node_save_as__27Fv-",save_result:"Node_save_result__cnC6y",result_name:"Node_result_name__1F10Q",cropped:"Node_cropped__3mV37",exit_table:"Node_exit_table__3NybR",exits:"Node_exits__3zABv",add:"Node_add__3PamH",drag_group:"Node_drag_group__1h4JV",flow_start:"Node_flow_start__2ZLmX",flow_start_message:"Node_flow_start_message__21Gdu",active:"Node_active__31xXM",pulse:"Node_pulse__14AYP"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",random:"shared_random__URuHQ",issues:"shared_issues__2JPEb",header:"shared_header__whMnp",icon:"shared_icon__1igRB",title:"shared_title__1WSZR",summary:"shared_summary__1XTGq",issue_help:"shared_issue_help__1XuTL",wait_for_audio:"shared_wait_for_audio__1LjH-",wait_for_image:"shared_wait_for_image__3VU9W",wait_for_video:"shared_wait_for_video__1nv-a",wait_for_location:"shared_wait_for_location__2al5E",wait_for_menu:"shared_wait_for_menu__hot7M",wait_for_digits:"shared_wait_for_digits__35WPZ",wait_for_response:"shared_wait_for_response__ZKUbx",wait_for_dial:"shared_wait_for_dial__NMK7W",add_contact_groups:"shared_add_contact_groups__2dqfS",remove_contact_groups:"shared_remove_contact_groups__1dJrQ",send_email:"shared_send_email__dY51y",send_broadcast:"shared_send_broadcast__3LXs5",msg:"shared_msg__28OwU",say_msg:"shared_say_msg__2U3R0",send_msg:"shared_send_msg__2tEfv",open_ticket:"shared_open_ticket__2NPzK",transfer_airtime:"shared_transfer_airtime__1H5tV",enter_flow:"shared_enter_flow__XHnXb",start_session:"shared_start_session__1f3aq",set_run_result:"shared_set_run_result__1QltP",add_input_labels:"shared_add_input_labels__2pTX0",add_contact_urn:"shared_add_contact_urn__3nXG-",set_contact_name:"shared_set_contact_name__KV1Re",set_contact_field:"shared_set_contact_field__3VSZH",set_contact_language:"shared_set_contact_language__4ZBkW",set_contact_status:"shared_set_contact_status__2iexL",set_contact_channel:"shared_set_contact_channel__3NhjI",play_audio:"shared_play_audio__2OF7K",missing:"shared_missing__2oICX",missing_asset:"shared_missing_asset__b9Nts",call_classifier:"shared_call_classifier__3zcuw",split_by_random:"shared_split_by_random__Zh1SY",split_by_expression:"shared_split_by_expression__3k23C",split_by_groups:"shared_split_by_groups__5EnH4",split_by_contact_field:"shared_split_by_contact_field__1XjX5",split_by_intent:"shared_split_by_intent__1H9sN",split_by_run_result:"shared_split_by_run_result__X4-Wp",split_by_scheme:"shared_split_by_scheme__3L9lW",call_resthook:"shared_call_resthook__16wqp",call_webhook:"shared_call_webhook__1h1Cb",breaks:"shared_breaks__2F4AL",url:"shared_url__1vtQK",node_asset:"shared_node_asset__2MOdQ",node_group:"shared_node_group__ju7iK",node_label:"shared_node_label__1lQNA",advanced_title:"shared_advanced_title__2auaT",alert:"shared_alert__1JnkA"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",action:"Action_action__NVQRK",has_router:"Action_has_router__1Ad-S",body:"Action_body__RtQCZ",add_contact_urn:"Action_add_contact_urn__3Z706",add_input_labels:"Action_add_input_labels__3IeO3",send_msg:"Action_send_msg__1QYPk",set_contact_field:"Action_set_contact_field__1HDvu",set_contact_name:"Action_set_contact_name__1woBb",call_webhook:"Action_call_webhook__2kR_s",call_resthook:"Action_call_resthook__2zGlX",set_contact_language:"Action_set_contact_language__G9Ko5",set_contact_status:"Action_set_contact_status__2inqU",set_contact_channel:"Action_set_contact_channel__1YEwX",add_contact_groups:"Action_add_contact_groups__3H0fU",remove_contact_groups:"Action_remove_contact_groups__3h7vs",play_audio:"Action_play_audio__ShGHx",say_msg:"Action_say_msg__3CqFc",set_run_result:"Action_set_run_result__1CLz_",send_email:"Action_send_email__2MDnO",send_broadcast:"Action_send_broadcast__1SCyf",transfer_airtime:"Action_transfer_airtime__2LvoA",open_ticket:"Action_open_ticket__3afC2",missing:"Action_missing__1Ghl9",enter_flow:"Action_enter_flow__2ogxI",call_classifier:"Action_call_classifier__tKBlJ",start_session:"Action_start_session__1yM-7",not_localizable:"Action_not_localizable__2rKMk",overlay:"Action_overlay__ZEDK0",immutable:"Action_immutable__qAZdN",translate_from:"Action_translate_from__3BID_",translate_to:"Action_translate_to__TPeJw",translating:"Action_translating__2n0n7",missing_localization:"Action_missing_localization__1zslf",localized:"Action_localized__3Mwip"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",group:"CaseElement_group__1fyWB",divider:"CaseElement_divider__mkeU9",kase:"CaseElement_kase__2vP_O",has_intent:"CaseElement_has_intent__z8znp",choice:"CaseElement_choice__2RZct",has_top_intent:"CaseElement_has_top_intent__3fsYv",multi_operand:"CaseElement_multi_operand__eTLuc",form_group:"CaseElement_form_group__1PJTx",single_operand:"CaseElement_single_operand__o0kaN",categorize_as:"CaseElement_categorize_as__XFySp",category:"CaseElement_category__2yfW1",remove_icon:"CaseElement_remove_icon__1PFzv",dnd_icon:"CaseElement_dnd_icon__wjvHF",relative_date:"CaseElement_relative_date__DGZXt",empty:"CaseElement_empty__35kBB"}},,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",link:"WebhookRouterForm_link__1jXIk",info:"WebhookRouterForm_info__qgGFO",method:"WebhookRouterForm_method__1IR0U",url:"WebhookRouterForm_url__T29iJ",code:"WebhookRouterForm_code__3x1A-",instructions:"WebhookRouterForm_instructions__3LG_X",headers_title:"WebhookRouterForm_headers_title__1GMIG",remove_ico:"WebhookRouterForm_remove_ico__l-jUh",example:"WebhookRouterForm_example__1ev4D",header:"WebhookRouterForm_header__2waYT",header_name:"WebhookRouterForm_header_name__3eQVG",header_value:"WebhookRouterForm_header_value__1Fxrk",body_form:"WebhookRouterForm_body_form__3BHas",req_body:"WebhookRouterForm_req_body__1rKz_"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",hidden:"RevisionExplorer_hidden__N5tXK",mask:"RevisionExplorer_mask__14GgE",visible:"RevisionExplorer_visible__365U6",explorer_wrapper:"RevisionExplorer_explorer_wrapper__3FIUU",explorer:"RevisionExplorer_explorer__1yYSY",revisions:"RevisionExplorer_revisions__1nYCu",revision:"RevisionExplorer_revision__3f_kl",selected:"RevisionExplorer_selected__2zSg4",button:"RevisionExplorer_button__2srjQ",current:"RevisionExplorer_current__Zlqcr",created_on:"RevisionExplorer_created_on__qKoNX",email:"RevisionExplorer_email__Z9xlH"}},,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",translating_categories:"RouterLocalizationForm_translating_categories__34-3g",translating_category:"RouterLocalizationForm_translating_category__1GtBO",translating_from:"RouterLocalizationForm_translating_from__1jvjb",translating_to:"RouterLocalizationForm_translating_to__1m7uk",translating_operator_title:"RouterLocalizationForm_translating_operator_title__3vA3V",translating_operator_instructions:"RouterLocalizationForm_translating_operator_instructions___Yv3N",translating_operator_container:"RouterLocalizationForm_translating_operator_container__39jsM",translating_operator:"RouterLocalizationForm_translating_operator__AgpTS",translating_list_container:"RouterLocalizationForm_translating_list_container__3468q",scrolling:"RouterLocalizationForm_scrolling__3CUVQ",translating_item_list:"RouterLocalizationForm_translating_item_list__Bfdil"}},,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",pop_wrapper:"PopTab_pop_wrapper__2kOzQ",visible:"PopTab_visible__2udNm",popped:"PopTab_popped__2Imlz",tab_wrapper:"PopTab_tab_wrapper__3n1QM",tab:"PopTab_tab__2Rm5M",label:"PopTab_label__nf1JX",icon:"PopTab_icon__irClb",custom:"PopTab_custom__V0KHJ",header:"PopTab_header__1NqmE",body:"PopTab_body__3gIi4",header_label:"PopTab_header_label__2YD7z",close:"PopTab_close__3O5BS"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",delimited:"ResultRouterForm_delimited__D-_e5",non_delimited:"ResultRouterForm_non_delimited__yDNVq",lead_in_sub:"ResultRouterForm_lead_in_sub__3oqJC",result_select:"ResultRouterForm_result_select__1cu2c",result_select_delimited:"ResultRouterForm_result_select_delimited__f-y6Z",should_delimit:"ResultRouterForm_should_delimit__1Z8-4",field_number:"ResultRouterForm_field_number__2WFxV",delimiter:"ResultRouterForm_delimiter__2i5Hr"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",titlebar:"TitleBar_titlebar__1_zDw",titletext:"TitleBar_titletext__3s2we",normal:"TitleBar_normal__z0QaD",remove_confirm:"TitleBar_remove_confirm__3ywj-",remove_button:"TitleBar_remove_button__2lO9D",up_button:"TitleBar_up_button__2Imiq"}},,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",ele:"FormElement_ele__1FpYO",border:"FormElement_border__3bx0s",error_list:"FormElement_error_list__1SrT3",error:"FormElement_error__1Peb9",arrow_up:"FormElement_arrow_up__2HvAv",send_msg_error:"FormElement_send_msg_error__3LIUw",label:"FormElement_label__2dN0p",invalid:"FormElement_invalid__1fOa-",help_text:"FormElement_help_text__a6EcV"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",hidden:"IssuesTab_hidden__1l3_C",message:"IssuesTab_message__AofWc",header:"IssuesTab_header__273ne",issues_wrapper:"IssuesTab_issues_wrapper__3mP8X",language:"IssuesTab_language__3MoIp",mask:"IssuesTab_mask__1b_sl",visible:"IssuesTab_visible__2FRUR"}},,,function(e,t,a){e.exports={type_choice:"attachments_type_choice__31BXM",url_attachment:"attachments_url_attachment__15n4A",remove_upload:"attachments_remove_upload__2daMZ",url:"attachments_url__3D2oV",remove:"attachments_remove__2fxS5"}},,,,,function(e,t,a){e.exports={player:"MediaPlayer_player__gYGWS",playing:"MediaPlayer_playing__2Jrw_",button:"MediaPlayer_button__rRXz1",circles:"MediaPlayer_circles__1pr_0",circle_background:"MediaPlayer_circle_background__OMPcS",circle_foreground:"MediaPlayer_circle_foreground__1L6K9"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",drag_helper:"DragHelper_drag_helper__a_fFa",visible:"DragHelper_visible__1Z4lg",arrow:"DragHelper_arrow__YH1ED",tail:"DragHelper_tail__12x7O",help_text:"DragHelper_help_text__2luNE",head:"DragHelper_head__3ViUG",bold:"DragHelper_bold__2v--u"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",editor:"components_editor__36a9s",translating:"components_translating__1uBgy",footer:"components_footer__1OFgP",download_button:"components_download_button__392jz",alert_body:"components_alert_body__2Bxt0",alert_modal:"components_alert_modal__3xFu-",saving:"components_saving__1mebj"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",quick_replies:"SendMsg_quick_replies__2bre8",attachment:"SendMsg_attachment__1JoQl",summary:"SendMsg_summary__2c05X",whatsapp:"SendMsg_whatsapp__2O95I",facebook:"SendMsg_facebook__30JZ8",line:"SendMsg_line__LMI4I"}},,,,function(e,t,a){e.exports={label:"CheckboxElement_label__3vFGD",title:"CheckboxElement_title__3QShp",description:"CheckboxElement_description__3BguK",description_solo:"CheckboxElement_description_solo__2o0rh"}},function(e,t,a){e.exports={form_element:"CurrencyElement_form_element__F0wio",transfer:"CurrencyElement_transfer__1IAVm",currency:"CurrencyElement_currency__278L2",amount:"CurrencyElement_amount__fJKsJ",remove:"CurrencyElement_remove__3D5_y"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",options:"RandomRouterForm_options__1AgXA",bucket_select:"RandomRouterForm_bucket_select__5jt8Q",bucket_list:"RandomRouterForm_bucket_list__14I85",bucket_name:"RandomRouterForm_bucket_name__t3I5z"}},function(e,t,a){e.exports={params:"SubflowRouterForm_params__2LM8K",param:"SubflowRouterForm_param__Vq8O7",param_name:"SubflowRouterForm_param_name__1GlRT",param_input:"SubflowRouterForm_param_input__2fL5q"}},,,,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",btn:"Button_btn__1hdG6",disabled:"Button_disabled__xk6Qi",primary:"Button_primary__3PDu-",active:"Button_active__3BxT0",secondary:"Button_secondary__1LfJY",tertiary:"Button_tertiary__3UJsa"}},,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",pill:"Pill_pill__3FyMl",clickable:"Pill_clickable__24gn3",icon:"Pill_icon__QZrb0",large:"Pill_large__3mcHa"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",recipients:"SendBroadcast_recipients__1ZSQV",node:"SendBroadcast_node__26RLX",to:"SendBroadcast_to__25_7K",name:"SendBroadcast_name__RNJWu",icon:"SendBroadcast_icon__2YfpF",more:"SendBroadcast_more__11MJm",message:"SendBroadcast_message__6ZIco",line:"SendBroadcast_line__3Dm3R"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",case_list_container:"CaseList_case_list_container__3PSnP",scrolling:"CaseList_scrolling__2HZTN",case_list:"CaseList_case_list__8CbuZ",kase:"CaseList_kase__1FwXZ",dnd_icon:"CaseList_dnd_icon__2Hrke"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",lead_in:"MenuRouterForm_lead_in__253j6",digit:"MenuRouterForm_digit__ruJhi",category:"MenuRouterForm_category__2Khjv",menu:"MenuRouterForm_menu__OrNSa",menu_option:"MenuRouterForm_menu_option__2e-jl"}},function(e,t,a){e.exports={timeout_control_container:"TimeoutControl_timeout_control_container__ChGjA",left_section:"TimeoutControl_left_section__23W9H",label:"TimeoutControl_label__3L-JA",checkbox:"TimeoutControl_checkbox__NYV4k",drop_down:"TimeoutControl_drop_down__2Yy9r"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",canvas_background:"Canvas_canvas_background__3UutW",canvas:"Canvas_canvas__XH7zY",drag_selection:"Canvas_drag_selection__3wxA2"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",language:"LanguageSelector_language__3Q3TZ",language_link:"LanguageSelector_language_link__32yIO",active:"LanguageSelector_active__3RqNy",separator:"LanguageSelector_separator__2oanc"}},,,,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13"}},function(e,t,a){e.exports={ele:"SendEmailForm_ele__2CvL5",subject:"SendEmailForm_subject__U7jTR",message:"SendEmailForm_message__1k6GE"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",checkbox:"SendMsgForm_checkbox__-JOyy",quick_reply_summary:"SendMsgForm_quick_reply_summary__DkA4i",existing_quick_replies:"SendMsgForm_existing_quick_replies__W866I",existing_quick_reply:"SendMsgForm_existing_quick_reply__2C65m",add_quick_replies:"SendMsgForm_add_quick_replies__3vLIC",template_text:"SendMsgForm_template_text__1zkKJ",variable:"SendMsgForm_variable__3mVDI"}},function(e,t,a){e.exports={form:"SetRunResultForm_form__HNnt4",name:"SetRunResultForm_name__1aW9R",value:"SetRunResultForm_value__36pab",category:"SetRunResultForm_category__TuHWy"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",node:"StartSession_node__d1IsL",to:"StartSession_to__2uqPY",name:"StartSession_name__HfSVl",icon:"StartSession_icon__1l-0q",more:"StartSession_more__8uoUD",message:"StartSession_message__1KRsK",flow:"StartSession_flow__zPhXS"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",counter:"Counter_counter__1_pCt",visible:"Counter_visible__3Avdq",clickable:"Counter_clickable__3pprF"}},function(e,t,a){e.exports={wrapper:"MountScroll_wrapper__1Stx4",pulse:"MountScroll_pulse__uwbnk",pulse_animation:"MountScroll_pulse_animation__2SL8_"}},,,,,,,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",small:"TembaSelect_small__1oIi4",normal:"TembaSelect_normal__3v4Gh",error:"TembaSelect_error__118Nd"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",small:"TextInputElement_small__2eK3R",medium:"TextInputElement_medium__3xfPt",option_list:"TextInputElement_option_list__18zXF",option_summary:"TextInputElement_option_summary__qaT6A",option_signature:"TextInputElement_option_signature__3c1zs",option:"TextInputElement_option__5N_r_",selected:"TextInputElement_selected__2bCI1",first_option:"TextInputElement_first_option__2owME",fn_marker:"TextInputElement_fn_marker__38I-n",function_help:"TextInputElement_function_help__2jwVQ",completion_container:"TextInputElement_completion_container__3c00R",options_wrapper:"TextInputElement_options_wrapper__2knDu",fn_container:"TextInputElement_fn_container__3tmtw",option_name:"TextInputElement_option_name__2G-0k",option_examples:"TextInputElement_option_examples__2l6sa",example_header:"TextInputElement_example_header__3a5qK",example:"TextInputElement_example__3MAGO",fn_signature:"TextInputElement_fn_signature__efYOL",wrapper:"TextInputElement_wrapper__1q0lN",help:"TextInputElement_help__1dGMQ",hidden:"TextInputElement_hidden__3Xul8",textinput:"TextInputElement_textinput__2eOxW"}},function(e,t,a){e.exports={scheme_selection:"AddURNForm_scheme_selection__3qqeb",path:"AddURNForm_path__vTuFJ"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",text:"SayMsg_text__2WoYr",recording:"SayMsg_recording__3JHw8"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",code:"TransferAirtime_code__3WV9i",amount:"TransferAirtime_amount__3mMNG"}},function(e,t,a){e.exports={optional_text_input:"OptionalTextInput_optional_text_input__N6zb8",toggle_link:"OptionalTextInput_toggle_link__3-B4a"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",errors:"ValidationFailures_errors__3qGX8",error:"ValidationFailures_error__2Q3Gg"}},,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",lead_in:"FieldRouterForm_lead_in__ShYLI",field_select:"FieldRouterForm_field_select__n0Csy"}},,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",draggable:"CanvasDraggable_draggable__cqsGq",selected:"CanvasDraggable_selected__2GgF7"}},,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/map.5e547148.jpg"},,,,,,,,function(e){e.exports=JSON.parse('{"actions":{"add_contact_groups":{"description":"Add the contact to a group","name":"Add to Group"},"add_contact_urn":{"description":"Add a URN for the contact","name":"Add URN"},"add_input":{"description":"Label the incoming message","name":"Add Labels"},"call_resthook":{"description":"Call Zapier","name":"Call Zapier"},"call_webhook":{"description":"Call a webhook","name":"Call Webhook"},"enter_flow":{"description":"Enter another flow","name":"Enter a Flow"},"open_ticket":{"description":"Open a ticket with a human agent","name":"Open Ticket"},"play_audio":{"description":"Play a contact recording","name":"Play Recording"},"play_message":{"description":"Play a message","name":"Play Message"},"remove_contact_groups":{"description":"Remove the contact from a group","name":"Remove from Group"},"say_msg":{"placeholder":"Send a message to the contact"},"send_broadcast":{"description":"Send somebody else a message","name":"Send Broadcast","placeholder":"Send a message to the contact"},"send_email":{"description":"Send an email","name":"Send Email"},"send_msg":{"description":"Send the contact a message","name":"Send Message","placeholder":"Send a message to the contact"},"set_contact_field":{"description":"Update the contact","name":"Update Contact"},"set_run_result":{"description":"Save a result for this flow","name":"Save Flow Result"},"split_by_contact_field":{"description":"Split by a contact field","name":"Split by Contact Field"},"split_by_expression":{"description":"Split by a custom expression","name":"Split by Expression"},"split_by_groups":{"description":"Split by group membership","name":"Split by Group Membership"},"split_by_intent":{"description":"Split by intent","name":"Split by Intent"},"split_by_random":{"description":"Split by random chance","name":"Split Randomly"},"split_by_run_result":{"description":"Split by a result in the flow","name":"Split by Flow Result"},"split_by_scheme":{"description":"Split by URN type","name":"Split by URN Type"},"start_session":{"description":"Start somebody else in a flow","name":"Start Somebody Else"},"transfer_airtime":{"description":"Send the contact airtime","name":"Send Airtime"},"wait_for_audio":{"description":"Wait for an audio recording","name":"Wait for Audio"},"wait_for_dial":{"description":"Wait for forwarded call to someone else","name":"Wait for Forwarded Call"},"wait_for_digits":{"description":"Wait for multiple digits","name":"Wait for Digits"},"wait_for_image":{"description":"Wait for an image","name":"Wait for Image"},"wait_for_location":{"description":"Wait for location GPS coordinates","name":"Wait for Location"},"wait_for_menu":{"description":"Wait for menu selection","name":"Wait for Menu Selection"},"wait_for_response":{"description":"Wait for the contact to respond","name":"Wait for Response"},"wait_for_video":{"description":"Wait for a video","name":"Wait for Video"}},"add":"Add","asset_selector":{"placeholder":"Select existing [[name]] or enter a new one","placeholder_plural":"Select existing [[name]] or enter a new one"},"assets":{"classifier":"Call [[name]] classifier","ticketer":"Open a new Ticket on [[name]]"},"body":"Body","buttons":{"cancel":"Cancel","create_message":"Create Message","download":"Download","ok":"Ok"},"contact_statuses":{"active":"Active","archived":"Archived - remove from groups, ignore forever","blocked":"Blocked - remove from groups, ignore forever","stopped":"Stopped - remove from groups, ignore until they message again"},"context_explorer":{"copied_expression":"Copied <1>[[expression]]</1> to clipboard","hide_empty":"Showing keys with values","show_empty":"Showing all keys"},"create_label":"Create Label","document":"Document","drag_helper":"To connect nodes, <1>drag</1> from the red circle.","email":{"subject":"Subject","to":"To"},"empty_flow_message":"<0>Let\'s get started</0><1>We recommend starting your flow by sending a message. This message will be sent to anybody right after they join the flow. This is your chance to send a single message or ask them a question.</1>","enter_to_create_group":"Enter a name to create a new group","enter_to_create_label":"Enter the name of an existing label or create a new one","errors":{"group_not_found":"Enter the name of an existing group","http_header_missing_name":"HTTP headers must have a name","network":"Hmm, we ran into a problem trying to save your changes. It could just be that your internet connection is not working well at the moment. Please wait a minute or so and try again.","server":"Hmm, we ran into a problem trying to save your changes. If this problem persists, take note of the change you are trying to make and contact support."},"flow_start":"Flow Start","forms":{"add_attachment":"Add Attachment","add_groups_summary":"Select the groups to add the contact to.","add_labels_summary":"Select the labels to apply to the incoming message.","add_quick_reply":"Add a new Quick Reply and press enter.","add_urn_summary":"Add a new URN to reach the contact such as a phone number.","advanced":"Advanced","all_destinations":"All Destinations","all_destinations_description":"Send a message to all destinations known for this contact. If you aren\'t sure what this means, leave it unchecked.","and":"and","are_required":"are required","arguments":"arguments","attachments":"Attachments","audio_url":"Audio URL","body":"Body","buckets":"Buckets","categories":"categories","categorize_as":"categorize as","category":"Category","channel":"Channel","channel_type":"Channel Type","classifier":"Classifier","clear":"Clear","confidence":"confidence","contact_field":"Contact Field","contact_query":"Contact Query","continue_when_no_response":"Continue when there is no response","create_group":"Create Group","create_prefix":"New: ","currency":"Currency","day":"day","days":"days","delimit":"Delimit","delimit_result":"Delimit Result","delimit_result_description":"Evaluate your rules against a delimited part of your result","delimiter":"Delimiter","district":"District","email_recipient_name":"Recipient","email_recipient_placeholder":"To","email_recipient_prompt":"Enter email address","enter_a_body":"Enter a body","enter_a_subject":"Enter a subject","enter_a_url":"Enter a URL","enter_field_value":"Enter a new value for [[field]]","enter_flow_parameters_summary":"<0>[[flow]]</0> expects the following parameters to be set by this flow. These can be set using a <4>Save Flow Result</4> action or directly below.","enter_flow_parameters_tab":"Parameters","enter_new_name":"Enter a new name for the contact","enter_urn_value":"Enter the URN value","exit_name":"Exit Name","expression_label":"If the expression...","field_number":"Field Number","field_value":"Field Value","flow":"Flow","flow_result":"Flow Result","groups":"Groups","header_name":"Header name","http_headers":"HTTP Headers","image_url":"Image URL","intent":"Intent","is_not_a_valid_regex":"is not a valid regex","is_not_finished":"is not finished","is_required":"is required","labels":"Labels","language":"Language","localize_rules":"Sometimes languages need special rules to route things properly. If a translation is not provided, the original rule will be used.","localized_quick_replies":"Add a new [[language]] Quick Reply and press enter.","maximum_value":"Maximum value","message":"Message","message_label":"If the message response...","method":"Method","minimum_value":"Minimum value","must_be_less_than":"must be less than","name":"Name","operand":"Operand","operator":"operator","pdf_url":"PDF Document URL","phone_number":"Phone Number","play_audio_help_text":"Enter a variable that contains a recording the contact has previously recorded. For example, @results.voicemail or @fields.short_bio.","quick_replies":"Quick Replies","quick_replies_summary":"Quick Replies are made into buttons for supported channels. For example, when asking a question, you might add a Quick Reply for \\"Yes\\" and one for \\"No\\".","quick_reply":"Quick Reply","recipients":"Recipients","recording":"Recording","recording_label":"Previous Recording","remove_from_all_label":"Remove from all","remove_from_all_summary":"Remove the active contact from all groups they\'re a member of.","remove_groups_placeholder":"Enter the name of an existing group","remove_groups_summary":"Select the groups to remove the contact from.","remove_value":"Remove Value","resthook":"Resthook","resthook_to_call":"Select the resthook to call","result":"Result","result_category_help":"An optional category for your result. For age, the value might be 17, but the category might be \'Young Adult\'","result_name":"Result Name","result_name_help":"By naming the result, you can reference it later using [[resultFormat]]","result_to_split_on":"Result to split on","result_value_help":"The value to save for this result or empty to clears it. You can use expressions, for example: @(title(input))","rules":"rules","save_as":"Save as","save_as_title":"Save as..","save_result_name":"Result Name","select_channel":"Select the channel to use for this contact","select_contacts":"Select Contacts","select_flow":"Select the flow to start","select_groups":"Select Groups","select_intent":"Select intent","select_language":"Select the language to use for this contact","select_result":"Select Result","select_what_to_update":"Select what to update","select_who_to_start":"Select who should be started in the flow","send_msg_facebook_topic_placeholder":"Select a topic to use over Facebook","send_msg_facebook_warning":"Sending bulk messages over a Facebook channel requires that a topic be specified if the user has not sent a message in the last 24 hours. Setting a topic to use over Facebook is especially important for the first message in your flow.","send_msg_summary":"Add an attachment to each message. The attachment can be a file you upload or a dynamic URL using expressions and variables from your Flow.","send_msg_summary_plural":"Add an attachment to each message. The attachment can be a file you upload or a dynamic URL using expressions and variables from your Flow.","split_by_channel_placeholder":"Select the channels to split by","split_by_groups":"Select the groups you\'d like to split by below","split_by_scheme":"Channel types","split_by_scheme_summary":"The contact\'s URN is the address they used to reach you such as their phone number or a Facebook ID. Select which URN types to split by below.","start_type":"Start Type","start_type_create":"Create a new contact","start_type_manual":"Select recipients manually","start_type_query":"Select recipients from a query","state":"State","status":"Status","subject":"Subject","template":"template","the_maximum":"the maximum","the_minimum":"the minimum","ticketer":"Ticketer","timeout":"Timeout","timeout_1 day":"1 day","timeout_1 hour":"1 hour","timeout_1 minute":"1 minute","timeout_1 week":"1 week","timeout_10 minutes":"10 minutes","timeout_12 hours":"12 hours","timeout_15 minutes":"15 minutes","timeout_18 hours":"18 hours","timeout_2 days":"2 days","timeout_2 hours":"2 hours","timeout_2 minutes":"2 minutes","timeout_3 days":"3 days","timeout_3 hours":"3 hours","timeout_3 minutes":"3 minutes","timeout_4 minutes":"4 minutes","timeout_5 minutes":"5 minutes","timeout_6 hours":"6 hours","today":"today","today_proper":"Today","translation":"Translation","type":"Type","type_label":"When a contact arrives at this point in your flow...","type_options":"Type Options","upload_attachment":"Upload Attachment","url":"URL","urn":"URN","urn_type":"URN Type","use_as_default_language":"Use as default language","value":"Value","variable":"Variable","video_url":"Video URL","webhook_body_summary":"Modify the body of the [[method]] request that will be sent to your webhook.","webhook_example":"This response would add <1>@webhook.product</1> and <4>@webhook[\\"stock level\\"]</4> for use in the flow.","webhook_header":"Header","webhook_header_name":"Header Name","webhook_header_summary":"Add any additional headers below that you would like to send along with your request.","webhook_help":"If your server responds with JSON, each property will be added to the Flow.","whatsapp_warning":"Sending messages over a WhatsApp channel requires that a template be used if you have not received a message from a contact in the last 24 hours. Setting a template to use over WhatsApp is especially important for the first message in your flow."},"issues":{"header":"Flow Issues","label":"Flow Issues","legacy_extra":"Invalid regular expression found: [[regex]]","missing_dependency":"Cannot find a [[type]] for <1>[[name]]</1>"},"operators":{"has_all_words":"has all of the words","has_any_word":"has any of the words","has_beginning":"starts with","has_category":"has the category","has_date":"has a date","has_date_category":"Has Date","has_date_eq":"has a date equal to","has_date_gt":"has a date after","has_date_lt":"has a date before","has_district":"has district","has_district_category":"Has District","has_email":"has an email","has_email_category":"Has Email","has_error":"has an error","has_error_category":"Has Error","has_group":"is in the group","has_intent":"has intent","has_number":"has a number","has_number_between":"has a number between","has_number_eq":"has a number equal to","has_number_gt":"has a number above","has_number_gte":"has a number at or above","has_number_lt":"has a number below","has_number_lte":"has a number at or below","has_only_phrase":"has only the phrase","has_pattern":"matches regex","has_phone":"has a phone number","has_phone_category":"Has Phone","has_phrase":"has the phrase","has_state":"has state","has_state_category":"Has State","has_text":"has some text","has_time":"has a time","has_top_intent":"has top intent","has_value":"is not empty","has_value_category":"Not Empty","has_ward":"has ward","has_ward_category":"Has Ward"},"recent_contacts":{"header":"Recent Contacts","header_empty":"No Recent Contacts"},"removal_confirmation":"Remove?","revisions":{"current":"current","header":"Revisions","label":"Revision History","revert":"revert"},"schemes":{"email":{"name":"Email","path":"Email Address"},"external":{"name":"External","path":"External ID"},"facebook":{"path":"Facebook"},"firebase":{"name":"Firebase","path":"Firebase ID"},"freschat":{"name":"Freshchat"},"freshchat":{"path":"Freshchat ID"},"jiochat":{"path":"Jiochat ID"},"jiojach":{"name":"Jiochat"},"line":{"name":"Line","path":"Line ID"},"phone":{"name":"SMS","path":"Phone Number"},"telegram":{"name":"Telegram","path":"Telegram ID"},"twitter":{"name":"Twitter","path":"Twitter Handle"},"twitterid":{"name":"Twitter","path":"Twitter ID"},"viber":{"name":"Viber","path":"Viber ID"},"wechat":{"name":"Wechat","path":"Wechat ID"},"whatsapp":{"name":"WhatsApp","path":"WhatsApp Number"}},"simulator":{"added_to_group":"Added to","airtime_transferred":"Transferred [[amount]] [[currency]] to [[recipient]]","contact_field_changed":"Set contact \\"[[field]]\\" to \\"[[value]]\\"","contact_field_cleared":"Cleared contact \\"[[field]]\\"","contact_language_changed":"Set preferred language to \\"[[language]]\\"","contact_name_changed":"Set contact name to \\"[[name]]\\"","contact_status_changed":"Set status to \\"[[status]]\\"","flow_entered":"Entered flow \\"[[flow]]\\"","flow_exited":"Exited flow","httplog_dialog":"HTTP Request Details","input_labels_added":"Message labeled with","label":"Run in Simulator","msg_wait":"Waiting for reply","prompt":{"message":"Enter message","restart":"Press home to start again"},"removed_from_group":"Removed from","resthook_called":"Triggered flow event \\"[[resthook]]\\"","run_result_changed":"Set result \\"[[field]]\\" to \\"[[value]]\\"","sent_email":{"summary":"Sent email to [[recipients]] with subject \\"[[subject]]\\"","title":"Email Details"},"session_triggered":"Started somebody else in \\"[[flow]]\\"","ticket_opened":"Ticket opened with topic \\"[[topic]]\\""},"sticky":{"body":"...","title":"New Note"},"translation":{"header":"Flow Translation","label":"Translations"}}')},function(e){e.exports=JSON.parse('{"actions":{"add_contact_groups":{"description":"P\u0159id\xe1n\xed kontaktu do skupiny","name":"P\u0159idat do skupiny"},"add_contact_urn":{"description":"P\u0159id\xe1n\xed URN pro kontakt","name":"P\u0159idat URN"},"add_input":{"description":"Ozna\u010den\xed p\u0159\xedchoz\xed zpr\xe1vy","name":"P\u0159idat \u0161t\xedtky"},"call_resthook":{"description":"Vol\xe1n\xed Zapier","name":"Volat Zapier"},"call_webhook":{"description":"Vol\xe1n\xed webhooku","name":"Vol\xe1n\xed webhooku"},"enter_flow":{"description":"Zadejte dal\u0161\xed tok","name":"Zadejte tok"},"open_ticket":{"description":"Otev\u0159en\xed tiketu s lidsk\xfdm agentem","name":"Otev\u0159en\xfd tiket"},"play_audio":{"description":"P\u0159ehr\xe1t z\xe1znam kontaktu","name":"P\u0159ehr\xe1t z\xe1znam"},"play_message":{"description":"P\u0159ehr\xe1t zpr\xe1vu","name":"P\u0159ehr\xe1t zpr\xe1vu"},"remove_contact_groups":{"description":"Odebr\xe1n\xed kontaktu ze skupiny","name":"Odebrat ze skupiny"},"say_msg":{"placeholder":"Odesl\xe1n\xed zpr\xe1vy kontaktu"},"send_broadcast":{"description":"Poslat n\u011bkomu jin\xe9mu zpr\xe1vu","name":"Odeslat vys\xedl\xe1n\xed","placeholder":"Odesl\xe1n\xed zpr\xe1vy kontaktu"},"send_email":{"description":"Odeslat e-mail","name":"Odeslat e-mail"},"send_msg":{"description":"Odeslat kontaktn\xed osob\u011b zpr\xe1vu","name":"Odeslat zpr\xe1vu","placeholder":"Odesl\xe1n\xed zpr\xe1vy kontaktu"},"set_contact_field":{"description":"Aktualizace kontaktu","name":"Aktualizovat kontakt"},"set_run_result":{"description":"Ulo\u017eit v\xfdsledek pro tento tok","name":"Ulo\u017eit v\xfdsledek toku"},"split_by_contact_field":{"description":"Rozd\u011blen\xed podle kontaktn\xedho pole","name":"Rozd\u011blen\xed podle pole kontaktu"},"split_by_expression":{"description":"Rozd\u011blen\xed pomoc\xed vlastn\xedho v\xfdrazu","name":"Rozd\u011blit podle v\xfdrazu"},"split_by_groups":{"description":"Rozd\u011blit podle \u010dlenstv\xed ve skupin\u011b","name":"Rozd\u011blit podle \u010dlenstv\xed ve skupin\u011b"},"split_by_intent":{"description":"Rozd\u011blit podle z\xe1m\u011bru","name":"Rozd\u011blit podle z\xe1m\u011bru"},"split_by_random":{"description":"Rozd\u011blit n\xe1hodn\u011b","name":"Rozd\u011blit n\xe1hodn\u011b"},"split_by_run_result":{"description":"Rozd\u011blit podle v\xfdsledku v toku","name":"Rozd\u011blit podle v\xfdsledku toku"},"split_by_scheme":{"description":"Rozd\u011blit podle typu URN","name":"Rozd\u011blit podle typu URN"},"start_session":{"description":"Spustit n\u011bkoho jin\xe9ho v toku","name":"Spustit n\u011bkoho jin\xe9ho"},"transfer_airtime":{"description":"Odeslat kontaktn\xed vys\xedlac\xed \u010das","name":"Odeslat vys\xedlac\xed \u010das"},"wait_for_audio":{"description":"Po\u010dkat na zvukovou nahr\xe1vku","name":"Po\u010dkat na zvuk"},"wait_for_dial":{"description":"\u010cek\xe1n\xed na p\u0159esm\u011brovan\xfd hovor na n\u011bkoho jin\xe9ho","name":"\u010cekat na p\u0159esm\u011brovan\xfd hovor"},"wait_for_digits":{"description":"\u010cek\xe1n\xed na v\xedce \u010d\xedslic","name":"Po\u010dkat na \u010d\xedslice"},"wait_for_image":{"description":"\u010cek\xe1n\xed na obr\xe1zek","name":"\u010cek\xe1n\xed na obr\xe1zek"},"wait_for_location":{"description":"\u010cek\xe1n\xed na sou\u0159adnice GPS polohy","name":"\u010cek\xe1n\xed na lokalitu"},"wait_for_menu":{"description":"\u010cek\xe1n\xed na v\xfdb\u011br nab\xeddky","name":"\u010cek\xe1n\xed na v\xfdb\u011br nab\xeddky"},"wait_for_response":{"description":"\u010cek\xe1n\xed na odpov\u011b\u010f kontaktu","name":"\u010cek\xe1n\xed na odpov\u011b\u010f"},"wait_for_video":{"description":"\u010cek\xe1n\xed na video","name":"Po\u010dkat na video"}},"add":"P\u0159idat","asset_selector":{"placeholder":"Vyberte st\xe1vaj\xedc\xed [[name]] nebo zadejte nov\xe9.","placeholder_plural":"Vyberte st\xe1vaj\xedc\xed [[name]] nebo zadejte nov\xe9."},"assets":{"classifier":"Vol\xe1n\xed klasifik\xe1toru [[name]]","ticketer":"Otev\u0159\xedt nov\xfd tiket na [[name]]"},"body":"T\u011blo","buttons":{"cancel":"Zru\u0161it","create_message":"Vytvo\u0159it zpr\xe1vu","download":"St\xe1hnout","ok":"Ok"},"contact_statuses":{"active":"Aktivn\xed","archived":"Archivov\xe1no - odstranit ze skupin, nav\u017edy ignorovat","blocked":"Blokov\xe1no - odstranit ze skupin, nav\u017edy ignorovat","stopped":"Zastaveno - odstranit ze skupin, ignorovat, dokud se znovu neozvou."},"context_explorer":{"copied_expression":"Zkop\xedrov\xe1n\xed <1>[[expression]]</1> do schr\xe1nky","hide_empty":"Zobrazen\xed kl\xed\u010d\u016f s hodnotami","show_empty":"Zobrazen\xed v\u0161ech kl\xed\u010d\u016f"},"create_label":"Vytvo\u0159it \u0161t\xedtek","document":"Dokument","drag_helper":"Uzly spoj\xedte <1>p\u0159eta\u017een\xedm</1> z \u010derven\xe9ho kruhu.","email":{"subject":"P\u0159edm\u011bt","to":"k "},"empty_flow_message":"<0>Za\u010dn\u011bme</0><1>Doporu\u010dujeme za\u010d\xedt tok zasl\xe1n\xedm zpr\xe1vy. Tato zpr\xe1va bude odesl\xe1na komukoli ihned pot\xe9, co se p\u0159ipoj\xed k toku. To je va\u0161e p\u0159\xedle\u017eitost poslat jim jednu zpr\xe1vu nebo jim polo\u017eit ot\xe1zku.</1>","enter_to_create_group":"Zad\xe1n\xedm n\xe1zvu vytvo\u0159\xedte novou skupinu","enter_to_create_label":"Zadejte n\xe1zev existuj\xedc\xedho \u0161t\xedtku nebo vytvo\u0159te nov\xfd.","errors":{"group_not_found":"Zadejte n\xe1zev existuj\xedc\xed skupiny","http_header_missing_name":"Hlavi\u010dky HTTP mus\xed m\xedt n\xe1zev","network":"P\u0159i pokusu o ulo\u017een\xed zm\u011bn jsme narazili na probl\xe9m. Je mo\u017en\xe9, \u017ee va\u0161e internetov\xe9 p\u0159ipojen\xed moment\xe1ln\u011b nefunguje dob\u0159e. Po\u010dkejte pros\xedm asi minutu a zkuste to znovu.","server":"P\u0159i pokusu o ulo\u017een\xed zm\u011bn jsme narazili na probl\xe9m. Pokud tento probl\xe9m p\u0159etrv\xe1v\xe1, poznamenejte si zm\u011bnu, kterou se sna\u017e\xedte prov\xe9st, a kontaktujte podporu."},"flow_start":"Spu\u0161t\u011bn\xed toku","forms":{"add_attachment":"P\u0159idat p\u0159\xedlohu","add_groups_summary":"Vyberte skupiny, do kter\xfdch chcete kontakt p\u0159idat.","add_labels_summary":"Vyberte \u0161t\xedtky, kter\xe9 chcete pou\u017e\xedt na p\u0159\xedchoz\xed zpr\xe1vu.","add_quick_reply":"P\u0159idejte novou rychlou odpov\u011b\u010f a stiskn\u011bte kl\xe1vesu enter.","add_urn_summary":"P\u0159idejte nov\xfd URN pro dosa\u017een\xed kontaktu, nap\u0159\xedklad telefonn\xed \u010d\xedslo.","advanced":"Pokro\u010dil\xe9","all_destinations":"V\u0161echny destinace","all_destinations_description":"Odesl\xe1n\xed zpr\xe1vy na v\u0161echna m\xedsta ur\u010den\xed zn\xe1m\xe1 pro tento kontakt. Pokud si nejste jisti, co to znamen\xe1, nechte tuto mo\u017enost neza\u0161krtnutou.","and":"a ","are_required":"jsou vy\u017eadov\xe1ny","arguments":"argumenty","attachments":"P\u0159\xedlohy","audio_url":"Audio URL","body":"Body","buckets":"Z\xe1sobn\xedky","categories":"kategorie","categorize_as":"kategorizovat jako","category":"Kategorie","channel":"Kan\xe1l","channel_type":"Typ kan\xe1lu","classifier":"Klasifik\xe1tor","clear":"Vymazat","confidence":"d\u016fv\u011bra","contact_field":"Kontaktn\xed pole","contact_query":"Kontaktn\xed dotaz","continue_when_no_response":"Pokra\u010dovat, kdy\u017e nedostanete \u017e\xe1dnou odpov\u011b\u010f","create_group":"Vytvo\u0159it skupinu","create_prefix":"Nov\xfd: ","currency":"M\u011bna","day":"den","days":"dny","delimit":"Vymezen\xed","delimit_result":"Vymezen\xed v\xfdsledku","delimit_result_description":"Vyhodno\u0165te sv\xe1 pravidla v\u016f\u010di ohrani\u010den\xe9 \u010d\xe1sti va\u0161eho v\xfdsledku","delimiter":"Odd\u011blova\u010d","district":"Okres","email_recipient_name":"P\u0159\xedjemce","email_recipient_placeholder":"Komu","email_recipient_prompt":"Zadejte e-mailovou adresu","enter_a_body":"Zadejte obsah zpr\xe1vy","enter_a_subject":"Zadejte p\u0159edm\u011bt","enter_a_url":"Zadejte URL","enter_field_value":"Zadejte novou hodnotu pro [[field]]","enter_flow_parameters_summary":"<0>[[flow]]</0> o\u010dek\xe1v\xe1, \u017ee tento tok nastav\xed n\xe1sleduj\xedc\xed parametry. Ty lze nastavit pomoc\xed akce <4>Ulo\u017eit v\xfdsledek toku</4> nebo p\u0159\xedmo n\xed\u017ee.","enter_flow_parameters_tab":"Parametry","enter_new_name":"Zadejte nov\xe9 jm\xe9no pro kontakt","enter_urn_value":"Zadejte hodnotu URN","exit_name":"N\xe1zev v\xfdstupu","expression_label":"Pokud je v\xfdraz...","field_number":"\u010c\xedslo pole","field_value":"Hodnota pole","flow":"Tok","flow_result":"V\xfdsledek toku","groups":"Skupiny","header_name":"N\xe1zev z\xe1hlav\xed","http_headers":"HTTP z\xe1hlav\xed","image_url":"URL obr\xe1zku","intent":"Z\xe1m\u011br","is_not_a_valid_regex":"nen\xed platn\xfd regul\xe1rn\xed v\xfdraz","is_not_finished":"nen\xed dokon\u010deno","is_required":"je vy\u017eadov\xe1no","labels":"\u0160t\xedtky","language":"Jazyk","localize_rules":"N\u011bkdy jazyky pot\u0159ebuj\xed speci\xe1ln\xed pravidla pro spr\xe1vn\xe9 sm\u011brov\xe1n\xed. Pokud p\u0159eklad nen\xed k dispozici, pou\u017eije se p\u016fvodn\xed pravidlo.","localized_quick_replies":"P\u0159idejte novou rychlou odpov\u011b\u010f v jazyce [[language]] a stiskn\u011bte enter.","maximum_value":"Maxim\xe1ln\xed hodnota","message":"Zpr\xe1va","message_label":"Pokud je odpov\u011b\u010f na zpr\xe1vu...","method":"Metoda","minimum_value":"Minim\xe1ln\xed hodnota","must_be_less_than":"mus\xed b\xfdt men\u0161\xed ne\u017e","name":"N\xe1zev","operand":"Operand","operator":"oper\xe1tor","pdf_url":"URL adresa PDF dokumentu","phone_number":"Telefonn\xed \u010d\xedslo","play_audio_help_text":"Zadejte prom\u011bnnou, kter\xe1 obsahuje z\xe1znam, kter\xfd kontakt byl d\u0159\xedve zaznamenan\xfd. Nap\u0159\xedklad @results.voicemail nebo @fields.short_bio.","quick_replies":"Rychl\xe9 odpov\u011bdi","quick_replies_summary":"Rychl\xe9 odpov\u011bdi jsou vytvo\u0159eny jako tla\u010d\xedtka pro podporovan\xe9 kan\xe1ly. Nap\u0159\xedklad p\u0159i polo\u017een\xed ot\xe1zky m\u016f\u017eete p\u0159idat Rychlou odpov\u011b\u010f pro \\"Ano\\" a jednu pro \\"Ne\\".","quick_reply":"Rychl\xe1 odpov\u011b\u010f","recipients":"P\u0159\xedjemci","recording":"Nahr\xe1v\xe1n\xed","recording_label":"P\u0159edchoz\xed nahr\xe1v\xe1n\xed","remove_from_all_label":"Odstranit ze v\u0161ech","remove_from_all_summary":"Odebrat aktivn\xed kontakt ze v\u0161ech skupin, kter\xfdch je \u010dlenem.","remove_groups_placeholder":"Zadejte n\xe1zev existuj\xedc\xed skupiny","remove_groups_summary":"Vyberte skupiny, ze kter\xfdch chcete kontakt odebrat.","remove_value":"Odstranit hodnotu","resthook":"Resthook","resthook_to_call":"Zvolte resthook, kter\xfd chcete volat","result":"V\xfdsledek","result_category_help":"Voliteln\xe1 kategorie pro v\xe1\u0161 v\xfdsledek. V p\u0159\xedpad\u011b v\u011bku m\u016f\u017ee b\xfdt hodnota 17 let, ale kategorie m\u016f\u017ee b\xfdt \\"Mlad\xfd dosp\u011bl\xfd\\".","result_name":"N\xe1zev v\xfdsledku","result_name_help":"Pokud v\xfdsledek pojmenujete, m\u016f\u017eete na n\u011bj pozd\u011bji odkazovat pomoc\xed [[resultFormat]].","result_to_split_on":"V\xfdsledek k rozd\u011blen\xed","result_value_help":"Hodnota, kter\xe1 se m\xe1 pro tento v\xfdsledek ulo\u017eit, nebo pr\xe1zdn\xe1, kter\xe1 jej vyma\u017ee. M\u016f\u017eete pou\u017e\xedt v\xfdrazy, nap\u0159: @(title(input))","rules":"pravidla","save_as":"Ulo\u017eit jako","save_as_title":"Ulo\u017eit jako..","save_result_name":"N\xe1zev v\xfdsledku","select_channel":"Vyberte kan\xe1l, kter\xfd chcete pou\u017e\xedt pro tento kontakt","select_contacts":"Vyberte kontakty","select_flow":"Vyberte tok, kter\xfd chcete spustit","select_groups":"Vyberte skupiny","select_intent":"Vyberte z\xe1m\u011br","select_language":"Vyberte jazyk, kter\xfd se m\xe1 pro tento kontakt pou\u017e\xedt","select_result":"Vyberte v\xfdsledek","select_what_to_update":"Vyberte, co se m\xe1 aktualizovat","select_who_to_start":"Vyberte, kdo m\xe1 b\xfdt spu\u0161t\u011bn v toku","send_msg_facebook_topic_placeholder":"Vyberte t\xe9ma, kter\xe9 chcete pou\u017e\xedt na Facebooku","send_msg_facebook_warning":"Odes\xedl\xe1n\xed hromadn\xfdch zpr\xe1v p\u0159es kan\xe1l Facebooku vy\u017eaduje zad\xe1n\xed t\xe9matu, pokud u\u017eivatel v posledn\xedch 24 hodin\xe1ch \u017e\xe1dnou zpr\xe1vu neodeslal. Nastaven\xed t\xe9matu pro pou\u017eit\xed p\u0159es Facebook je d\u016fle\u017eit\xe9 zejm\xe9na pro prvn\xed zpr\xe1vu v toku.","send_msg_summary":"Ke ka\u017ed\xe9 zpr\xe1v\u011b p\u0159idejte p\u0159\xedlohu. P\u0159\xedlohou m\u016f\u017ee b\xfdt soubor, kter\xfd nahrajete, nebo dynamick\xe1 adresa URL pomoc\xed v\xfdraz\u016f a prom\u011bnn\xfdch z va\u0161eho toku.","send_msg_summary_plural":"Ke ka\u017ed\xe9 zpr\xe1v\u011b p\u0159idejte p\u0159\xedlohu. P\u0159\xedlohou m\u016f\u017ee b\xfdt soubor, kter\xfd nahrajete, nebo dynamick\xe1 adresa URL pomoc\xed v\xfdraz\u016f a prom\u011bnn\xfdch z va\u0161eho toku.","split_by_channel_placeholder":"Vyberte kan\xe1ly, kter\xe9 chcete rozd\u011blit podle","split_by_groups":"N\xed\u017ee vyberte skupiny, podle kter\xfdch chcete prov\xe9st rozd\u011blen\xed.","split_by_scheme":"Typy kan\xe1l\u016f","split_by_scheme_summary":"URN kontaktu je adresa, kterou kontakt pou\u017eil ke kontaktu s v\xe1mi, nap\u0159\xedklad jeho telefonn\xed \u010d\xedslo nebo ID na Facebooku. N\xed\u017ee vyberte, podle kter\xfdch typ\u016f URN chcete rozd\u011blit.","start_type":"Typ spu\u0161t\u011bn\xed","start_type_create":"Vytvo\u0159te nov\xfd kontakt","start_type_manual":"Ru\u010dn\u011b vyberte p\u0159\xedjemce","start_type_query":"Vyberte p\u0159\xedjemce z dotazu","state":"Stav","status":"Stav","subject":"P\u0159edm\u011bt","template":"\u0161ablona","the_maximum":"maximum","the_minimum":"minimum","ticketer":"Tiketovac\xed slu\u017eba","timeout":"\u010casov\xfd limit","timeout_1 day":"1 den","timeout_1 hour":"1 hodina","timeout_1 minute":"1 minuta","timeout_1 week":"1 t\xfdden","timeout_10 minutes":"10 minut","timeout_12 hours":"12 hodin","timeout_15 minutes":"15 minut","timeout_18 hours":"18 hodin","timeout_2 days":"2 dny","timeout_2 hours":"2 hodiny","timeout_2 minutes":"2 minuty","timeout_3 days":"3 dny","timeout_3 hours":"3 hodiny","timeout_3 minutes":"3 minuty","timeout_4 minutes":"4 minuty","timeout_5 minutes":"5 minut","timeout_6 hours":"6 hodin","today":"dnes","today_proper":"Dnes","translation":"P\u0159eklad","type":"Typ","type_label":"Kdy\u017e kontakt doraz\xed do tohoto bodu va\u0161eho toku...","type_options":"Mo\u017enosti typu","upload_attachment":"Nahr\xe1t p\u0159\xedlohu","url":"URL","urn":"URN","urn_type":"Typ URN","use_as_default_language":"Pou\u017e\xedt jako v\xfdchoz\xed jazyk","value":"Hodnota","variable":"Prom\u011bnn\xe1","video_url":"URL videa","webhook_body_summary":"Upravte t\u011blo po\u017eadavku [[method]], kter\xfd bude odesl\xe1n do va\u0161eho webhooku.","webhook_example":"Tato odpov\u011b\u010f by p\u0159idala <1>@webhook.product</1> a <4>@webhook[\\"stock level\\"]</4> pro pou\u017eit\xed v toku.","webhook_header":"Hlavi\u010dka","webhook_header_name":"N\xe1zev hlavi\u010dky","webhook_header_summary":"N\xed\u017ee p\u0159idejte dal\u0161\xed z\xe1hlav\xed, kter\xe1 chcete zaslat spolu s \u017e\xe1dost\xed.","webhook_help":"Pokud v\xe1\u0161 server odpov\xed pomoc\xed JSON, budou jednotliv\xe9 vlastnosti p\u0159id\xe1ny do toku.","whatsapp_warning":"Odes\xedl\xe1n\xed zpr\xe1v p\u0159es kan\xe1l WhatsApp vy\u017eaduje pou\u017eit\xed \u0161ablony, pokud jste od kontaktu v posledn\xedch 24 hodin\xe1ch neobdr\u017eeli \u017e\xe1dnou zpr\xe1vu. Nastaven\xed \u0161ablony pro pou\u017eit\xed p\u0159es WhatsApp je d\u016fle\u017eit\xe9 zejm\xe9na pro prvn\xed zpr\xe1vu v toku."},"issues":{"header":"Probl\xe9my s tokem","label":"Probl\xe9my s tokem","legacy_extra":"Nalezen neplatn\xfd regul\xe1rn\xed v\xfdraz: [[regex]]","missing_dependency":"Nelze naj\xedt [[type]] pro <1>[[name]]</1>"},"operators":{"has_all_words":"obsahuje v\u0161echna slova","has_any_word":"obsahuje n\u011bkter\xe1 ze slov","has_beginning":"za\u010d\xedn\xe1 na","has_category":"m\xe1 kategorii","has_date":"m\xe1 datum","has_date_category":"M\xe1 datum","has_date_eq":"m\xe1 datum rovnaj\xedc\xed se","has_date_gt":"m\xe1 datum po","has_date_lt":"m\xe1 datum p\u0159ed","has_district":"m\xe1 okres","has_district_category":"M\xe1 okres","has_email":"m\xe1 e-mail","has_email_category":"M\xe1 e-mail","has_error":"m\xe1 chybu","has_error_category":"M\xe1 chybu","has_group":"je ve skupin\u011b","has_intent":"m\xe1 z\xe1m\u011br","has_number":"m\xe1 \u010d\xedslo","has_number_between":"m\xe1 \u010d\xedslo mezi","has_number_eq":"m\xe1 \u010d\xedslo rovn\xe9 ","has_number_gt":"m\xe1 \u010d\xedslo v\u011bt\u0161\xed ne\u017e","has_number_gte":"m\xe1 \u010d\xedslo rovn\xe9 nebo vy\u0161\u0161\xed","has_number_lt":"m\xe1 \u010d\xedslo ni\u017e\u0161\xed ne\u017e","has_number_lte":"m\xe1 \u010d\xedslo rovn\xe9 nebo ni\u017e\u0161\xed ne\u017e","has_only_phrase":"m\xe1 pouze v\xfdraz","has_pattern":"odpov\xedd\xe1 regul\xe1rn\xedmu v\xfdrazu","has_phone":"m\xe1 telefonn\xed \u010d\xedslo","has_phone_category":"M\xe1 telefon","has_phrase":"obsahuje v\u011btu","has_state":"m\xe1 stav","has_state_category":"M\xe1 Stav","has_text":"m\xe1 n\u011bjak\xfd text","has_time":"m\xe1 \u010dasov\xfd \xfadaj","has_top_intent":"m\xe1 hlavn\xed z\xe1m\u011br","has_value":"nen\xed pr\xe1zdn\xfd","has_value_category":"Nen\xed Pr\xe1zdn\xfd","has_ward":"m\xe1 odd\xedl","has_ward_category":"M\xe1 Odd\xedl"},"recent_contacts":{"header":"Recent Contacts","header_empty":"No Recent Contacts"},"removal_confirmation":"Odstranit?","revisions":{"current":"aktu\xe1ln\xed","header":"Revize","label":"Historie reviz\xed","revert":"vr\xe1tit"},"schemes":{"email":{"name":"E-mail","path":"E-mailov\xe1 adresa"},"external":{"name":"Extern\xed","path":"Extern\xed ID"},"facebook":{"path":"Facebook"},"firebase":{"name":"Firebase","path":"Firebase ID"},"freschat":{"name":"Freshchat"},"freshchat":{"path":"Freshchat ID"},"jiochat":{"path":"Jiochat ID"},"jiojach":{"name":"Jiochat"},"line":{"name":"Line","path":"Line ID"},"phone":{"name":"SMS","path":"telefonn\xed \u010d\xedslo"},"telegram":{"name":"Telegram","path":"Telegram ID"},"twitter":{"name":"Twitter","path":"Twitter Handle"},"twitterid":{"name":"Twitter","path":"Twitter ID"},"viber":{"name":"Viber","path":"Viber ID"},"wechat":{"name":"Wechat","path":"Wechat ID"},"whatsapp":{"name":"WhatsApp","path":"WhatsApp \u010d\xedslo"}},"simulator":{"added_to_group":"P\u0159id\xe1no do","airtime_transferred":"P\u0159evedeno [[amount]] [[currency]] na [[recipient]]","contact_field_changed":"Nastavit kontakt \\"[[field]]\\" na \\"[[value]]\\"","contact_field_cleared":"Vymaz\xe1n kontakt \\"[[field]]\\"","contact_language_changed":"Nastavit preferovan\xfd jazyk na \\"[[language]]\\".","contact_name_changed":"Nastavit jm\xe9no kontaktu na \\"[[name]]\\".","contact_status_changed":"Nastavit stav na \\"[[status]]\\"","flow_entered":"Zadan\xfd tok \\"[[flow]]\\"","flow_exited":"Zadan\xfd tok","httplog_dialog":"Podrobnosti po\u017eadavku HTTP","input_labels_added":"Zpr\xe1va ozna\u010den\xe1","label":"Spustit v simul\xe1toru","msg_wait":"\u010cek\xe1n\xed na odpov\u011b\u010f","prompt":{"message":"Zadejte zpr\xe1vu","restart":"Stisknut\xedm tla\u010d\xedtka dom\u016f za\u010dn\u011bte znovu"},"removed_from_group":"Odstran\u011bno z","resthook_called":"Spu\u0161t\u011bn\xe1 ud\xe1lost toku \\"[[resthook]]\\"","run_result_changed":"Nastavit v\xfdsledek \\"[[field]]\\" na \\"[[value]]\\".","sent_email":{"summary":"Odesl\xe1n e-mail [[recipients]] s p\u0159edm\u011btem \\"[[subject]]\\".","title":"Podrobnosti e-mailu"},"session_triggered":"Za\u010dal n\u011bkdo jin\xfd v \\"[[flow]]\\"","ticket_opened":"Tiket byl otev\u0159en s t\xe9matem \\"[[topic]]\\""},"sticky":{"body":"...","title":"Nov\xe1 pozn\xe1mka"},"translation":{"header":"P\u0159eklad Toku","label":"P\u0159eklady"}}')},function(e){e.exports=JSON.parse('{"actions":{"add_contact_groups":{"description":"A\xf1adir el contacto a un grupo","name":"A\xf1adir a Grupo"},"add_contact_urn":{"description":"A\xf1adir una URN para el contacto","name":"A\xf1adir URN"},"add_input":{"description":"Etiquetar el mensaje entrante","name":"A\xf1adir Etiquetas"},"call_resthook":{"description":"Llamar Zapier","name":"Llamar Zapier"},"call_webhook":{"description":"Llamar un Webhook","name":"Llamar Webhook"},"enter_flow":{"description":"Ingresar en otro flujo","name":"Ingresar en un Flujo"},"open_ticket":{"description":"Abrir un ticket con un agente humano","name":"Abrir un Ticket"},"play_audio":{"description":"Reproducir una grabaci\xf3n de contacto","name":"Reproducir Grabac\xedon"},"play_message":{"description":"Reproducir un mensaje","name":"Reproducir Mensaje"},"remove_contact_groups":{"description":"Eliminar el contacto de un grupo","name":"Eliminar de Grupo"},"say_msg":{"placeholder":"Enviar un mensaje al contacto"},"send_broadcast":{"description":"Enviar un mensaje a alguien m\xe1s","name":"Enviar Difusi\xf3n","placeholder":"Enviar un mensaje al contacto"},"send_email":{"description":"Enviar un correo electr\xf3nico","name":"Enviar Correo Electr\xf3nico"},"send_msg":{"description":"Enviar un mensage al contacto","name":"Enviar Mensaje","placeholder":"Enviar un mensaje al contacto"},"set_contact_field":{"description":"Actualizar el contacto","name":"Actualizar Contacto"},"set_run_result":{"description":"Guardar un resultado para este flujo","name":"Guardar Resultado de Flujo"},"split_by_contact_field":{"description":"Dividir por un campo de contacto","name":"Dividir por Campo de Contacto"},"split_by_expression":{"description":"Dividir por una expresi\xf3n personalizada","name":"Dividir por Expresi\xf3n"},"split_by_groups":{"description":"Dividir por afiliaci\xf3n a grupo","name":"Dividir por Afiliaci\xf3n a Grupo"},"split_by_intent":{"description":"Dividir por intenci\xf3n","name":"Dividir por Intenci\xf3n"},"split_by_random":{"description":"Dividir por oportunidad al azar","name":"Dividir al Azar"},"split_by_run_result":{"description":"Dividir por un resultado en el flujo","name":"Dividir por Resultado de Flujo"},"split_by_scheme":{"description":"Dividir por tipo de URN","name":"Dividir por Tipo de URN"},"start_session":{"description":"Iniciar a otra persona en un flujo","name":"Iniciar a Otra Persona"},"transfer_airtime":{"description":"Enviar el tiempo-aire de contacto.","name":"Enviar Airtime"},"wait_for_audio":{"description":"Esperar una grabaci\xf3n de audio","name":"Esperar por Audio."},"wait_for_dial":{"description":"Esperar por el reenv\xedo de llamada a alguien m\xe1s","name":"Esperar por llamada reenviada"},"wait_for_digits":{"description":"Esperar por d\xedgitos m\xfaltiples","name":"Esperar por D\xedgitos"},"wait_for_image":{"description":"Esperar una imagen","name":"Esperar por Imagen"},"wait_for_location":{"description":"Esperar por ubicaci\xf3n de coordenadas GPS","name":"Esperar por Ubicaci\xf3n "},"wait_for_menu":{"description":"Esperar por selecci\xf3n de men\xfa","name":"Esperar por Selecc\xedon de Men\xfa"},"wait_for_response":{"description":"Esperar a que el contacto responda","name":"Esperar por Respuesta"},"wait_for_video":{"description":"Esperar por un video","name":"Esperar por Video"}},"add":"A\xf1adir","asset_selector":{"placeholder":"Seleccione el [[name]] existente o ingrese uno nuevo","placeholder_plural":"Seleccione el [[name]] existente o ingrese uno nuevo"},"assets":{"classifier":"Llamar clasificador [[name]]","ticketer":"Abrir nuevo Ticket en [[name]]"},"body":"Cuerpo","buttons":{"cancel":"Cancelar","create_message":"Crear mensaje","download":"Descargar","ok":"Ok"},"contact_statuses":{"active":"Activo","archived":"Archivado - remover de grupos, ignorar para siempre","blocked":"Bloqueado - remover de grupos, ignorar para siempre","stopped":"Detenido - remover de grupos, ignorar hasta que mensajee de nuevo"},"context_explorer":{"copied_expression":"<1>[[expression]]</1> copiado al portapapeles","hide_empty":"Mostrando claves con valores","show_empty":"Mostrando todas las claves"},"create_label":"Crear Etiqueta","document":"Documento","drag_helper":"Para conectar nodos, <1>arrastre</1> desde el c\xedrculo rojo.","email":{"subject":"Asunto","to":"Para"},"empty_flow_message":"<0>Vamos a comenzar</0><1>Recomendamos comenzar su flujo enviando un mensaje. Este mensaje se enviar\xe1 a cualquiera justo despu\xe9s de unirse al flujo. Esta es su oportunidad de enviar un solo mensaje o hacerles una pregunta.</1>","enter_to_create_group":"Ingrese un nombre para crear un nuevo grupo.","enter_to_create_label":"Ingrese el nombre de una etiqueta existente o cree una nueva","errors":{"group_not_found":"Ingrese el nombre de un grupo existente","http_header_missing_name":"Las cabeceras HTTP deben tener un nombre","network":"Hmm, tuvimos un problema al intentar guardar los cambios. Podr\xeda ser simplemente que su conexi\xf3n a Internet no est\xe9 funcionando bien en este momento. Espere un minuto y vuelva a intentarlo.","server":"Hmm, nos encontramos con un problema al intentar guardar los cambios. Si este problema persiste, tome nota del cambio que est\xe1 intentando realizar y p\xf3ngase en contacto con el servicio de asistencia."},"flow_start":"Inicio de Flujo","forms":{"add_attachment":"Agregar Adjunto","add_groups_summary":"Seleccione los grupos a los que se agregar\xe1 el contacto.","add_labels_summary":"Seleccione las etiquetas para aplicar a los mensajes entrantes.","add_quick_reply":"Agregue una nueva respuesta r\xe1pida y presione enter.","add_urn_summary":"Agregue un nuevo URN para comunicarse con el contacto, como un n\xfamero de tel\xe9fono.","advanced":"Avanzado","all_destinations":"Todos los Destinos","all_destinations_description":"Env\xede un mensaje a todos los destinos conocidos para este contacto. Si no est\xe1 seguro de lo que esto significa, d\xe9jelo sin marcar.","and":"y","are_required":"son requeridos","arguments":"argumentos","attachments":"Archivos adjuntos","audio_url":"URL de Audio","body":"Cuerpo","buckets":"Cubos","categories":"categor\xedas","categorize_as":"categorizar como","category":"Categor\xeda","channel":"Canal","channel_type":"Tipo de Canal","classifier":"Clasificador","clear":"Limpiar","confidence":"confidencia","contact_field":"Campo de Contacto","contact_query":"Consulta de Contacto","continue_when_no_response":"Continuar si no hay respuesta","create_group":"Crear Grupo","create_prefix":"Nuevo:","currency":"Moneda","day":"d\xeda","days":"d\xedas","delimit":"Delimitar","delimit_result":"Delimitar Resultado","delimit_result_description":"Eval\xfae sus reglas contra una parte delimitada de su resultado","delimiter":"Delimitador","district":"Distrito","email_recipient_name":"Destinatario","email_recipient_placeholder":"Para","email_recipient_prompt":"Introducir la direcci\xf3n de correo electr\xf3nico","enter_a_body":"Introducir cuerpo","enter_a_subject":"Introducir asunto","enter_a_url":"Introducir URL","enter_field_value":"Ingrese un nuevo valor para [[field]]","enter_flow_parameters_summary":"<0>[[flow]]</0> espera que este flujo establezca los siguientes par\xe1metros. Estos se pueden configurar usando una acci\xf3n de <4>Save Flow Result</4>o directamente abajo.","enter_flow_parameters_tab":"Parametros","enter_new_name":"Ingrese un nombre para el contacto","enter_urn_value":"Ingrese el valor URN","exit_name":"Nombre de Salida","expression_label":"Si la expresi\xf3n...","field_number":"N\xfamero de campo","field_value":"Valor de Campo","flow":"Flujo","flow_result":"Resultado de Flujo","groups":"Grupos","header_name":"Nombre de cabecera","http_headers":"Cabeceras HTTP","image_url":"URL de Imagen","intent":"Intenci\xf3n","is_not_a_valid_regex":"no es una expresi\xf3n regular v\xe1lida","is_not_finished":"no est\xe1 terminado","is_required":"es requerido","labels":"Etiquetas","language":"Lenguaje","localize_rules":"A veces, los idiomas necesitan reglas especiales para enrutar las cosas correctamente. Si no se proporciona una traducci\xf3n, se utilizar\xe1 la regla original.","localized_quick_replies":"Agregue una nueva respuesta r\xe1pida en [[language]] y presione enter.","maximum_value":"Valor m\xe1ximo","message":"Mensaje","message_label":"Si la respuesta del mensaje...","method":"M\xe9todo","minimum_value":"Valor m\xednimo","must_be_less_than":"debe ser menor que","name":"Nombre","operand":"Operando","operator":"operador","pdf_url":"URL de Documento PDF","phone_number":"N\xfamero Telef\xf3nico","play_audio_help_text":"Ingrese una variable que contenga una grabaci\xf3n que el contacto haya grabado previamente. Por ejemplo, @results.voicemail o @fields.short_bio.","quick_replies":"Respuestas R\xe1pidas","quick_replies_summary":"Las respuestas r\xe1pidas se convierten en botones para canales compatibles. Por ejemplo, al hacer una pregunta, puede agregar una respuesta r\xe1pida para \\"S\xed\\" y una para \\"No\\".","quick_reply":"Respuesta R\xe1pida","recipients":"Destinatarios","recording":"Grabaci\xf3n","recording_label":"Grabaci\xf3n Previa","remove_from_all_label":"Remover de todos","remove_from_all_summary":"Eliminar el contacto activo de todos los grupos de los que es miembro.","remove_groups_placeholder":"Ingrese el nombre de un grupo existente","remove_groups_summary":"Seleccione los grupos de los que eliminar\xe1 al contacto.","remove_value":"Remover Valor","resthook":"Resthook","resthook_to_call":"Seleccione el resthook que se llamar\xe1","result":"Resultado","result_category_help":"Una categor\xeda opcional para su resultado. Para la edad, el valor podr\xeda ser 17, pero la categor\xeda podr\xeda ser \'Adulto Joven\'","result_name":"Nombre del Resultado","result_name_help":"Al nombrar el resultado, puede hacer referencia a \xe9l m\xe1s tarde usando [[resultFormat]]","result_to_split_on":"Resultado para dividir","result_value_help":"El valor a guardar para este resultado o dejarlo vac\xedo para limpiarlo. Puede utilizar expresiones, por ejemplo: @(title(input))","rules":"reglas","save_as":"Guardar como","save_as_title":"Salvar como..","save_result_name":"Nombre del Resultado","select_channel":"Seleccionar el canal a utilizar para este contacto","select_contacts":"Seleccionar Contactos","select_flow":"Seleccionar el flujo a iniciar","select_groups":"Seleccionar Grupos","select_intent":"Seleccionar intenci\xf3n","select_language":"Seleccionar el lenguaje a utilizar para este contacto","select_result":"Seleccionar Resultado","select_what_to_update":"Seleccionar los datos a actualizar","select_who_to_start":"Seleccionar quien debe ser iniciado en el flujo","send_msg_facebook_topic_placeholder":"Seleccione un tema para usar en Facebook","send_msg_facebook_warning":"El env\xedo de mensajes masivos a trav\xe9s de un canal de Facebook requiere que se especifique un tema si el usuario no ha enviado un mensaje en las \xfaltimas 24 horas. Establecer un tema para usar en Facebook es especialmente importante para el primer mensaje de su flujo.","send_msg_summary":"Agrega un archivo adjunto a cada mensaje. El archivo adjunto puede ser un archivo que cargue o una URL din\xe1mica que use expresiones y variables de su flujo.","send_msg_summary_plural":"Agrega un archivo adjunto a cada mensaje. El archivo adjunto puede ser un archivo que cargue o una URL din\xe1mica que use expresiones y variables de su flujo.","split_by_channel_placeholder":"Seleccione los canales para dividir","split_by_groups":"Seleccione los grupos por los que le gustar\xeda dividir a continuaci\xf3n","split_by_scheme":"Tipos de canal","split_by_scheme_summary":"El URN del contacto es la direcci\xf3n que usaron para comunicarse con usted, como un n\xfamero de tel\xe9fono o una identificaci\xf3n de Facebook. Seleccione los tipos de URN para dividir a continuaci\xf3n.","start_type":"Tipo de Inicio","start_type_create":"Crear un nuevo contacto","start_type_manual":"Seleccionar destinatarios manualmente","start_type_query":"Seleccionar destinatarios con una consulta","state":"Estado","status":"Estatus","subject":"Asunto","template":"plantilla","the_maximum":"el m\xe1ximo","the_minimum":"el m\xednimo","ticketer":"Ticketer","timeout":"Timeout","timeout_1 day":"1 d\xeda","timeout_1 hour":"1 hora","timeout_1 minute":"1 minuto","timeout_1 week":"1 semana","timeout_10 minutes":"10 minutos","timeout_12 hours":"12 horas","timeout_15 minutes":"15 minutos","timeout_18 hours":"18 horas","timeout_2 days":"2 d\xedas","timeout_2 hours":"2 horas","timeout_2 minutes":"2 minutos","timeout_3 days":"3 d\xedas","timeout_3 hours":"3 horas","timeout_3 minutes":"3 minutos","timeout_4 minutes":"4 minutos","timeout_5 minutes":"5 minutos","timeout_6 hours":"6 horas","today":"hoy","today_proper":"Hoy","translation":"Traducci\xf3n","type":"Tipo","type_label":"Cuando un contacto llega a este punto en su flujo...","type_options":"Opciones de Tipo","upload_attachment":"Subir Archivo Adjunto","url":"URL","urn":"URN","urn_type":"Tipo de URN","use_as_default_language":"Usar como idioma predeterminado","value":"Valor","variable":"Variable","video_url":"URL de Video","webhook_body_summary":"Modifique el cuerpo de la solicitud de [[method]] que se enviar\xe1 a su webhook.","webhook_example":"Esta respuesta agregar\xe1 <1>@webhook.product</1> y <4>@webhook[\\"stock level\\"]</4> para utilizarlos en el flujo.","webhook_header":"Cabecera","webhook_header_name":"Nombre de Cabecera","webhook_header_summary":"A continuaci\xf3n agregue las cabeceras adicionales que le gustar\xeda enviar junto con su solicitud.","webhook_help":"Si su servidor responde con JSON, cada propiedad se agregar\xe1 al flujo.","whatsapp_warning":"Enviar mensajes a trav\xe9s de un canal de WhatsApp requiere que se use una plantilla si no ha recibido un mensaje de un contacto en las \xfaltimas 24 horas. Configurar una plantilla para usar en WhatsApp es especialmente importante para el primer mensaje de su flujo."},"issues":{"header":"Problemas de Flujo","label":"Problemas de Flujo","legacy_extra":"Se encontr\xf3 una expresi\xf3n regular no v\xe1lida: [[regex]]","missing_dependency":"No se pudo encontrar un [[tyse]] para <1>[[name]]</1>"},"operators":{"has_all_words":"tiene todas las palabras","has_any_word":"tiene alguna de las palabras","has_beginning":"empieza con","has_category":"tiene la categoria","has_date":"tiene una fecha","has_date_category":"Tiene Fecha","has_date_eq":"tiene una fecha igual a ","has_date_gt":"tiene una fecha despu\xe9s","has_date_lt":"tiene una fecha antes","has_district":"tiene distrito","has_district_category":"Tiene Distrito","has_email":"tiene un correo electr\xf3nico","has_email_category":"Tiene Correo","has_error":"tiene un error","has_error_category":"Tiene Error","has_group":"esta en el grupo","has_intent":"tiene intenc\xedon","has_number":"tiene un n\xfamero","has_number_between":"tiene un n\xfamero entre","has_number_eq":"tiene un n\xfamero igual a","has_number_gt":"tiene un n\xfamero arriba","has_number_gte":"tiene un n\xfamero igual o superior","has_number_lt":"tiene un n\xfamero debajo","has_number_lte":"tiene un n\xfamero igual o inferior ","has_only_phrase":"tiene solo la frase","has_pattern":"coincide con la expresi\xf3n regular","has_phone":"tiene un n\xfamero de tel\xe9fono","has_phone_category":"Tiene Tel\xe9fono","has_phrase":"tiene la frase","has_state":"tiene estado","has_state_category":"Tiene Estado","has_text":"tiene algo de texto","has_time":"tiene un tiempo","has_top_intent":"tiene la mejor intenci\xf3n","has_value":"no esta vacio","has_value_category":"No esta Vacio","has_ward":"tiene pueblo","has_ward_category":"Tiene Pueblo"},"recent_contacts":{"header":"Contactos Recientes","header_empty":"No hay contactos recientes"},"removal_confirmation":"Remover?","revisions":{"current":"actual","header":"Revisiones","label":"Historial de Revisi\xf3n","revert":"revertir"},"schemes":{"email":{"name":"Correo electr\xf3nico","path":"Direcci\xf3n de correo electr\xf3nico"},"external":{"name":"Externo","path":"ID Externo"},"facebook":{"path":"Facebook"},"firebase":{"name":"Firebase","path":"ID de Firebase"},"freschat":{"name":"Freshchat"},"freshchat":{"path":"ID de Freshchat"},"jiochat":{"path":"ID de Jiochat"},"jiojach":{"name":"Jiochat"},"line":{"name":"Line","path":"ID de Line"},"phone":{"name":"SMS","path":"N\xfamero Telef\xf3nico"},"telegram":{"name":"Telegram","path":"ID de Telegram"},"twitter":{"name":"Twitter","path":"Usuario de Twitter"},"twitterid":{"name":"Twitter","path":"ID de Twitter"},"viber":{"name":"Viber","path":"ID de Viber"},"wechat":{"name":"Wechat","path":"ID de Wechat"},"whatsapp":{"name":"WhatsApp","path":"N\xfamero de Whatsapp"}},"simulator":{"added_to_group":"A\xf1adido a","airtime_transferred":"Transferido [[amount]] [[currency]] para [[recipient]] ","contact_field_changed":"Establecer contacto \\"[[field]]\\" para \\"[[value]]\\"","contact_field_cleared":"Contacto eliminado \\"[[field]]\\"","contact_language_changed":"Establecer idioma preferido para \\"[[language]]\\"","contact_name_changed":"Establecer nombre de contacto en \\"[[name]]\\"","contact_status_changed":"Establecer estatus en \\"[[status]]\\"","flow_entered":"Flujo introducido \\"[[flow]]\\"","flow_exited":"Salida de flujo","httplog_dialog":"Detalles de solicitud HTTP","input_labels_added":"Mensaje etiquetado con","label":"Ejecutar en Simulador","msg_wait":"Esperando por respuesta","prompt":{"message":"Ingresar mensaje","restart":"Presione inicio para iniciar de nuevo"},"removed_from_group":"Removido de","resthook_called":"Evento de flujo desencadenado \\"[[resthook]]\\"","run_result_changed":"Establecer resultado \\"[[field]]\\" para \\"[[value]]\\"","sent_email":{"summary":"Correo electr\xf3nico enviado a [[recipients]] con asunto \\"[[subject]]\\"","title":"Detalles de Correo Electr\xf3nico"},"session_triggered":"Empezada a otra persona en \\"[[flow]]\\"","ticket_opened":"Ticket abierto con tema \\"[[topic]]\\""},"sticky":{"body":"...","title":"Nueva Nota"},"translation":{"header":"Traducci\xf3n de Flujo","label":"Traducciones"}}')},function(e){e.exports=JSON.parse('{"actions":{"add_contact_groups":{"description":"Ajouter le contact \xe0 un groupe","name":"Ajouter au groupe"},"add_contact_urn":{"description":"Ajouter un URN pour le contact","name":"Ajouter un URN"},"add_input":{"description":"\xc9tiqueter le message entrant","name":"Ajouter des \xe9tiquettes"},"call_resthook":{"description":"Appeler Zapier","name":"Appeler Zapier"},"call_webhook":{"description":"Appeler un webhook","name":"Appeler Webhook"},"enter_flow":{"description":"Entrez un autre flux","name":"Entrez un flux"},"open_ticket":{"description":"Ouvrir un ticket avec un agent humain","name":"Ticket ouvert"},"play_audio":{"description":"Lire un enregistrement de contact","name":"Lire l\'enregistrement"},"play_message":{"description":"Lire un message","name":"Lire le message"},"remove_contact_groups":{"description":"Supprimer le contact d\'un groupe","name":"Supprimer du groupe"},"say_msg":{"placeholder":"Envoyez un message au contact"},"send_broadcast":{"description":"Envoyez un message \xe0 quelqu\'un d\'autre","name":"Envoyer une diffusion","placeholder":"Envoyez un message au contact"},"send_email":{"description":"Envoyer un e-mail","name":"Envoyer l\'e-mail"},"send_msg":{"description":"Envoyer un message au contact","name":"Envoyer le message","placeholder":"Envoyez un message au contact"},"set_contact_field":{"description":"Mettre \xe0 jour le contact","name":"Mettre \xe0 jour le contact"},"set_run_result":{"description":"Enregistrer un r\xe9sultat pour ce flux","name":"Enregistrer le r\xe9sultat du flux"},"split_by_contact_field":{"description":"S\xe9parer par un champ de contact","name":"S\xe9parer par champ de contact"},"split_by_expression":{"description":"S\xe9parer par une expression personnalis\xe9e","name":"S\xe9parer par expression"},"split_by_groups":{"description":"S\xe9parer par appartenance \xe0 un groupe","name":"S\xe9parer par appartenance \xe0 un groupe"},"split_by_intent":{"description":"S\xe9parer par intention","name":"S\xe9parer par intention"},"split_by_random":{"description":"S\xe9parer par hasard","name":"S\xe9parer au hasard"},"split_by_run_result":{"description":"S\xe9parer par un r\xe9sultat dans le flux","name":"S\xe9parer par r\xe9sultat de flux"},"split_by_scheme":{"description":"S\xe9parer par type d\'URN","name":"S\xe9parer par type d\'URN"},"start_session":{"description":"D\xe9marrer quelqu\'un d\'autre dans un flux","name":"D\xe9marrer quelqu\'un d\'autre"},"transfer_airtime":{"description":"Envoyer le temps d\'antenne du contact","name":"Envoyer du temps d\'antenne"},"wait_for_audio":{"description":"Attendez un enregistrement audio","name":"Attendez l\'audio"},"wait_for_dial":{"description":"Wait for forwarded call to someone else","name":"Wait for Forwarded Call"},"wait_for_digits":{"description":"Attendez plusieurs chiffres","name":"Attendez les chiffres"},"wait_for_image":{"description":"Attendez une image","name":"Attendez l\'image"},"wait_for_location":{"description":"Attendez les coordonn\xe9es GPS de la position","name":"Attendre l\'emplacement"},"wait_for_menu":{"description":"Attendez la s\xe9lection du menu","name":"Attendez la s\xe9lection du menu"},"wait_for_response":{"description":"Attendez que le contact r\xe9ponde","name":"Attendre la r\xe9ponse"},"wait_for_video":{"description":"Attendez une vid\xe9o","name":"Attendez la vid\xe9o"}},"add":"Ajouter","asset_selector":{"placeholder":"S\xe9lectionnez [[name]] existant ou saisissez-en un nouveau","placeholder_plural":"S\xe9lectionnez [[name]] existant ou saisissez-en un nouveau"},"assets":{"classifier":"Appeler le classificateur [[name]]","ticketer":"Open a new Ticket on [[name]]"},"body":"Corps","buttons":{"cancel":"Annuler","create_message":"Cr\xe9er un message","download":"T\xe9l\xe9charger","ok":"D\'accord"},"contact_statuses":{"active":"Actif","archived":"Archiv\xe9 - supprimer des groupes, ignorer d\xe9finitivement","blocked":"Bloqu\xe9 - supprimer des groupes, ignorer d\xe9finitivement","stopped":"Arr\xeat\xe9 - supprimer des groupes, ignorer jusqu\'\xe0 ce qu\'ils envoient \xe0 nouveau un message"},"context_explorer":{"copied_expression":"Copi\xe9 <1>[[expression]]</1> dans le presse-papiers","hide_empty":"Affichage des cl\xe9s avec des valeurs","show_empty":"Affichage de toutes les cl\xe9s"},"create_label":"Cr\xe9er une \xe9tiquette","document":"Document","drag_helper":"Pour connecter les n\u0153uds, <1>faites glisser</1> du cercle rouge.","email":{"subject":"Sujet","to":"\xc0"},"empty_flow_message":"<0>Commen\xe7ons</0><1>Nous vous recommandons de d\xe9marrer votre flux en envoyant un message. Ce message sera envoy\xe9 \xe0 n\'importe qui juste apr\xe8s avoir rejoint le flux. C\'est votre chance d\'envoyer un seul message ou de leur poser une question.</1>","enter_to_create_group":"Entrez un nom pour cr\xe9er un nouveau groupe","enter_to_create_label":"Entrez le nom d\'une \xe9tiquette existante ou cr\xe9ez-en une nouvelle","errors":{"group_not_found":"Entrez le nom d\'un groupe existant","http_header_missing_name":"Les en-t\xeates HTTP doivent avoir un nom","network":"Hmm, nous avons rencontr\xe9 un probl\xe8me en essayant d\'enregistrer vos modifications. Il se peut simplement que votre connexion Internet ne fonctionne pas correctement pour le moment. Veuillez patienter une minute environ et r\xe9essayer.","server":"Hmm, we ran into a problem trying to save your changes. If this problem persists, take note of the change you are trying to make and contact support."},"flow_start":"Flow Start","forms":{"add_attachment":"Add Attachment","add_groups_summary":"S\xe9lectionnez les groupes auxquels ajouter le contact.","add_labels_summary":"S\xe9lectionnez les libell\xe9s \xe0 appliquer au message entrant.","add_quick_reply":"Ajoutez une nouvelle r\xe9ponse rapide et appuyez sur Entr\xe9e.","add_urn_summary":"Ajoutez un nouvel URN pour atteindre le contact, tel qu\'un num\xe9ro de t\xe9l\xe9phone.","advanced":"Advanced","all_destinations":"Toutes les destinations","all_destinations_description":"Send a message to all destinations known for this contact. If you aren\'t sure what this means, leave it unchecked.","and":"and","are_required":"sont requis","arguments":"arguments","attachments":"Attachments","audio_url":"URL audio","body":"Corps","buckets":"Seaux","categories":"cat\xe9gories","categorize_as":"categorize as","category":"Cat\xe9gorie","channel":"Canal","channel_type":"Type de canal","classifier":"Classificateur","clear":"Clear","confidence":"confiance","contact_field":"Champ de contact","contact_query":"Demande de contact","continue_when_no_response":"Continue when there is no response","create_group":"Create Group","create_prefix":"Nouveau:","currency":"Devise","day":"jour","days":"jours","delimit":"D\xe9limiter","delimit_result":"D\xe9limiter le r\xe9sultat","delimit_result_description":"\xc9valuez vos r\xe8gles par rapport \xe0 une partie d\xe9limit\xe9e de votre r\xe9sultat","delimiter":"D\xe9limiteur","district":"District","email_recipient_name":"B\xe9n\xe9ficiaire","email_recipient_placeholder":"\xc0","email_recipient_prompt":"Entrer l\'adresse e-mail","enter_a_body":"Entrez un corps","enter_a_subject":"Entrez un sujet","enter_a_url":"Entrez une URL","enter_field_value":"Enter a new value for [[field]]","enter_flow_parameters_summary":"<0>[[flow]]</0> s\'attend \xe0 ce que les param\xe8tres suivants soient d\xe9finis par ce flux. Ceux-ci peuvent \xeatre d\xe9finis \xe0 l\'aide d\'une action <4>Enregistrer le r\xe9sultat de flux</4> ou directement ci-dessous.","enter_flow_parameters_tab":"Param\xe8tres","enter_new_name":"Enter a new name for the contact","enter_urn_value":"Enter the URN value","exit_name":"Nom de sortie","expression_label":"Si l\'expression ...","field_number":"Num\xe9ro de champ","field_value":"Valeur du champ","flow":"Flux","flow_result":"R\xe9sultat du flux","groups":"Groupes","header_name":"Nom de l\'en-t\xeate","http_headers":"HTTP Headers","image_url":"URL de l\'image","intent":"Intention","is_not_a_valid_regex":"n\'est pas une regex valide","is_not_finished":"n\'est pas fini","is_required":"est requis","labels":"\xc9tiquettes","language":"Langue","localize_rules":"Parfois, les langues ont besoin de r\xe8gles sp\xe9ciales pour acheminer correctement les choses. Si aucune traduction n\'est fournie, la r\xe8gle d\'origine sera utilis\xe9e.","localized_quick_replies":"Ajoutez une nouvelle r\xe9ponse rapide [[language]] et appuyez sur entr\xe9e.","maximum_value":"Valeur maximum","message":"Message","message_label":"Si la r\xe9ponse au message ...","method":"M\xe9thode","minimum_value":"Valeur minimum","must_be_less_than":"doit \xeatre inf\xe9rieur \xe0","name":"Nom","operand":"Op\xe9rande","operator":"op\xe9rateur","pdf_url":"PDF Document URL","phone_number":"Phone Number","play_audio_help_text":"Entrez une variable contenant un enregistrement que le contact a pr\xe9c\xe9demment enregistr\xe9. Par exemple, @results.voicemail or @fields.short_bio.","quick_replies":"R\xe9ponses rapides","quick_replies_summary":"Les r\xe9ponses rapides sont transform\xe9es en boutons pour les cha\xeenes prises en charge. Par exemple, lorsque vous posez une question, vous pouvez ajouter une r\xe9ponse rapide pour \\"Oui\\" et une pour \\"Non\\".","quick_reply":"R\xe9ponse rapide","recipients":"B\xe9n\xe9ficiaires","recording":"Enregistrement","recording_label":"Enregistrement pr\xe9c\xe9dent","remove_from_all_label":"Supprimer de tout","remove_from_all_summary":"Supprimez le contact actif de tous les groupes dont il est membre.","remove_groups_placeholder":"Entrez le nom d\'un groupe existant","remove_groups_summary":"S\xe9lectionnez les groupes dont vous souhaitez supprimer le contact.","remove_value":"Remove Value","resthook":"Resthook","resthook_to_call":"S\xe9lectionnez le Resthook \xe0 appeler","result":"R\xe9sultat","result_category_help":"An optional category for your result. For age, the value might be 17, but the category might be \'Young Adult\'","result_name":"Nom du r\xe9sultat","result_name_help":"En nommant le r\xe9sultat, vous pourrez le r\xe9f\xe9rencer ult\xe9rieurement en utilisant [[resultFormat]]","result_to_split_on":"R\xe9sultat \xe0 partager","result_value_help":"The value to save for this result or empty to clears it. You can use expressions, for example: @(title(input))","rules":"r\xe8gles","save_as":"Save as","save_as_title":"Enregistrer sous..","save_result_name":"Nom du r\xe9sultat","select_channel":"Select the channel to use for this contact","select_contacts":"Select Contacts","select_flow":"Select the flow to start","select_groups":"Select Groups","select_intent":"Select intent","select_language":"Select the language to use for this contact","select_result":"S\xe9lectionnez le r\xe9sultat","select_what_to_update":"Select what to update","select_who_to_start":"Select who should be started in the flow","send_msg_facebook_topic_placeholder":"S\xe9lectionnez un sujet \xe0 utiliser sur Facebook","send_msg_facebook_warning":"L\'envoi de messages en masse sur un canal Facebook n\xe9cessite qu\'un sujet soit sp\xe9cifi\xe9 si l\'utilisateur n\'a pas envoy\xe9 de message au cours des derni\xe8res 24 heures. D\xe9finir un sujet \xe0 utiliser sur Facebook est particuli\xe8rement important pour le premier message de votre flux.","send_msg_summary":"Ajoutez une pi\xe8ce jointe \xe0 chaque message. La pi\xe8ce jointe peut \xeatre un fichier que vous t\xe9l\xe9chargez ou une URL dynamique utilisant des expressions et des variables de votre Flow.","send_msg_summary_plural":"Ajoutez une pi\xe8ce jointe \xe0 chaque message. La pi\xe8ce jointe peut \xeatre un fichier que vous t\xe9l\xe9chargez ou une URL dynamique utilisant des expressions et des variables de votre Flow.","split_by_channel_placeholder":"S\xe9lectionnez les canaux \xe0 diviser par","split_by_groups":"S\xe9lectionnez les groupes que vous souhaitez diviser ci-dessous","split_by_scheme":"Types de canaux","split_by_scheme_summary":"L\'URN du contact est l\'adresse qu\'il a utilis\xe9e pour vous joindre comme son num\xe9ro de t\xe9l\xe9phone ou un identifiant Facebook. S\xe9lectionnez ci-dessous les types d\'URN \xe0 diviser.","start_type":"Type de d\xe9part","start_type_create":"Create a new contact","start_type_manual":"Select recipients manually","start_type_query":"Select recipients from a query","state":"Etat","status":"Statut","subject":"Sujet","template":"mod\xe8le","the_maximum":"le maximum","the_minimum":"le minimum","ticketer":"Ticketer","timeout":"Temps mort","timeout_1 day":"1 jour","timeout_1 hour":"1 heure","timeout_1 minute":"1 minute","timeout_1 week":"1 semaine","timeout_10 minutes":"10 minutes","timeout_12 hours":"12 heures","timeout_15 minutes":"15 minutes","timeout_18 hours":"18 heures","timeout_2 days":"2 jours","timeout_2 hours":"2 heures","timeout_2 minutes":"2 minutes","timeout_3 days":"3 jours","timeout_3 hours":"3 heures","timeout_3 minutes":"3 minutes","timeout_4 minutes":"4 minutes","timeout_5 minutes":"5 minutes","timeout_6 hours":"6 heures","today":"aujourd\'hui","today_proper":"Aujourd\'hui","translation":"Traduction","type":"Type","type_label":"Lorsqu\'un contact arrive \xe0 ce stade de votre flux ...","type_options":"Options de type","upload_attachment":"Upload Attachment","url":"URL","urn":"URN","urn_type":"Type d\'URN","use_as_default_language":"Utiliser comme langue par d\xe9faut","value":"Valeur","variable":"Variable","video_url":"URL de la vid\xe9o","webhook_body_summary":"Modifiez le corps de la requ\xeate [[method]] qui sera envoy\xe9e \xe0 votre webhook.","webhook_example":"Cette r\xe9ponse ajouterait <1>@webhook.product</1> et <4>@webhook[\\"stock level\\"]</4> \xe0 utiliser dans le flux.","webhook_header":"Ent\xeate","webhook_header_name":"Nom de l\'en-t\xeate","webhook_header_summary":"Ajoutez ci-dessous les en-t\xeates suppl\xe9mentaires que vous souhaitez envoyer avec votre demande.","webhook_help":"Si votre serveur r\xe9pond avec JSON, chaque propri\xe9t\xe9 sera ajout\xe9e au Flow.","whatsapp_warning":"L\'envoi de messages sur un canal WhatsApp n\xe9cessite l\'utilisation d\'un mod\xe8le si vous n\'avez pas re\xe7u de message d\'un contact au cours des derni\xe8res 24 heures. D\xe9finir un mod\xe8le \xe0 utiliser sur WhatsApp est particuli\xe8rement important pour le premier message de votre flux."},"issues":{"header":"Probl\xe8mes de flux","label":"Probl\xe8mes de flux","legacy_extra":"Expression r\xe9guli\xe8re non valide trouv\xe9e: [[regex]]","missing_dependency":"Impossible de trouver un [[type]] pour <1>[[name]]</1>"},"operators":{"has_all_words":"a tous les mots","has_any_word":"a l\'un des mots","has_beginning":"commence avec","has_category":"a la cat\xe9gorie","has_date":"a une date","has_date_category":"A la date","has_date_eq":"a une date \xe9gale \xe0","has_date_gt":"a une date apr\xe8s","has_date_lt":"a une date avant","has_district":"a pour district","has_district_category":"A pour district","has_email":"a un email","has_email_category":"A un e-mail","has_error":"a une erreur","has_error_category":"A une erreur","has_group":"fait partie du groupe","has_intent":"a l\'intention","has_number":"a un nombre","has_number_between":"a un nombre entre","has_number_eq":"a un nombre \xe9gal \xe0","has_number_gt":"a un nombre au-dessus","has_number_gte":"a un nombre \xe9gal ou sup\xe9rieur","has_number_lt":"a un nombre inf\xe9rieur","has_number_lte":"a un nombre \xe9gal ou inf\xe9rieur","has_only_phrase":"n\'a que la phrase","has_pattern":"matches regex","has_phone":"a un num\xe9ro de t\xe9l\xe9phone","has_phone_category":"A un t\xe9l\xe9phone","has_phrase":"a la phrase","has_state":"a l\'\xe9tat","has_state_category":"A l\'\xe9tat","has_text":"a du texte","has_time":"a un temps","has_top_intent":"a la meilleure intention","has_value":"n\'est pas vide","has_value_category":"Pas vide","has_ward":"a quartier","has_ward_category":"A quartier"},"recent_contacts":{"header":"Recent Contacts","header_empty":"No Recent Contacts"},"removal_confirmation":"Retirer?","revisions":{"current":"current","header":"R\xe9visions","label":"Historique des r\xe9visions","revert":"revert"},"schemes":{"email":{"name":"Email","path":"Adresse Email"},"external":{"name":"Externe","path":"ID externe"},"facebook":{"path":"Facebook"},"firebase":{"name":"Firebase","path":"ID Firebase"},"freschat":{"name":"Freshchat"},"freshchat":{"path":"ID Freshchat"},"jiochat":{"path":"ID Jiochat"},"jiojach":{"name":"Jiochat"},"line":{"name":"Line","path":"ID Line"},"phone":{"name":"SMS","path":"Num\xe9ro de t\xe9l\xe9phone"},"telegram":{"name":"Telegram","path":"ID Telegram"},"twitter":{"name":"Twitter","path":"Pseudonyme Twitter"},"twitterid":{"name":"Twitter","path":"ID Twitter"},"viber":{"name":"Viber","path":"ID Viber"},"wechat":{"name":"Wechat","path":"ID Wechat"},"whatsapp":{"name":"WhatsApp","path":"Num\xe9ro WhatsApp"}},"simulator":{"added_to_group":"Added to","airtime_transferred":"[[amount]] [[currency]] transf\xe9r\xe9 \xe0 [[recipient]]","contact_field_changed":"D\xe9finir le contact \\"[[field]]\\" sur \\"[[value]]\\"","contact_field_cleared":"Contact effac\xe9 \\"[[field]]\\"","contact_language_changed":"D\xe9finissez la langue pr\xe9f\xe9r\xe9e sur \\"[[language]]\\"","contact_name_changed":"D\xe9finir le nom du contact sur \\"[[name]]\\"","contact_status_changed":"D\xe9finir le statut sur \\"[[status]]\\"","flow_entered":"Flux entr\xe9 \\"[[flow]]\\"","flow_exited":"Exited flow","httplog_dialog":"D\xe9tails de la requ\xeate HTTP","input_labels_added":"Message labeled with","label":"Run in Simulator","msg_wait":"Attendre une r\xe9ponse","prompt":{"message":"Enter message","restart":"Press home to start again"},"removed_from_group":"Removed from","resthook_called":"\xc9v\xe9nement de flux d\xe9clench\xe9 \\"[[resthook]]\\"","run_result_changed":"D\xe9finir le r\xe9sultat \\"[[field]]\\" sur \\"[[value]]\\"","sent_email":{"summary":"Envoy\xe9 un e-mail \xe0 [[recipients]] avec comme objet \\"[[subject]]\\"","title":"D\xe9tails de l\'e-mail"},"session_triggered":"A commenc\xe9 quelqu\'un d\'autre dans \\"[[flow]]\\"","ticket_opened":"Billet ouvert avec le th\xe8me \\"[[topic]]\\""},"sticky":{"body":"...","title":"Nouvelle note"},"translation":{"header":"Traduction de flux","label":"Traductions"}}')},function(e){e.exports=JSON.parse('{"actions":{"add_contact_groups":{"description":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u0433 \u0431\u04af\u043b\u044d\u0433\u0442 \u043d\u044d\u043c\u044d\u0445","name":"\u0411\u04af\u043b\u044d\u0433\u0442 \u043d\u044d\u043c\u044d\u0445"},"add_contact_urn":{"description":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0434 URN \u043d\u044d\u043c\u044d\u0445","name":"URN \u043d\u044d\u043c\u044d\u0445"},"add_input":{"description":"\u0418\u0440\u0441\u044d\u043d \u043c\u0435\u0441\u0441\u0435\u0436\u0438\u0439\u0433 \u0448\u043e\u0448\u0433\u043e\u043b\u043e\u0445","name":"\u0428\u043e\u0448\u0433\u043e \u043d\u044d\u043c\u044d\u0445"},"call_resthook":{"description":"Zapier-\u0440\u0443\u0443 \u0434\u0443\u0443\u0434\u043b\u0430\u0433\u0430 \u0445\u0438\u0439\u0445","name":"Zapier-\u0440\u0443\u0443 \u0434\u0443\u0443\u0434\u043b\u0430\u0433\u0430 \u0445\u0438\u0439\u0445"},"call_webhook":{"description":"Webhook-\u0440\u04af\u04af \u0434\u0443\u0443\u0434\u043b\u0430\u0433\u0430 \u0445\u0438\u0439\u0445","name":"Webhook-\u0440\u04af\u04af \u0434\u0443\u0443\u0434\u043b\u0430\u0433\u0430 \u0445\u0438\u0439\u0445"},"enter_flow":{"description":"\u04e8\u04e9\u0440 \u0443\u0440\u0441\u0433\u0430\u043b \u043d\u044d\u043c\u044d\u0445","name":"\u0423\u0440\u0441\u0433\u0430\u043b \u043d\u044d\u043c\u044d\u0445"},"open_ticket":{"description":"\u0425\u04af\u043d \u0430\u0433\u0435\u043d\u0442\u0442\u0430\u0439 \u0442\u0430\u0441\u0430\u043b\u0431\u0430\u0440 \u043d\u044d\u044d\u0445","name":"\u0422\u0430\u0441\u0430\u043b\u0431\u0430\u0440 \u043d\u044d\u044d\u0445"},"play_audio":{"description":"\u0411\u0438\u0447\u043b\u044d\u0433\u0438\u0439\u0433 \u0442\u043e\u0433\u043b\u0443\u0443\u043b\u0430\u0445","name":"\u0411\u0438\u0447\u043b\u044d\u0433\u0438\u0439\u0433 \u0442\u043e\u0433\u043b\u0443\u0443\u043b\u0430\u0445"},"play_message":{"description":"\u041c\u0435\u0441\u0441\u0435\u0436\u0438\u0439\u0433 \u0442\u043e\u0433\u043b\u0443\u0443\u043b\u0430\u0445","name":"\u041c\u0435\u0441\u0441\u0435\u0436\u0438\u0439\u0433 \u0442\u043e\u0433\u043b\u0443\u0443\u043b\u0430\u0445"},"remove_contact_groups":{"description":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u0433 \u0431\u04af\u043b\u0433\u044d\u044d\u0441 \u0445\u0430\u0441\u0430\u0445","name":"\u0411\u04af\u043b\u0433\u044d\u044d\u0441 \u0445\u0430\u0441\u0430\u0445"},"say_msg":{"placeholder":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0440\u0443\u0443 \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u0445"},"send_broadcast":{"description":"\u04e8\u04e9\u0440 \u0445\u044d\u043d \u043d\u044d\u0433\u044d\u043d\u0434 \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u043d\u044d \u04af\u04af ","name":"\u041d\u044d\u0432\u0442\u0440\u04af\u04af\u043b\u044d\u0433 \u0438\u043b\u0433\u044d\u044d\u0445 ","placeholder":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0440\u0443\u0443 \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u0445"},"send_email":{"description":"\u0418\u043c\u044d\u0439\u043b \u0438\u043b\u0433\u044d\u044d\u0445","name":"\u0418\u043c\u044d\u0439\u043b \u0438\u043b\u0433\u044d\u044d\u0445"},"send_msg":{"description":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0440\u0443\u0443 \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u0445","name":"\u041c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u0445","placeholder":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0440\u0443\u0443 \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u0445"},"set_contact_field":{"description":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u0433 \u0448\u0438\u043d\u044d\u0447\u043b\u044d\u0445","name":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u0433 \u0448\u0438\u043d\u044d\u0447\u043b\u044d\u0445"},"set_run_result":{"description":"\u042d\u043d\u044d \u0443\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u04af\u0440 \u0434\u04af\u043d\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u043d\u0430 \u0443\u0443 ","name":"\u0423\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u04af\u0440 \u0434\u04af\u043d\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445 "},"split_by_contact_field":{"description":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u0442\u0430\u043b\u0431\u0430\u0440\u0430\u0430\u0440 \u0445\u0443\u0432\u0430\u0430\u0445","name":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u0442\u0430\u043b\u0431\u0430\u0440\u0430\u0430\u0440 \u0445\u0443\u0432\u0430\u0430\u0445"},"split_by_expression":{"description":"\u0422\u0443\u0441\u0433\u0430\u0439 \u0438\u043b\u044d\u0440\u0445\u0438\u0439\u043b\u043b\u044d\u044d\u0440 \u0445\u0443\u0432\u0430\u0430\u0445","name":"\u0422\u0443\u0441\u0433\u0430\u0439 \u0438\u043b\u044d\u0440\u0445\u0438\u0439\u043b\u043b\u044d\u044d\u0440 \u0445\u0443\u0432\u0430\u0430\u0445"},"split_by_groups":{"description":"\u0411\u04af\u043b\u0433\u0438\u0439\u043d \u0433\u0438\u0448\u04af\u04af\u043d\u0447\u043b\u044d\u043b\u044d\u044d\u0440 \u0445\u0443\u0432\u0430\u0430\u0445","name":"\u0411\u04af\u043b\u0433\u0438\u0439\u043d \u0433\u0438\u0448\u04af\u04af\u043d\u0447\u043b\u044d\u043b\u044d\u044d\u0440 \u0445\u0443\u0432\u0430\u0430\u0445"},"split_by_intent":{"description":"\u0417\u043e\u0440\u0438\u043b\u0433\u043e\u043e\u0440 \u0445\u0443\u0432\u0430\u0430\u0445","name":"\u0417\u043e\u0440\u0438\u043b\u0433\u043e\u043e\u0440 \u0445\u0443\u0432\u0430\u0430\u0445"},"split_by_random":{"description":"\u0421\u0430\u043d\u0430\u043c\u0441\u0430\u0440\u0433\u04af\u0439 \u0431\u0430\u0439\u0434\u043b\u0430\u0430\u0440 \u0445\u0443\u0432\u0430\u0430\u0445","name":"\u0421\u0430\u043d\u0430\u043c\u0441\u0430\u0440\u0433\u04af\u0439 \u0431\u0430\u0439\u0434\u043b\u0430\u0430\u0440 \u0445\u0443\u0432\u0430\u0430\u0445"},"split_by_run_result":{"description":"\u0423\u0440\u0441\u0433\u0430\u043b \u0434\u0430\u0445\u044c \u04af\u0440 \u0434\u04af\u043d\u0433\u044d\u044d\u0440 \u0445\u0443\u0432\u0430\u0430\u0445","name":"\u0423\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u04af\u0440 \u0434\u04af\u043d\u0433\u044d\u044d\u0440 \u0445\u0443\u0432\u0430\u0430\u0445 "},"split_by_scheme":{"description":"URN \u0442\u04e9\u0440\u043b\u04e9\u04e9\u0440 \u0445\u0443\u0432\u0430\u0430\u0445","name":"URN \u0442\u04e9\u0440\u043b\u04e9\u04e9\u0440 \u0445\u0443\u0432\u0430\u0430\u0445"},"start_session":{"description":"\u04e8\u04e9\u0440 \u0445\u044d\u043d \u043d\u044d\u0433\u043d\u0438\u0439\u0433 \u0443\u0440\u0441\u0433\u0430\u043b\u0430\u0430\u0440 \u044d\u0445\u043b\u04af\u04af\u043b","name":"\u04e8\u04e9\u0440 \u0445\u044d\u043d \u043d\u044d\u0433\u043d\u0438\u0439\u0433 \u044d\u0445\u043b\u04af\u04af\u043b"},"transfer_airtime":{"description":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0434 \u043d\u044d\u0433\u0436 \u0438\u043b\u0433\u044d\u044d\u0445","name":"\u041d\u044d\u0433\u0436 \u0438\u043b\u0433\u044d\u044d\u0445"},"wait_for_audio":{"description":"\u0410\u0443\u0434\u0438\u043e \u0431\u0438\u0447\u043b\u044d\u0433\u0438\u0439\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af ","name":"\u0410\u0443\u0434\u0438\u043e \u0431\u0438\u0447\u043b\u044d\u0433\u0438\u0439\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af "},"wait_for_dial":{"description":"\u04e8\u04e9\u0440 \u0445\u044d\u043d \u043d\u044d\u0433\u044d\u043d \u0440\u04af\u04af \u0434\u0430\u043c\u0436\u0443\u0443\u043b\u0441\u0430\u043d \u0434\u0443\u0443\u0434\u043b\u0430\u0433\u044b\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af","name":"\u0414\u0430\u043c\u0436\u0443\u0443\u043b\u0441\u0430\u043d \u0434\u0443\u0443\u0434\u043b\u0430\u0433\u044b\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af"},"wait_for_digits":{"description":"\u041e\u043b\u043e\u043d \u043e\u0440\u043e\u043d\u0442\u043e\u0439 \u0442\u043e\u043e\u043d \u0443\u0442\u0433\u044b\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af","name":"\u0422\u043e\u043e\u043d \u0443\u0442\u0433\u044b\u0433 \u0445\u04af\u043b\u044d\u044d\u0445"},"wait_for_image":{"description":"\u0417\u0443\u0440\u0433\u0438\u0439\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af","name":"\u0417\u0443\u0440\u0433\u0438\u0439\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af"},"wait_for_location":{"description":"\u0411\u0430\u0439\u0440\u0448\u043b\u044b\u043d GPS \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af","name":"\u0411\u0430\u0439\u0440\u0448\u043b\u044b\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af"},"wait_for_menu":{"description":"\u0426\u044d\u0441\u043d\u0438\u0439 \u0441\u043e\u043d\u0433\u043e\u043b\u0442\u044b\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af","name":"\u0426\u044d\u0441\u043d\u0438\u0439 \u0441\u043e\u043d\u0433\u043e\u043b\u0442\u044b\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af"},"wait_for_response":{"description":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447 \u0445\u0430\u0440\u0438\u0443 \u04e9\u0433\u04e9\u0445\u0438\u0439\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af","name":"\u0425\u0430\u0440\u0438\u0443 \u0438\u0440\u0442\u044d\u043b \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af"},"wait_for_video":{"description":"\u0412\u0438\u0434\u0435\u043e\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af","name":"\u0412\u0438\u0434\u0435\u043e\u0433 \u0445\u04af\u043b\u044d\u044d\u043d\u044d \u04af\u04af"}},"add":"\u041d\u044d\u043c\u044d\u0445","asset_selector":{"placeholder":"\u041e\u0434\u043e\u043e \u0431\u0430\u0439\u0433\u0430\u0430 [[name]]-\u0433 \u0441\u043e\u043d\u0433\u043e\u0445 \u044d\u0441\u0432\u044d\u043b \u0448\u0438\u043d\u044d\u044d\u0440 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","placeholder_plural":"\u041e\u0434\u043e\u043e \u0431\u0430\u0439\u0433\u0430\u0430 [[name]]-\u0433 \u0441\u043e\u043d\u0433\u043e\u0445 \u044d\u0441\u0432\u044d\u043b \u0448\u0438\u043d\u044d\u044d\u0440 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"},"assets":{"classifier":"[[name]] \u0430\u043d\u0433\u0438\u043b\u0430\u0433\u0447 \u0440\u0443\u0443 \u0434\u0443\u0443\u0434\u043b\u0430\u0433\u0430 \u0445\u0438\u0439\u0445","ticketer":"[[name]] \u0434\u044d\u044d\u0440 \u0448\u0438\u043d\u044d \u0442\u0430\u0441\u0430\u043b\u0431\u0430\u0440 \u043d\u044d\u044d\u0445"},"body":"\u0418\u0445 \u0431\u0438\u0435","buttons":{"cancel":"\u0426\u0443\u0446\u043b\u0430\u0445","create_message":"\u041c\u0435\u0441\u0441\u0435\u0436 \u04af\u04af\u0441\u0433\u044d\u0445","download":"\u0422\u0430\u0442\u0430\u0436 \u0430\u0432\u0430\u0445","ok":"\u041e\u043a"},"contact_statuses":{"active":"\u0418\u0434\u044d\u0432\u0445\u0442\u044d\u0439","archived":"\u0410\u0440\u0445\u0438\u0432\u043b\u0430\u0433\u0434\u0441\u0430\u043d - \u0431\u04af\u0440 \u043c\u04e9\u0441\u04e9\u043d \u0431\u04af\u043b\u0433\u044d\u044d\u0441 \u0445\u0430\u0441\u0430\u0445","blocked":"\u0411\u043b\u043e\u043a\u043b\u043e\u0441\u043e\u043d - \u0431\u04af\u0440 \u043c\u04e9\u0441\u04e9\u043d \u0431\u04af\u043b\u0433\u044d\u044d\u0441 \u0445\u0430\u0441\u0430\u0445","stopped":"\u0417\u043e\u0433\u0441\u043e\u043e\u0441\u043e\u043d - \u0434\u0430\u0445\u0438\u043d \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u0440\u044d\u0445 \u0445\u04af\u0440\u0442\u044d\u043b \u0431\u04af\u043b\u0433\u044d\u044d\u0441 \u0445\u0430\u0441\u0430\u0445"},"context_explorer":{"copied_expression":"<1>[[expression]]</1>-\u0433 keyboard-\u043d \u0441\u0430\u043d\u0430\u0445 \u043e\u0439\u0440\u0443\u0443 \u0445\u0443\u0443\u043b\u0441\u0430\u043d","hide_empty":"\u0423\u0442\u0433\u0430 \u0431\u04af\u0445\u0438\u0439 \u0442\u04af\u043b\u0445\u04af\u04af\u0440\u04af\u04af\u0434\u0438\u0439\u0433 \u0445\u0430\u0440\u0443\u0443\u043b\u0436 \u0431\u0430\u0439\u043d\u0430","show_empty":"\u0411\u04af\u0445 \u0442\u04af\u043b\u0445\u04af\u04af\u0440\u04af\u04af\u0434\u0438\u0439\u0433 \u0445\u0430\u0440\u0443\u0443\u043b\u0436 \u0431\u0430\u0439\u043d\u0430"},"create_label":"\u0428\u043e\u0448\u0433\u043e \u04af\u04af\u0441\u0433\u044d\u0445","document":"\u0411\u0430\u0440\u0438\u043c\u0442 \u0431\u0438\u0447\u0438\u0433","drag_helper":"Node-\u04af\u04af\u0434\u0438\u0439\u0433 \u0445\u043e\u043b\u0431\u043e\u0445\u044b\u043d \u0442\u0443\u043b\u0434 \u0443\u043b\u0430\u0430\u043d \u0442\u043e\u0439\u0440\u0433\u043e\u043e\u0441 <1>\u0447\u0438\u0440\u043d\u044d \u04af\u04af</1>.","email":{"subject":"\u0421\u044d\u0434\u044d\u0432","to":"\u0440\u0443\u0443"},"empty_flow_message":"<0>\u042d\u0445\u044d\u043b\u0446\u0433\u044d\u044d\u0435</0> <1>\u0411\u0438\u0434 \u0442\u0430\u043d\u0434 \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u0445 \u0437\u0430\u043c\u0430\u0430\u0440 \u0443\u0440\u0441\u0433\u0430\u043b\u0430\u0430 \u044d\u0445\u043b\u04af\u04af\u043b\u044d\u0445\u0438\u0439\u0433 \u0437\u04e9\u0432\u043b\u04e9\u0436 \u0431\u0430\u0439\u043d\u0430. \u042d\u043d\u044d \u043c\u0435\u0441\u0441\u0435\u0436\u0438\u0439\u0433 \u0443\u0440\u0441\u0433\u0430\u043b\u0434 \u043d\u044d\u0433\u0434\u0441\u044d\u043d\u0438\u0439 \u0434\u0430\u0440\u0430\u0430 \u0445\u044d\u043d\u0434 \u0447 \u0438\u043b\u0433\u044d\u044d\u0445 \u0431\u043e\u043b\u043d\u043e. \u042d\u043d\u044d \u0431\u043e\u043b \u0442\u0430\u043d\u044b \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u0445 \u044d\u0441\u0432\u044d\u043b \u0442\u044d\u0434\u043d\u044d\u044d\u0441 \u0430\u0441\u0443\u0443\u043b\u0442 \u0430\u0441\u0443\u0443\u0445 \u0431\u043e\u043b\u043e\u043c\u0436 \u044e\u043c.</1>","enter_to_create_group":"\u0428\u0438\u043d\u044d \u0431\u04af\u043b\u044d\u0433 \u04af\u04af\u0441\u0433\u044d\u0445\u0438\u0439\u043d \u0442\u0443\u043b\u0434 \u043d\u044d\u0440 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","enter_to_create_label":"\u041e\u0434\u043e\u043e \u0431\u0430\u0439\u0433\u0430\u0430 \u0448\u043e\u0448\u0433\u043e\u043d\u044b \u043d\u044d\u0440\u0438\u0439\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443 \u044d\u0441\u0432\u044d\u043b \u0448\u0438\u043d\u044d\u044d\u0440 \u04af\u04af\u0441\u0433\u044d\u043d\u044d \u04af\u04af","errors":{"group_not_found":"\u041e\u0434\u043e\u043e \u0431\u0430\u0439\u0433\u0430\u0430 \u0431\u04af\u043b\u0433\u0438\u0439\u043d \u043d\u044d\u0440\u0438\u0439\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","http_header_missing_name":"HTTP headers \u0445\u044d\u0441\u044d\u0433 \u043d\u044c \u043d\u044d\u0440\u0442\u044d\u0439 \u0431\u0430\u0439\u0445 \u0451\u0441\u0442\u043e\u0439 ","network":"\u0425\u043c\u043c, \u0442\u0430\u043d\u044b \u04e9\u04e9\u0440\u0447\u043b\u04e9\u043b\u0442\u0438\u0439\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445\u0430\u0434 \u0430\u0441\u0443\u0443\u0434\u0430\u043b \u0433\u0430\u0440\u043b\u0430\u0430. \u0422\u0430\u043d\u044b \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u0445\u043e\u043b\u0431\u043e\u043b\u0442 \u043e\u0434\u043e\u043e\u0433\u043e\u043e\u0440 \u0441\u0430\u0439\u043d \u0430\u0436\u0438\u043b\u043b\u0430\u0445\u0433\u04af\u0439 \u0431\u0430\u0439\u0436 \u043c\u0430\u0433\u0430\u0434\u0433\u04af\u0439 \u044e\u043c. \u041d\u044d\u0433 \u043c\u0438\u043d\u0443\u0442 \u0445\u04af\u043b\u044d\u044d\u0433\u044d\u044d\u0434 \u0434\u0430\u0445\u0438\u043d \u043e\u0440\u043e\u043b\u0434\u043e\u043d\u043e \u0443\u0443.","server":"\u0425\u043c\u043c, \u0442\u0430\u043d\u044b \u04e9\u04e9\u0440\u0447\u043b\u04e9\u043b\u0442\u0438\u0439\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445\u0430\u0434 \u0430\u0441\u0443\u0443\u0434\u0430\u043b \u0433\u0430\u0440\u043b\u0430\u0430. \u0425\u044d\u0440\u044d\u0432 \u044d\u043d\u044d \u0430\u0441\u0443\u0443\u0434\u0430\u043b \u0445\u044d\u0432\u044d\u044d\u0440 \u0431\u0430\u0439\u0432\u0430\u043b \u0442\u0430 \u0445\u0438\u0439\u0445 \u0433\u044d\u0436 \u0431\u0443\u0439 \u04e9\u04e9\u0440\u0447\u043b\u04e9\u043b\u0442\u04e9\u04e9 \u0442\u044d\u043c\u0434\u044d\u0433\u043b\u044d\u044d\u0434 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0442\u043e\u0439 \u0445\u043e\u043b\u0431\u043e\u043e \u0431\u0430\u0440\u0438\u043d\u0430 \u0443\u0443."},"flow_start":"\u0423\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u044d\u0445\u043b\u044d\u043b","forms":{"add_attachment":"\u0425\u0430\u0432\u0441\u0440\u0430\u043b\u0442 \u043d\u044d\u043c\u044d\u0445","add_groups_summary":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u0433 \u043d\u044d\u043c\u044d\u0445 \u0431\u04af\u043b\u0433\u04af\u04af\u0434\u0438\u0439\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443.","add_labels_summary":"\u0418\u0440\u0436 \u0431\u0443\u0439 \u043c\u0435\u0441\u0441\u0435\u0436\u043d\u04af\u04af\u0434\u044d\u0434 \u0445\u044d\u0440\u044d\u0433\u043b\u044d\u0445 \u0448\u043e\u0448\u0433\u0443\u0443\u0434\u044b\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443. ","add_quick_reply":"\u0428\u0438\u043d\u044d \u0448\u0443\u0443\u0440\u0445\u0430\u0439 \u0445\u0430\u0440\u0438\u0443 \u043d\u044d\u043c\u044d\u044d\u0434 enter \u0434\u0430\u0440\u043d\u0430 \u0443\u0443.","add_urn_summary":"\u0423\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440 \u0433\u044d\u0445 \u043c\u044d\u0442 \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0442\u0430\u0439 \u0445\u043e\u043b\u0431\u043e\u0433\u0434\u043e\u0445 \u0448\u0438\u043d\u044d URN \u043d\u044d\u043c\u043d\u044d \u04af\u04af.","advanced":"\u0414\u044d\u0432\u0448\u0438\u043b\u0442\u044d\u0442","all_destinations":"\u0411\u04af\u0445 \u043e\u0447\u0438\u0445 \u0433\u0430\u0437\u0440\u0443\u0443\u0434","all_destinations_description":"\u042d\u043d\u044d \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u043c\u044d\u0434\u0434\u044d\u0433 \u0431\u04af\u0445 \u0433\u0430\u0437\u0430\u0440\u043b\u0443\u0443 \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u043d\u044d \u04af\u04af. \u0425\u044d\u0440\u044d\u0432 \u0442\u0430 \u044d\u043d\u044d \u043d\u044c \u044e\u0443 \u0433\u044d\u0441\u044d\u043d \u04af\u0433 \u0431\u043e\u043b\u043e\u0445\u044b\u0433 \u043c\u044d\u0434\u044d\u0445\u0433\u04af\u0439 \u0431\u0430\u0439\u0433\u0430\u0430 \u0431\u043e\u043b \u0448\u0430\u043b\u0433\u0430\u0445\u0433\u04af\u0439 \u043e\u0440\u0445\u0438\u043d\u043e \u0443\u0443.","and":"\u0431\u0430\u0441","are_required":"\u0448\u0430\u0430\u0440\u0434\u043b\u0430\u0433\u0430\u0442\u0430\u0439","arguments":"\u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0443\u0443\u0434","attachments":"\u0425\u0430\u0432\u0441\u0440\u0430\u043b\u0442\u0443\u0443\u0434","audio_url":"\u0410\u0443\u0434\u0438\u043e URL","body":"\u0418\u0445 \u0431\u0438\u0435","buckets":"\u0411\u0430\u0433\u0446\u0443\u0443\u0434","categories":"\u0430\u043d\u0433\u0438\u043b\u0430\u043b","categorize_as":"\u0433\u044d\u0436 \u0430\u043d\u0433\u0438\u043b\u0430\u0445","category":"\u0410\u043d\u0433\u0438\u043b\u0430\u043b ","channel":"\u0421\u0443\u0432\u0430\u0433","channel_type":"\u0421\u0443\u0432\u0433\u0438\u0439\u043d \u0442\u04e9\u0440\u04e9\u043b","classifier":"\u0410\u043d\u0433\u0438\u043b\u0430\u0433\u0447","clear":"\u0410\u0440\u0438\u043b\u0433\u0430\u0445","confidence":"\u0438\u0442\u0433\u044d\u043b","contact_field":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u0442\u0430\u043b\u0431\u0430\u0440","contact_query":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u0445\u04af\u0441\u044d\u043b\u0442","continue_when_no_response":"\u0425\u0430\u0440\u0438\u0443 \u04e9\u0433\u04e9\u0445\u0433\u04af\u0439 \u0431\u043e\u043b \u04af\u0440\u0433\u044d\u043b\u0436\u043b\u04af\u04af\u043b\u043d\u044d \u04af\u04af","create_group":"\u0411\u04af\u043b\u044d\u0433 \u04af\u04af\u0441\u0433\u044d\u0445","create_prefix":"\u0428\u0438\u043d\u044d: ","currency":"\u0412\u0430\u043b\u044e\u0442","day":"\u04e9\u0434\u04e9\u0440","days":"\u04e9\u0434\u0440\u04af\u04af\u0434","delimit":"\u0425\u044f\u0437\u0433\u0430\u0430\u0440\u043b\u0430\u0445","delimit_result":"\u04ae\u0440 \u0434\u04af\u043d\u0433 \u0445\u044f\u0437\u0433\u0430\u0430\u0440\u043b\u0430\u0445","delimit_result_description":"\u04ae\u0440 \u0434\u04af\u043d\u0433\u0438\u0439\u043d\u0445\u044d\u044d \u0445\u044f\u0437\u0433\u0430\u0430\u0440\u043b\u0430\u0441\u0430\u043d \u0445\u044d\u0441\u044d\u0433 \u0434\u044d\u0445 \u0434\u04af\u0440\u043c\u044d\u044d \u0445\u044f\u043d\u0430\u0430\u0440\u0430\u0439","delimiter":"\u0425\u044f\u0437\u0433\u0430\u0430\u0440\u043b\u0430\u0433\u0447","district":"\u0414\u04af\u04af\u0440\u044d\u0433","email_recipient_name":"\u0425\u04af\u043b\u044d\u044d\u043d \u0430\u0432\u0430\u0433\u0447","email_recipient_placeholder":"\u0440\u0443\u0443","email_recipient_prompt":"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433\u0430\u0430 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","enter_a_body":"\u0418\u0445 \u0431\u0438\u0435\u0438\u0439\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","enter_a_subject":"\u0421\u044d\u0434\u0432\u0438\u0439\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","enter_a_url":"URL \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","enter_field_value":"[[field]]-\u0434 \u0448\u0438\u043d\u044d \u0443\u0442\u0433\u0430 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","enter_flow_parameters_summary":"<0>[[flow]]</0> \u043d\u044c \u0434\u0430\u0440\u0430\u0430\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u04af\u04af\u0434\u0438\u0439\u0433 \u044d\u043d\u044d \u0443\u0440\u0441\u0433\u0430\u043b\u0430\u0430\u0440 \u0442\u043e\u0445\u0438\u0440\u0443\u0443\u043b\u0430\u0433\u0434\u0430\u0445\u044b\u0433 \u0445\u04af\u043b\u044d\u044d\u0436 \u0431\u0430\u0439\u043d\u0430. \u042d\u0434\u0433\u044d\u044d\u0440\u0438\u0439\u0433 <4>\u0423\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u04af\u0440 \u0434\u04af\u043d\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445</4> \u04af\u0439\u043b\u0434\u043b\u044d\u044d\u0440 \u044d\u0441\u0432\u044d\u043b \u0448\u0443\u0443\u0434 \u0434\u043e\u043e\u0440\u0445\u043e\u043e\u0440 \u0442\u043e\u0445\u0438\u0440\u0443\u0443\u043b\u0436 \u0431\u043e\u043b\u043d\u043e.","enter_flow_parameters_tab":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u04af\u04af\u0434","enter_new_name":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u0448\u0438\u043d\u044d \u043d\u044d\u0440\u0438\u0439\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","enter_urn_value":"URN \u0443\u0442\u0433\u044b\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","exit_name":"\u0413\u0430\u0440\u0430\u0445 \u043d\u044d\u0440","expression_label":"\u0425\u044d\u0440\u044d\u0432 \u0438\u043b\u044d\u0440\u0445\u0438\u0439\u043b\u044d\u043b ...","field_number":"\u0422\u0430\u043b\u0431\u0430\u0439\u043d \u0434\u0443\u0433\u0430\u0430\u0440","field_value":"\u0422\u0430\u043b\u0431\u0430\u0439\u043d \u0443\u0442\u0433\u0430","flow":"\u0423\u0440\u0441\u0433\u0430\u043b","flow_result":"\u0423\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u04af\u0440 \u0434\u04af\u043d","groups":"\u0411\u04af\u043b\u0433\u04af\u04af\u0434","header_name":"Header \u0445\u044d\u0441\u0433\u0438\u0439\u043d \u043d\u044d\u0440","http_headers":"HTTP Headers","image_url":"\u0417\u0443\u0440\u0433\u0438\u0439\u043d URL","intent":"\u0417\u043e\u0440\u0438\u043b\u0433\u043e","is_not_a_valid_regex":"\u0445\u04af\u0447\u0438\u043d\u0442\u044d\u0439 \u0440\u0435\u0433\u0435\u043a\u0441 \u0431\u0438\u0448 \u0431\u0430\u0439\u043d\u0430","is_not_finished":"\u0434\u0443\u0443\u0441\u0430\u0430\u0433\u04af\u0439 \u0431\u0430\u0439\u043d\u0430","is_required":"\u0448\u0430\u0430\u0440\u0434\u043b\u0430\u0433\u0430\u0442\u0430\u0439","labels":"\u0428\u043e\u0448\u0433\u043e","language":"\u0425\u044d\u043b","localize_rules":"\u0417\u0430\u0440\u0438\u043c\u0434\u0430\u0430 \u0445\u044d\u043b\u0438\u0439\u0433 \u0437\u04e9\u0432 \u0442\u043e\u0445\u0438\u0440\u0443\u0443\u043b\u0430\u0445\u044b\u043d \u0442\u0443\u043b\u0434 \u0442\u0443\u0441\u0433\u0430\u0439 \u0434\u04af\u0440\u044d\u043c \u0445\u044d\u0440\u044d\u0433\u0442\u044d\u0439 \u0431\u0430\u0439\u0434\u0430\u0433. \u041e\u0440\u0447\u0443\u0443\u043b\u0433\u0430 \u04e9\u0433\u04e9\u04e9\u0433\u04af\u0439 \u0431\u043e\u043b \u044d\u0445 \u0434\u04af\u0440\u043c\u0438\u0439\u0433 \u0430\u0448\u0438\u0433\u043b\u0430\u043d\u0430.","localized_quick_replies":"\u0428\u0438\u043d\u044d [[language]] \u0428\u0443\u0443\u0440\u0445\u0430\u0439 \u0445\u0430\u0440\u0438\u0443\u043b\u0442 \u043d\u044d\u043c\u044d\u044d\u0434 enter \u0434\u0430\u0440\u043d\u0430 \u0443\u0443.","maximum_value":"\u0425\u0430\u043c\u0433\u0438\u0439\u043d \u0438\u0445 \u0443\u0442\u0433\u0430","message":"\u041c\u0435\u0441\u0441\u0435\u0436","message_label":"\u0425\u044d\u0440\u044d\u0432 \u043c\u0435\u0441\u0441\u0435\u0436\u043d\u0438\u0439 \u0445\u0430\u0440\u0438\u0443 \u0438\u0440\u0432\u044d\u043b...","method":"\u0410\u0440\u0433\u0430","minimum_value":"\u0425\u0430\u043c\u0433\u0438\u0439\u043d \u0431\u0430\u0433\u0430 \u0443\u0442\u0433\u0430","must_be_less_than":"-\u0430\u0430\u0441 \u0431\u0430\u0433\u0430 \u0431\u0430\u0439\u0445 \u0451\u0441\u0442\u043e\u0439","name":"\u041d\u044d\u0440","operand":"\u041e\u043f\u0435\u0440\u0430\u043d\u0434","operator":"\u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440","pdf_url":"PDF \u0431\u0430\u0440\u0438\u043c\u0442 \u0431\u0438\u0447\u0433\u0438\u0439\u043d URL","phone_number":"\u0423\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440","play_audio_help_text":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u04e9\u043c\u043d\u04e9 \u043d\u044c \u0431\u0438\u0447\u0441\u044d\u043d \u0431\u0438\u0447\u043b\u044d\u0433\u0438\u0439\u0433 \u0430\u0433\u0443\u0443\u043b\u0441\u0430\u043d \u0445\u0443\u0432\u044c\u0441\u0430\u0433\u0447\u0438\u0439\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443. \u0416\u0438\u0448\u044d\u044d\u043b\u0431\u044d\u043b, @results.voicemail \u044d\u0441\u0432\u044d\u043b @fields.short_bio. ","quick_replies":"\u0428\u0443\u0443\u0440\u0445\u0430\u0439 \u0445\u0430\u0440\u0438\u0443\u043b\u0442\u0443\u0443\u0434","quick_replies_summary":"\u0428\u0443\u0443\u0440\u0445\u0430\u0439 \u0445\u0430\u0440\u0438\u0443\u043b\u0442\u0443\u0443\u0434 \u043d\u044c \u0434\u044d\u043c\u0436\u0438\u0433\u0434\u0441\u044d\u043d \u0441\u0443\u0432\u0433\u0443\u0443\u0434\u0430\u0434 \u0442\u043e\u0432\u0447\u043b\u0443\u0443\u0440 \u0445\u044d\u043b\u0431\u044d\u0440\u044d\u044d\u0440 \u0445\u0438\u0439\u0433\u0434\u0441\u044d\u043d \u0431\u0430\u0439\u0434\u0430\u0433. \u0416\u0438\u0448\u044d\u044d\u043b\u0431\u044d\u043b, \u0430\u0441\u0443\u0443\u043b\u0442 \u0430\u0441\u0443\u0443\u0445\u0434\u0430\u0430 \\"\u0422\u0438\u0439\u043c\\" \u0433\u044d\u0436 \u0445\u0443\u0440\u0434\u0430\u043d \u0445\u0430\u0440\u0438\u0443\u043b\u0436, \\"\u04ae\u0433\u04af\u0439\\" \u0433\u044d\u0436 \u043d\u044d\u043c\u0436 \u0431\u043e\u043b\u043d\u043e.","quick_reply":"\u0428\u0443\u0443\u0440\u0445\u0430\u0439 \u0445\u0430\u0440\u0438\u0443\u043b\u0442","recipients":"\u0425\u04af\u043b\u044d\u044d\u043d \u0430\u0432\u0430\u0433\u0447\u0438\u0434","recording":"\u0411\u0438\u0447\u043b\u044d\u0433","recording_label":"\u04e8\u043c\u043d\u04e9\u0445 \u0431\u0438\u0447\u043b\u044d\u0433","remove_from_all_label":"\u0411\u04af\u0433\u0434\u044d\u044d\u0441 \u0445\u0430\u0441","remove_from_all_summary":"\u0418\u0434\u044d\u0432\u0445\u0438\u0442\u044d\u0439 \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u0433 \u0433\u0438\u0448\u04af\u04af\u043d \u0431\u043e\u043b\u0441\u043e\u043d \u0431\u04af\u043b\u0433\u04af\u04af\u0434\u044d\u044d\u0441 \u0445\u0430\u0441.","remove_groups_placeholder":"\u041e\u0434\u043e\u043e \u0431\u0430\u0439\u0433\u0430\u0430 \u0431\u04af\u043b\u0433\u0438\u0439\u043d \u043d\u044d\u0440\u0438\u0439\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443","remove_groups_summary":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u0433 \u0443\u0441\u0442\u0433\u0430\u0445 \u0431\u04af\u043b\u0433\u04af\u04af\u0434\u0438\u0439\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443.","remove_value":"\u0423\u0442\u0433\u044b\u0433 \u0445\u0430\u0441\u0430\u0445","resthook":"Resthook","resthook_to_call":"\u0414\u0443\u0443\u0434\u043b\u0430\u0433\u0430 \u0445\u0438\u0439\u0445 resthook-\u0433 \u0441\u043e\u043d\u0433\u043e\u0445","result":"\u04ae\u0440 \u0434\u04af\u043d","result_category_help":"\u0422\u0430\u043d\u044b \u04af\u0440 \u0434\u04af\u043d\u0433\u0438\u0439\u043d \u043d\u044d\u043c\u044d\u043b\u0442 \u0430\u043d\u0433\u0438\u043b\u0430\u043b. \u041d\u0430\u0441\u043d\u044b \u0445\u0443\u0432\u044c\u0434 \u044d\u043d\u044d \u0443\u0442\u0433\u0430 \u043d\u044c 17 \u0431\u0430\u0439\u0436 \u0431\u043e\u043b\u043e\u0445 \u0447 \u0430\u043d\u0433\u0438\u043b\u0430\u043b \u043d\u044c \\"\u0414\u04e9\u043d\u0433\u04e9\u0436 \u043d\u0430\u0441\u0430\u043d\u0434 \u0445\u04af\u0440\u044d\u0433\u0447\\" \u0431\u0430\u0439\u0436 \u0431\u043e\u043b\u043d\u043e. ","result_name":"\u04ae\u0440 \u0434\u04af\u043d\u0433\u0438\u0439\u043d \u043d\u044d\u0440","result_name_help":"\u04ae\u0440 \u0434\u04af\u043d\u0433 \u043d\u044d\u0440\u043b\u044d\u0441\u043d\u044d\u044d\u0440 \u0442\u0430 [[resultFormat]] \u0430\u0448\u0438\u0433\u043b\u0430\u043d \u0434\u0430\u0440\u0430\u0430 \u043d\u044c \u0445\u0430\u0440\u0436 \u0431\u043e\u043b\u043d\u043e.","result_to_split_on":"\u0425\u0443\u0432\u0430\u0430\u0445 \u04af\u0440 \u0434\u04af\u043d","result_value_help":"\u042d\u043d\u044d \u0438\u043b\u044d\u0440\u0446\u0438\u0439\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445 \u0443\u0442\u0433\u044b\u0433 \u044d\u0441\u0432\u044d\u043b \u0430\u0440\u0438\u043b\u0433\u0430\u0445\u044b\u043d \u0442\u0443\u043b\u0434 \u0445\u043e\u043e\u0441\u043e\u043d \u043e\u0440\u0445\u0438. \u0422\u0430 \u0438\u043b\u044d\u0440\u0445\u0438\u0439\u043b\u044d\u043b \u0430\u0448\u0438\u0433\u043b\u0430\u0436 \u0431\u043e\u043b\u043d\u043e, \u0436\u0438\u0448\u044d\u044d \u043d\u044c: @(title(input))","rules":"\u0434\u04af\u0440\u044d\u043c","save_as":"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445","save_as_title":"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445","save_result_name":"\u04ae\u0440 \u0434\u04af\u043d\u0433\u0438\u0439\u043d \u043d\u044d\u0440","select_channel":"\u042d\u043d\u044d \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0434 \u0430\u0448\u0438\u0433\u043b\u0430\u0445 \u0441\u0443\u0432\u0433\u0438\u0439\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","select_contacts":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0434\u044b\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","select_flow":"\u042d\u0445\u043b\u044d\u0445 \u0443\u0440\u0441\u0433\u0430\u043b\u044b\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","select_groups":"\u0411\u04af\u043b\u0433\u04af\u04af\u0434\u0438\u0439\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","select_intent":"\u0417\u043e\u0440\u0438\u043b\u0433\u043e\u043e \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","select_language":"\u042d\u043d\u044d \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0434 \u0430\u0448\u0438\u0433\u043b\u0430\u0445 \u0445\u044d\u043b\u044d\u044d \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","select_result":"\u04ae\u0440 \u0434\u04af\u043d\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","select_what_to_update":"\u042e\u0443 \u0448\u0438\u043d\u044d\u0447\u043b\u044d\u0445\u044d\u044d \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","select_who_to_start":"\u0423\u0440\u0441\u0433\u0430\u043b\u0434 \u0445\u044d\u043d \u044d\u0445\u043b\u044d\u0445 \u0451\u0441\u0442\u043e\u0439\u0433 \u0441\u043e\u043d\u0433\u043e","send_msg_facebook_topic_placeholder":"Facebook \u0434\u044d\u044d\u0440 \u0430\u0448\u0438\u0433\u043b\u0430\u0445 \u0441\u044d\u0434\u0432\u044d\u044d \u0441\u043e\u043d\u0433\u043e","send_msg_facebook_warning":"\u0424\u044d\u0439\u0441\u0431\u04af\u04af\u043a \u0441\u0443\u0432\u0433\u0430\u0430\u0440 \u0431\u04e9\u04e9\u043d\u04e9\u04e9\u0440 \u043d\u044c \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u0445\u0434\u044d\u044d \u0445\u044d\u0440\u044d\u0433\u043b\u044d\u0433\u0447 \u0441\u04af\u04af\u043b\u0438\u0439\u043d 24 \u0446\u0430\u0433\u0438\u0439\u043d \u0434\u043e\u0442\u043e\u0440 \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u0433\u044d\u044d\u0433\u04af\u0439 \u0431\u043e\u043b \u0441\u044d\u0434\u0432\u0438\u0439\u0433 \u0437\u0430\u0430\u0436 \u04e9\u0433\u04e9\u0445 \u0448\u0430\u0430\u0440\u0434\u043b\u0430\u0433\u0430\u0442\u0430\u0439. Facebook \u0434\u044d\u044d\u0440 \u0430\u0448\u0438\u0433\u043b\u0430\u0445 \u0441\u044d\u0434\u0432\u0438\u0439\u0433 \u0442\u043e\u0445\u0438\u0440\u0443\u0443\u043b\u0430\u0445 \u043d\u044c \u0442\u0430\u043d\u044b \u0443\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u044d\u0445\u043d\u0438\u0439 \u043c\u0435\u0441\u0441\u0435\u0436\u0438\u043d\u0434 \u0438\u0445\u044d\u044d\u0445\u044d\u043d \u0447\u0443\u0445\u0430\u043b \u044e\u043c.","send_msg_summary":"\u0417\u0443\u0440\u0432\u0430\u0441 \u0431\u04af\u0440\u0442 \u0445\u0430\u0432\u0441\u0440\u0430\u043b\u0442 \u043d\u044d\u043c\u043d\u044d \u04af\u04af. \u0425\u0430\u0432\u0441\u0440\u0430\u043b\u0442 \u043d\u044c \u0442\u0430\u043d\u044b \u0431\u0430\u0439\u0440\u0448\u0443\u0443\u043b\u0441\u0430\u043d \u0444\u0430\u0439\u043b \u044d\u0441\u0432\u044d\u043b \u0443\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u0438\u043b\u044d\u0440\u0445\u0438\u0439\u043b\u044d\u043b \u0431\u043e\u043b\u043e\u043d \u0445\u0443\u0432\u044c\u0441\u0430\u0433\u0447\u0434\u044b\u0433 \u0430\u0448\u0438\u0433\u043b\u0430\u0441\u0430\u043d \u0434\u0438\u043d\u0430\u043c\u0438\u043a URL \u0431\u0430\u0439\u0436 \u0431\u043e\u043b\u043d\u043e. ","send_msg_summary_plural":"\u0417\u0443\u0440\u0432\u0430\u0441 \u0431\u04af\u0440\u0442 \u0445\u0430\u0432\u0441\u0440\u0430\u043b\u0442 \u043d\u044d\u043c\u043d\u044d \u04af\u04af. \u0425\u0430\u0432\u0441\u0440\u0430\u043b\u0442 \u043d\u044c \u0442\u0430\u043d\u044b \u0431\u0430\u0439\u0440\u0448\u0443\u0443\u043b\u0441\u0430\u043d \u0444\u0430\u0439\u043b \u044d\u0441\u0432\u044d\u043b \u0443\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u0438\u043b\u044d\u0440\u0445\u0438\u0439\u043b\u044d\u043b \u0431\u043e\u043b\u043e\u043d \u0445\u0443\u0432\u044c\u0441\u0430\u0433\u0447\u0434\u044b\u0433 \u0430\u0448\u0438\u0433\u043b\u0430\u0441\u0430\u043d \u0434\u0438\u043d\u0430\u043c\u0438\u043a URL \u0431\u0430\u0439\u0436 \u0431\u043e\u043b\u043d\u043e. ","split_by_channel_placeholder":"\u0425\u0443\u0432\u0430\u0430\u0445 \u0441\u0443\u0432\u0433\u0443\u0443\u0434\u0430\u0430 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","split_by_groups":"\u0414\u043e\u043e\u0440\u0445 \u0431\u04af\u043b\u044d\u0433\u0442 \u0445\u0443\u0432\u0430\u0430\u0445\u044b\u0433 \u0445\u04af\u0441\u044d\u0436 \u0431\u0443\u0439 \u0431\u04af\u043b\u0433\u04af\u04af\u0434\u044d\u044d \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","split_by_scheme":"\u0421\u0443\u0432\u0433\u0438\u0439\u043d \u0442\u04e9\u0440\u043b\u04af\u04af\u0434","split_by_scheme_summary":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d URN \u043d\u044c \u0443\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440 \u044d\u0441\u0432\u044d\u043b Facebook ID \u0433\u044d\u0445 \u043c\u044d\u0442 \u0442\u0430\u043d\u0442\u0430\u0439 \u0445\u043e\u043b\u0431\u043e\u0433\u0434\u043e\u0445\u043e\u0434 \u0430\u0448\u0438\u0433\u043b\u0430\u0434\u0430\u0441\u0430\u043d \u0445\u0430\u044f\u0433 \u044e\u043c. \u0410\u043b\u044c URN \u0442\u04e9\u0440\u043b\u04e9\u04e9\u0440 \u043d\u044c \u0445\u0443\u0432\u0430\u0430\u0445\u044b\u0433 \u0434\u043e\u043e\u0440\u043e\u043e\u0441 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443.","start_type":"\u042d\u0445\u043b\u044d\u0445 \u0442\u04e9\u0440\u04e9\u043b","start_type_create":"\u0428\u0438\u043d\u044d \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447 \u04af\u04af\u0441\u0433\u044d\u0445 ","start_type_manual":"\u0425\u04af\u043b\u044d\u044d\u043d \u0430\u0432\u0430\u0433\u0447\u0434\u044b\u0433 \u0433\u0430\u0440\u0430\u0430\u0440 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","start_type_query":"\u0410\u0441\u0443\u0443\u043b\u0433\u0430\u0430\u0441 \u0445\u04af\u043b\u044d\u044d\u043d \u0430\u0432\u0430\u0433\u0447\u0434\u044b\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443","state":"\u041c\u0443\u0436","status":"\u0421\u0442\u0430\u0442\u0443\u0441","subject":"\u0421\u044d\u0434\u044d\u0432","template":"\u0437\u0430\u0433\u0432\u0430\u0440","the_maximum":"\u0445\u0430\u043c\u0433\u0438\u0439\u043d \u0438\u0445","the_minimum":"\u0445\u0430\u043c\u0433\u0438\u0439\u043d \u0431\u0430\u0433\u0430","ticketer":"\u0422\u0430\u0441\u0430\u043b\u0431\u0430\u0440 \u0442\u04af\u0433\u044d\u044d\u0433\u0447","timeout":"\u0417\u0430\u0432\u0441\u0430\u0440\u043b\u0430\u0433\u0430","timeout_1 day":"1 \u04e9\u0434\u04e9\u0440","timeout_1 hour":"1 \u0446\u0430\u0433","timeout_1 minute":"1 \u043c\u0438\u043d\u0443\u0442","timeout_1 week":"1 \u0434\u043e\u043b\u043e\u043e \u0445\u043e\u043d\u043e\u0433","timeout_10 minutes":"10 \u043c\u0438\u043d\u0443\u0442 ","timeout_12 hours":"12 \u0446\u0430\u0433","timeout_15 minutes":"15 \u043c\u0438\u043d\u0443\u0442","timeout_18 hours":"18 \u0446\u0430\u0433 ","timeout_2 days":"2 \u04e9\u0434\u04e9\u0440","timeout_2 hours":"2 \u0446\u0430\u0433 ","timeout_2 minutes":"2 \u043c\u0438\u043d\u0443\u0442 ","timeout_3 days":"3 \u04e9\u0434\u04e9\u0440 ","timeout_3 hours":"3 \u0446\u0430\u0433","timeout_3 minutes":"3 \u043c\u0438\u043d\u0443\u0442","timeout_4 minutes":"4 \u043c\u0438\u043d\u0443\u0442","timeout_5 minutes":"5 \u043c\u0438\u043d\u0443\u0442","timeout_6 hours":"6 \u0446\u0430\u0433","today":"\u04e9\u043d\u04e9\u04e9\u0434\u04e9\u0440","today_proper":"\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440","translation":"\u041e\u0440\u0447\u0443\u0443\u043b\u0433\u0430","type":"\u0422\u04e9\u0440\u04e9\u043b","type_label":"\u0422\u0430\u043d\u044b \u0443\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u044d\u043d\u044d \u04af\u0435\u0434 \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447 \u0445\u04af\u043d \u0438\u0440\u044d\u0445\u044d\u0434...","type_options":"\u0421\u043e\u043d\u0433\u043e\u043b\u0442\u0443\u0443\u0434\u044b\u0433 \u0431\u0438\u0447\u043d\u044d \u04af\u04af","upload_attachment":"\u0425\u0430\u0432\u0441\u0440\u0430\u043b\u0442\u044b\u0433 \u0431\u0430\u0439\u0440\u0448\u0443\u0443\u043b\u0430\u0445","url":"URL","urn":"URN","urn_type":"URN \u0442\u04e9\u0440\u04e9\u043b ","use_as_default_language":"\u0415\u0440\u04e9\u043d\u0445\u0438\u0439 \u0445\u044d\u043b\u044d\u044d\u0440 \u0430\u0448\u0438\u0433\u043b\u0430\u0445","value":"\u0423\u0442\u0433\u0430","variable":"\u0425\u0443\u0432\u044c\u0441\u0430\u0433\u0447","video_url":"\u0412\u0438\u0434\u0435\u043e URL","webhook_body_summary":"\u0422\u0430\u043d\u044b webhook \u0440\u04af\u04af \u0438\u043b\u0433\u044d\u044d\u0433\u0434\u044d\u0445 \u0445\u04af\u0441\u044d\u043b\u0442\u0438\u0439\u043d body [[method]] \u0445\u044d\u0441\u0433\u0438\u0439\u0433 \u04e9\u04e9\u0440\u0447\u0438\u043b.","webhook_example":"\u042d\u043d\u044d \u0445\u0430\u0440\u0438\u0443\u043b\u0442 \u043d\u044c \u0443\u0440\u0441\u0433\u0430\u043b\u0434 \u0430\u0448\u0438\u0433\u043b\u0430\u0433\u0434\u0430\u0445\u044b\u043d \u0442\u0443\u043b\u0434 <1>@webhook.product</1> \u0431\u043e\u043b\u043e\u043d <4>@webhook[\\"stock level\\"]</4>-\u0433 \u043d\u044d\u043c\u043d\u044d.","webhook_header":"Header","webhook_header_name":"Header Name","webhook_header_summary":"\u0425\u04af\u0441\u044d\u043b\u0442\u0438\u0439\u043d \u0445\u0430\u043c\u0442 \u0438\u043b\u0433\u044d\u044d\u0445\u0438\u0439\u0433 \u0445\u04af\u0441\u044d\u0436 \u0431\u0443\u0439 \u043d\u044d\u043c\u044d\u043b\u0442 headers\u0433 \u0434\u043e\u043e\u0440 \u043d\u044d\u043c\u043d\u044d \u04af\u04af. ","webhook_help":"\u0425\u044d\u0440\u044d\u0432 \u0442\u0430\u043d\u044b \u0441\u0435\u0440\u0432\u0435\u0440 JSON-\u043e\u043e\u0440 \u0445\u0430\u0440\u0438\u0443 \u04e9\u0433\u04e9\u0445 \u044e\u043c \u0431\u043e\u043b property \u0431\u04af\u0440\u0438\u0439\u0433 \u0443\u0440\u0441\u0433\u0430\u043b\u0434 \u043d\u044d\u043c\u043d\u044d.","whatsapp_warning":"WhatsApp \u0441\u0443\u0432\u0433\u0430\u0430\u0440 \u043c\u0435\u0441\u0441\u0435\u0436 \u0438\u043b\u0433\u044d\u044d\u0445\u0434\u044d\u044d \u0441\u04af\u04af\u043b\u0438\u0439\u043d 24 \u0446\u0430\u0433\u0438\u0439\u043d \u0434\u043e\u0442\u043e\u0440 \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0430\u0430\u0441 \u043c\u0435\u0441\u0441\u0435\u0436 \u0445\u04af\u043b\u044d\u044d\u0436 \u0430\u0432\u0430\u0430\u0433\u04af\u0439 \u0431\u043e\u043b \u0437\u0430\u0433\u0432\u0430\u0440\u044b\u0433 \u0430\u0448\u0438\u0433\u043b\u0430\u0445 \u0448\u0430\u0430\u0440\u0434\u043b\u0430\u0433\u0430\u0442\u0430\u0439. WhatsApp \u0434\u044d\u044d\u0440 \u0430\u0448\u0438\u0433\u043b\u0430\u0445 \u0437\u0430\u0433\u0432\u0430\u0440\u044b\u0433 \u0442\u043e\u0445\u0438\u0440\u0443\u0443\u043b\u0430\u0445 \u043d\u044c \u0442\u0430\u043d\u044b \u0443\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u044d\u0445\u043d\u0438\u0439 \u043c\u0435\u0441\u0441\u0435\u0436\u043d\u0438\u0439 \u0447\u0443\u0445\u0430\u043b \u0430\u043b\u0445\u0430\u043c \u044e\u043c."},"issues":{"header":"\u0423\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u0430\u0441\u0443\u0443\u0434\u043b\u0443\u0443\u0434","label":"\u0423\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u0430\u0441\u0443\u0443\u0434\u043b\u0443\u0443\u0434","legacy_extra":"\u0411\u0443\u0440\u0443\u0443 \u0438\u043b\u044d\u0440\u0445\u0438\u0439\u043b\u044d\u043b \u043e\u043b\u0434\u043b\u043e\u043e: [[regex]] ","missing_dependency":"<1>[[name]]</1>-\u0434 \u0437\u043e\u0440\u0438\u0443\u043b\u0441\u0430\u043d [[type]] \u043e\u043b\u0434\u043e\u0445\u0433\u04af\u0439 \u0431\u0430\u0439\u043d\u0430 "},"operators":{"has_all_words":"\u0431\u04af\u0445 \u04af\u0433\u0442\u044d\u0439","has_any_word":"\u0430\u043b\u044c \u043d\u044d\u0433 \u04af\u0433\u0442\u044d\u0439","has_beginning":"-\u0440 \u044d\u0445\u044d\u043b\u0434\u044d\u0433","has_category":"\u0430\u043d\u0433\u0438\u043b\u0430\u043b\u0442\u0430\u0439","has_date":"\u043e\u0433\u043d\u043e\u043e\u0442\u043e\u0439","has_date_category":"\u041e\u0433\u043d\u043e\u043e\u0442\u043e\u0439","has_date_eq":"-\u0442\u044d\u0439 \u0442\u044d\u043d\u0446\u044d\u0445 \u043e\u0433\u043d\u043e\u043e\u0442\u043e\u0439","has_date_gt":"-\u0441 \u0434\u0430\u0440\u0430\u0430 \u043e\u0433\u043d\u043e\u043e\u0442\u043e\u0439","has_date_lt":"-\u0441 \u04e9\u043c\u043d\u04e9 \u043e\u0433\u043d\u043e\u043e\u0442\u043e\u0439","has_district":"\u0434\u04af\u04af\u0440\u044d\u0433\u0442\u044d\u0439","has_district_category":"\u0414\u04af\u04af\u0440\u044d\u0433\u0442\u044d\u0439","has_email":"\u0438\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433\u0442\u0430\u0439","has_email_category":"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433\u0442\u0430\u0439","has_error":"\u0430\u043b\u0434\u0430\u0430\u0442\u0430\u0439","has_error_category":"\u0410\u043b\u0434\u0430\u0430\u0442\u0430\u0439","has_group":"\u0431\u04af\u043b\u044d\u0433\u0442 \u0431\u0430\u0439\u0434\u0430\u0433","has_intent":"\u0437\u043e\u0440\u0438\u043b\u0433\u043e\u0442\u043e\u0439","has_number":"\u0442\u043e\u043e\u0442\u043e\u0439","has_number_between":"-\u043d \u0445\u043e\u043e\u0440\u043e\u043d\u0434 \u0442\u043e\u043e\u0442\u043e\u0439","has_number_eq":"-\u0442\u044d\u0439 \u0442\u044d\u043d\u0446\u044d\u0445 \u0442\u043e\u043e\u0442\u043e\u0439","has_number_gt":"-\u0441 \u0434\u044d\u044d\u0448 \u0442\u043e\u043e\u0442\u043e\u0439","has_number_gte":"-\u0441 \u0434\u044d\u044d\u0448 \u044d\u0441\u0432\u044d\u043b \u044f\u0433 \u0438\u0436\u0438\u043b \u0442\u043e\u043e\u0442\u043e\u0439","has_number_lt":"-\u0441 \u0434\u043e\u043e\u0448 \u0442\u043e\u043e\u0442\u043e\u0439","has_number_lte":"-\u0441 \u0434\u043e\u043e\u0448 \u044d\u0441\u0432\u044d\u043b \u044f\u0433 \u0438\u0436\u0438\u043b \u0442\u043e\u043e\u0442\u043e\u0439","has_only_phrase":"\u0433\u044d\u0441\u044d\u043d \u0443\u0442\u0433\u0430\u0442\u0430\u0439","has_pattern":"-\u0442\u044d\u0439 \u0442\u0430\u0430\u0440\u0430\u0445 regex-\u0442\u044d\u0439","has_phone":"\u0443\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440\u0442\u0430\u0439","has_phone_category":"\u0423\u0442\u0430\u0441\u0442\u0430\u0439","has_phrase":"\u0433\u044d\u0441\u044d\u043d \u0443\u0442\u0433\u0430\u0442\u0430\u0439","has_state":"\u043c\u0443\u0436\u0442\u0430\u0439","has_state_category":"\u041c\u0443\u0436\u0442\u0430\u0439","has_text":"\u0442\u0435\u043a\u0441\u0442\u0442\u044d\u0439","has_time":"\u0446\u0430\u0433\u0442\u0430\u0439","has_top_intent":"\u0447\u0443\u0445\u0430\u043b \u0437\u043e\u0440\u0438\u043b\u0433\u043e\u0442\u043e\u0439","has_value":"\u0445\u043e\u043e\u0441\u043e\u043d \u0431\u0438\u0448","has_value_category":"\u0425\u043e\u043e\u0441\u043e\u043d \u0431\u0438\u0448","has_ward":"\u0447\u0438\u0433\u043b\u044d\u043b\u0442\u044d\u0439","has_ward_category":"\u0427\u0438\u0433\u043b\u044d\u043b\u0442\u044d\u0439"},"recent_contacts":{"header":"Recent Contacts","header_empty":"No Recent Contacts"},"removal_confirmation":"\u0425\u0430\u0441\u0430\u0445 \u0443\u0443?","revisions":{"current":"\u043e\u0434\u043e\u043e\u0433\u0438\u0439\u043d","header":"\u0428\u0438\u043d\u044d\u0447\u043b\u044d\u043b\u0442\u04af\u04af\u0434","label":"\u0428\u0438\u043d\u044d\u0447\u0438\u043b\u0441\u044d\u043d \u0442\u04af\u04af\u0445","revert":"\u0431\u0443\u0446\u0430\u0445"},"schemes":{"email":{"name":"\u0418\u043c\u044d\u0439\u043b","path":"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433"},"external":{"name":"\u0413\u0430\u0434\u0430\u0430\u0434","path":"\u0413\u0430\u0434\u0430\u0430\u0434 ID"},"facebook":{"path":"Facebook"},"firebase":{"name":"Firebase","path":"Firebase ID"},"freschat":{"name":"Freshchat"},"freshchat":{"path":"Freshchat ID"},"jiochat":{"path":"Jiochat ID"},"jiojach":{"name":"Jiochat"},"line":{"name":"Line","path":"Line ID"},"phone":{"name":"SMS","path":"\u0423\u0442\u0430\u0441\u043d\u044b \u0434\u0443\u0433\u0430\u0430\u0440"},"telegram":{"name":"Telegram","path":"Telegram ID"},"twitter":{"name":"Twitter","path":"Twitter Handle"},"twitterid":{"name":"Twitter","path":"Twitter ID"},"viber":{"name":"Viber","path":"Viber ID"},"wechat":{"name":"Wechat","path":"Wechat ID"},"whatsapp":{"name":"WhatsApp","path":"WhatsApp \u0434\u0443\u0433\u0430\u0430\u0440"}},"simulator":{"added_to_group":"\u041d\u044d\u043c\u044d\u0433\u0434\u0441\u044d\u043d","airtime_transferred":"[[amount]] [[currency]]-\u0433 [[recipient]] \u0440\u0443\u0443 \u0448\u0438\u043b\u0436\u04af\u04af\u043b\u0441\u044d\u043d","contact_field_changed":"\\"[[field]]\\" \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u0433 \\"[[value]]\\" \u0431\u043e\u043b\u0433\u043e\u0436 \u0442\u043e\u0445\u0438\u0440\u0443\u0443\u043b\u0430\u0445","contact_field_cleared":"\\"[[field]]\\" \u0445\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u0433 \u0443\u0441\u0442\u0433\u0430\u0441\u0430\u043d","contact_language_changed":"\u0421\u043e\u043d\u0433\u043e\u0441\u043e\u043d \u0445\u044d\u043b\u0438\u0439\u0433 \\"[[language]]\\" \u0431\u043e\u043b\u0433\u043e\u0436 \u0442\u043e\u0445\u0438\u0440\u0443\u0443\u043b\u0430\u0445","contact_name_changed":"\u0425\u0430\u0440\u0438\u043b\u0446\u0430\u0433\u0447\u0438\u0439\u043d \u043d\u044d\u0440\u0438\u0439\u0433 \\"[[name]]\\" \u0431\u043e\u043b\u0433\u043e\u0436 \u0442\u043e\u0445\u0438\u0440\u0443\u0443\u043b\u0430\u0445 ","contact_status_changed":"\u0422\u04e9\u043b\u04e9\u0432\u0438\u0439\u0433 \\"[[status]]\\" \u0431\u043e\u043b\u0433\u043e\u0436 \u0442\u043e\u0445\u0438\u0440\u0443\u0443\u043b\u0430\u0445","flow_entered":"\u041e\u0440\u0443\u0443\u043b\u0441\u0430\u043d \u0443\u0440\u0441\u0433\u0430\u043b \\"[[flow]]\\"","flow_exited":"\u0423\u0440\u0441\u0433\u0430\u043b\u0430\u0430\u0441 \u0433\u0430\u0440\u043b\u0430\u0430","httplog_dialog":"HTTP \u0445\u04af\u0441\u044d\u043b\u0442\u0438\u0439\u043d \u0434\u044d\u043b\u0433\u044d\u0440\u044d\u043d\u0433\u04af\u0439 \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b","input_labels_added":"\u0433\u044d\u0441\u044d\u043d \u0448\u043e\u0448\u0433\u043e\u0442\u043e\u0439 \u043c\u0435\u0441\u0441\u0435\u0436","label":"\u0421\u0438\u043c\u0443\u043b\u044f\u0442\u043e\u0440 \u0434\u044d\u044d\u0440 \u0430\u0436\u0438\u043b\u043b\u0443\u0443\u043b\u0430\u0445","msg_wait":"\u0425\u0430\u0440\u0438\u0443 \u0445\u04af\u043b\u044d\u044d\u0436 \u0431\u0430\u0439\u043d\u0430","prompt":{"message":"\u041c\u0435\u0441\u0441\u0435\u0436 \u043e\u0440\u0443\u0443\u043b\u0430\u0445","restart":"\u0414\u0430\u0445\u0438\u043d \u044d\u0445\u043b\u04af\u04af\u043b\u044d\u0445\u0438\u0439\u043d \u0442\u0443\u043b\u0434 home \u0442\u043e\u0432\u0447\u0438\u0439\u0433 \u0434\u0430\u0440\u043d\u0430 \u0443\u0443"},"removed_from_group":"-\u0430\u0430\u0441 \u0445\u0430\u0441\u0441\u0430\u043d","resthook_called":"\\"[[resthook]]\\" \u0443\u0440\u0441\u0433\u0430\u043b\u044b\u043d \u04af\u0439\u043b \u0430\u0436\u0438\u043b\u043b\u0430\u0433\u0430\u0430","run_result_changed":"\\"[[field]]\\" \u04af\u0440 \u0434\u04af\u043d\u0433 \\"[[value]]\\" \u0431\u043e\u043b\u0433\u043e\u0436 \u0442\u043e\u0445\u0438\u0440\u0443\u0443\u043b\u0430\u0445","sent_email":{"summary":"[[recipients]] \u0440\u0443\u0443 \\"[[subject]]\\" \u0433\u0430\u0440\u0447\u0438\u0433\u0442\u0430\u0439 \u0438\u043c\u044d\u0439\u043b \u0438\u043b\u0433\u044d\u044d\u0441\u044d\u043d","title":"\u0418\u043c\u044d\u0439\u043b\u0438\u0439\u043d \u0434\u044d\u043b\u0433\u044d\u0440\u044d\u043d\u0433\u04af\u0439 \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b"},"session_triggered":"\\"[[flow]]\\"-\u0434 \u04e9\u04e9\u0440 \u0445\u044d\u043d \u043d\u044d\u0433\u043d\u0438\u0439\u0433 \u044d\u0445\u043b\u04af\u04af\u043b\u0441\u044d\u043d","ticket_opened":"\\"[[\u0441\u044d\u0434\u044d\u0432]]\\" \u0441\u044d\u0434\u0432\u044d\u044d\u0440 \u043d\u044d\u044d\u0441\u044d\u043d \u0442\u0430\u0441\u0430\u043b\u0431\u0430\u0440"},"sticky":{"body":"...","title":"\u0428\u0438\u043d\u044d \u0442\u044d\u043c\u0434\u044d\u0433\u043b\u044d\u043b"},"translation":{"header":"\u0423\u0440\u0441\u0433\u0430\u043b \u043e\u0440\u0447\u0443\u0443\u043b\u0433\u0430","label":"\u041e\u0440\u0447\u0443\u0443\u043b\u0433\u0430 "}}')},function(e){e.exports=JSON.parse('{"actions":{"add_contact_groups":{"description":"Adicione o contato a um grupo","name":"Adicione a um Grupo  "},"add_contact_urn":{"description":"Adicione URN a um contato","name":"Adicione URN"},"add_input":{"description":"Etiquete a mensagem recebida","name":"Adicione etiqueta"},"call_resthook":{"description":"Ligar para Zapier","name":"Chamar Zapier"},"call_webhook":{"description":"Chamar um webhook","name":"Chamar Webhook"},"enter_flow":{"description":"Entrar em outro fluxo","name":"Entrar em um fluxo"},"open_ticket":{"description":"Abrir um ticket com um agente humano","name":"Abrir um Ticket"},"play_audio":{"description":"Reproduzir uma grava\xe7\xe3o de contato","name":"Reproduzir Grava\xe7\xe3o"},"play_message":{"description":"Reproduzir uma mensagem","name":"Reproduzir Mensagem"},"remove_contact_groups":{"description":"Remover contato de um grupo ","name":"Remover de um Grupo "},"say_msg":{"placeholder":"Manda uma mensagem para o contato"},"send_broadcast":{"description":"Envie uma mensagem para outra pessoa","name":"Enviar transmiss\xe3o","placeholder":"Envie uma mensagem para o contato"},"send_email":{"description":"Envie um email","name":"Enviar Email"},"send_msg":{"description":"Envie uma mensagem ao contato","name":"Enviar mensagem","placeholder":"Enviar mensagem para o contato"},"set_contact_field":{"description":"Atualizar o contato ","name":"Atualizar Contato"},"set_run_result":{"description":"Salve o Resultado para este fluxo","name":"Salvar Resultado do Fluxo"},"split_by_contact_field":{"description":"Dividir por um campo de contato","name":"Dividir por campo de contato"},"split_by_expression":{"description":"Dividir por uma express\xe3o customizada","name":"Dividir por Express\xe3o"},"split_by_groups":{"description":"Dividir por filia\xe7\xe3o de grupo","name":"Dividir por Filia\xe7\xe3o de Grupo"},"split_by_intent":{"description":"Dividir por inten\xe7\xe3o","name":"Dividir por Inten\xe7\xe3o"},"split_by_random":{"description":"Dividir por chance aleat\xf3ria","name":"Dividir Aleatoriamente"},"split_by_run_result":{"description":"Dividir por resultado no fluxo","name":"Dividir por Resultado de Fluxo"},"split_by_scheme":{"description":"Dividir por tipo de URN","name":"Dividir por tipo de URN"},"start_session":{"description":"Iniciar outra pessoa em um fluxo","name":"Iniciar Outra Pessoa"},"transfer_airtime":{"description":"Envie airtime para o contato","name":"Envie Airtime"},"wait_for_audio":{"description":"Aguarde por uma grava\xe7\xe3o de \xe1udio","name":"Aguarde por \xc1udio"},"wait_for_dial":{"description":"Esperar por uma chamada encaminhada para outra pessoa","name":"Esperar por uma chamada encaminhada"},"wait_for_digits":{"description":"Aguarde por m\xfaltiplos d\xedgitos","name":"Aguarde por D\xedgitos"},"wait_for_image":{"description":"Espere por uma imagem","name":"Aguarde por imagem"},"wait_for_location":{"description":"Aguarde as coordenadas GPS de localiza\xe7\xe3o","name":"Aguarde por Localiza\xe7\xe3o"},"wait_for_menu":{"description":"Aguarde por sele\xe7\xe3o de menu","name":"Aguarde por Sele\xe7\xe3o de Menu"},"wait_for_response":{"description":"Aguarde a resposta do contato","name":"Aguarde por resposta"},"wait_for_video":{"description":"Aguarde por um v\xeddeo","name":"Aguarde por V\xeddeo"}},"add":"Adicione","asset_selector":{"placeholder":"Selecione [[name]] existente ou adicione um novo","placeholder_plural":"Selecione [[name]] existente ou adicione um novo"},"assets":{"classifier":"Chame o classificador [[name]]","ticketer":"Open a new Ticket on [[name]]"},"body":"Corpo","buttons":{"cancel":"Cancelar","create_message":"Criar mensagem","download":"Baixar","ok":"Ok"},"contact_statuses":{"active":"Ativo","archived":"Arquivados - remova de grupos, ignore para sempre","blocked":"Bloqueado - remova de grupos, ignore para sempre","stopped":"Parado - remova de grupos, ignore at\xe9 que enviem mensagem novamente"},"context_explorer":{"copied_expression":"Copiado <1>[[expression]]</1> para a \xe1rea de transfer\xeancia","hide_empty":"Mostrando chaves com valores","show_empty":"Mostrando todas as chaves"},"create_label":"Criar Label","document":"Document","drag_helper":"Para conectar n\xf3s, <1>arraste</1> a partir do c\xedrculo vermelho.","email":{"subject":"Assunto","to":"Para"},"empty_flow_message":"<0>Vamos come\xe7ar </0><1>Nos recomendamos iniciar seu fluxo enviando uma mensagem. Esta mensagem ser\xe1 enviada para qualquer pessoa que entrar no seu fluxo. Esta \xe9 a sua chance de enviar uma mensagem simples ou fazer uma pergunta. </1>","enter_to_create_group":"Insira um nome para criar um novo grupo","enter_to_create_label":"Insira o nome de uma label existente ou crie uma nova","errors":{"group_not_found":"Insira o nome de um grupo existente","http_header_missing_name":"Cabe\xe7alhos HTTP devem ter um nome","network":"Hmm, encontramos um problema ao tentar salvar as suas altera\xe7\xf5es. Sua conex\xe3o com a internet pode n\xe3o estar funcionando bem no momento. Por favor espere um pouco e tente novamente.","server":"Hmm, we ran into a problem trying to save your changes. If this problem persists, take note of the change you are trying to make and contact support."},"flow_start":"In\xedcio de fluxo","forms":{"add_attachment":"Adicione um arquivo","add_groups_summary":"Selecione os grupos para adicionar o contato.","add_labels_summary":"Selecione as etiquetas a serem aplicadas na mensagem recebida.","add_quick_reply":"Adicione uma nova Resposta R\xe1pida e pressione enter.","add_urn_summary":"Adicione uma nova URN para encontrar o contato, como um n\xfamero de telefone.","advanced":"Avan\xe7ado","all_destinations":"Todos os Destinos","all_destinations_description":"Envie uma mensagem para todos os destinos conhecidos deste contato. Se voc\xea n\xe3o tiver certeza do que isso significa, deixe-o desmarcado.","and":"e","are_required":"s\xe3o requeridos","arguments":"argumentos","attachments":"Arquivos","audio_url":"URL de \xc1udio","body":"Corpo","buckets":"Reposit\xf3rios","categories":"categorias","categorize_as":"categorize como","category":"Categoria","channel":"Canal","channel_type":"Tipo de Canal","classifier":"Classificador","clear":"Limpar","confidence":"confian\xe7a","contact_field":"Campo de Contato","contact_query":"Query do Contato","continue_when_no_response":"Continue quando n\xe3o houver resposta","create_group":"Criar um Grupo","create_prefix":"Novo:","currency":"Moeda","day":"dia","days":"dias","delimit":"Delimitar","delimit_result":"Delimitar Resultado","delimit_result_description":"Avalie suas regras contra uma parte delimitada do seu resultado","delimiter":"Delimitador","district":"Distrito","email_recipient_name":"Destinat\xe1rio","email_recipient_placeholder":"Para","email_recipient_prompt":"Insira o endere\xe7o de email","enter_a_body":"Insira um corpo","enter_a_subject":"Insira um assunto","enter_a_url":"Insira um URL","enter_field_value":"Insira um novo valor para [[field]]","enter_flow_parameters_summary":"<0>[[flow]]</0> espera que os seguintes par\xe2metros sejam definidos por este fluxo. Eles podem ser definidos usando uma a\xe7\xe3o <4>Salvar Resultado do Fluxo</4> ou diretamente abaixo.","enter_flow_parameters_tab":"Par\xe2metros","enter_new_name":"Insira um novo nome para o contato","enter_urn_value":"Insira um valor para URN","exit_name":"Nome de sa\xedda","expression_label":"Se a express\xe3o...","field_number":"N\xfamero do campo","field_value":"Valor do campo","flow":"Fluxo","flow_result":"Resultado do Fluxo","groups":"Grupos","header_name":"Nome do Cabe\xe7alho","http_headers":"Headers HTTP","image_url":"URL da Imagem","intent":"Inten\xe7\xe3o","is_not_a_valid_regex":"n\xe3o \xe9 uma regex v\xe1lida","is_not_finished":"n\xe3o est\xe1 finalizado","is_required":"\xe9 requerido","labels":"Etiquetas","language":"Linguagem","localize_rules":"\xc0s vezes, os idiomas precisam de regras especiais para rotear as coisas corretamente. Se uma tradu\xe7\xe3o n\xe3o for fornecida, a regra original ser\xe1 usada.","localized_quick_replies":"Adicione uma nova Resposta R\xe1pida em [[language]] e pressione enter.","maximum_value":"Valor m\xe1ximo","message":"Mensagem","message_label":"Se a resposta da mensagem...","method":"M\xe9todo","minimum_value":"Valor m\xednimo","must_be_less_than":"deve ser menor que","name":"Nome","operand":"Operando","operator":"operador","pdf_url":"PDF Document URL","phone_number":"N\xfamero de Telefone","play_audio_help_text":"Digite uma vari\xe1vel que cont\xe9m uma grava\xe7\xe3o que o contato gravou anteriormente. Por exemplo, @ results.voicemail ou @ fields.short_bio.","quick_replies":"Respostas R\xe1pidas","quick_replies_summary":"As Respostas r\xe1pidas s\xe3o transformadas em bot\xf5es para os canais suportados. Por exemplo, ao fazer uma pergunta, voc\xea pode adicionar uma Resposta r\xe1pida para \\"Sim\\" e outra para \\"N\xe3o\\".","quick_reply":"Resposta R\xe1pida","recipients":"Destinat\xe1rios","recording":"Grava\xe7\xe3o","recording_label":"Grava\xe7\xe3o Anterior","remove_from_all_label":"Remover de todos","remove_from_all_summary":"Remova os contatos ativos de todos os grupos dos quais eles s\xe3o membros.","remove_groups_placeholder":"Insira o nome de um grupo existente","remove_groups_summary":"Selecione os grupos para remover os contatos","remove_value":"Remover valor","resthook":"Resthook","resthook_to_call":"Selecione o resthook a ser chamado","result":"Resultado","result_category_help":"Uma categoria opcional para seu resultado. Para a idade, o valor pode ser 17, mas a categoria pode ser \'Jovem Adulto\'","result_name":"Nome do Resultado","result_name_help":"Ao nomear o resultado, voc\xea pode fazer refer\xeancia a ele mais tarde usando [[resultFormat]]","result_to_split_on":"Resultado para dividir em","result_value_help":"O valor a ser salvo para este resultado ou vazio para apag\xe1-lo. Voc\xea pode usar express\xf5es, por exemplo: @(title(input))","rules":"regras","save_as":"Salvar como","save_as_title":"Salve como..","save_result_name":"Nome do Resultado","select_channel":"Selecione o canal \xe0 ser utilizado para esse contato","select_contacts":"Selecione os Contatos","select_flow":"Selecione o fluxo para iniciar","select_groups":"Selecione os Grupos","select_intent":"Select intent","select_language":"Selecione o idioma \xe0 ser utilizado para este contato","select_result":"Selecione o Resultado","select_what_to_update":"Selecione o que ir\xe1 atualizar","select_who_to_start":"Selecione quem deve ser iniciado no fluxo","send_msg_facebook_topic_placeholder":"Selecione um t\xf3pico para usar no Facebook","send_msg_facebook_warning":"O envio de mensagens em massa por um canal do Facebook exige que um t\xf3pico seja especificado se o usu\xe1rio n\xe3o tiver enviado uma mensagem nas \xfaltimas 24 horas. Definir um t\xf3pico para usar no Facebook \xe9 especialmente importante para a primeira mensagem no seu fluxo.","send_msg_summary":"Adicione um anexo a cada mensagem. O anexo pode ser um arquivo que voc\xea carrega ou uma URL din\xe2mica usando express\xf5es e vari\xe1veis \u200b\u200bdo seu Fluxo.","send_msg_summary_plural":"Adicione um anexo a cada mensagem. O anexo pode ser um arquivo que voc\xea carrega ou uma URL din\xe2mica usando express\xf5es e vari\xe1veis \u200b\u200bdo seu Fluxo.","split_by_channel_placeholder":"Selecione os canais para dividir por","split_by_groups":"Selecione os grupos que voc\xea deseja dividir abaixo","split_by_scheme":"Tipos de canal","split_by_scheme_summary":"A URN do contato \xe9 o endere\xe7o utilizado para te encontrar  como o n\xfamero de telefone deles ou um ID do Facebook. Selecione quais os tipos de URN para se dividir em, abaixo.","start_type":"Tipo de In\xedcio","start_type_create":"Criar um novo contato","start_type_manual":"Selecione destinat\xe1rios manulmente","start_type_query":"Selecione destinat\xe1rios de uma busca","state":"Estado","status":"Status","subject":"Assunto","template":"modelo","the_maximum":"o m\xe1ximo","the_minimum":"o m\xednimo","ticketer":"Ticketer","timeout":"Tempo de espera","timeout_1 day":"1 dia","timeout_1 hour":"1 hora","timeout_1 minute":"1 minuto","timeout_1 week":"1 semana","timeout_10 minutes":"10 minutos","timeout_12 hours":"12 horas","timeout_15 minutes":"15 minutos","timeout_18 hours":"18 horas","timeout_2 days":"2 dias","timeout_2 hours":"2 horas","timeout_2 minutes":" 2 minutos","timeout_3 days":"3 dias","timeout_3 hours":"3 horas","timeout_3 minutes":"3 minutos","timeout_4 minutes":"4 minutos","timeout_5 minutes":"5 minutos","timeout_6 hours":"6 horas","today":"hoje","today_proper":"Hoje","translation":"Tradu\xe7\xe3o","type":"Tipo","type_label":"Quando um contato chegar a esse ponto do fluxo...","type_options":"Op\xe7\xf5es de tipo","upload_attachment":"Enviar arquivo","url":"URL","urn":"URN","urn_type":"Tipo de URN","use_as_default_language":"Use como l\xedngua padr\xe3o","value":"Valor","variable":"Vari\xe1vel","video_url":"URL de V\xeddeo","webhook_body_summary":"Modifique o corpo da solicita\xe7\xe3o [[method]], que ser\xe1 enviada ao seu webhook.","webhook_example":"Esta resposta deveria adicionar <1>@webhook.product</1> e <4>@webhook[\\"stock level\\"]</4> para uso em um fluxo.","webhook_header":"Cabe\xe7alho","webhook_header_name":"Nome do Cabe\xe7alho","webhook_header_summary":"Adicione abaixo os cabe\xe7alhos adicionais que voc\xea gostaria de enviar juntamente com sua solicita\xe7\xe3o.","webhook_help":"Se seu servidor responder com JSON, cada propriedade ser\xe1 adicionada ao Fluxo.","whatsapp_warning":"O envio de mensagens por um canal do WhatsApp exige que um template seja usado se voc\xea n\xe3o recebeu uma mensagem de um contato nas \xfaltimas 24 horas. A configura\xe7\xe3o de template para uso no WhatsApp \xe9 especialmente importante para a primeira mensagem no seu fluxo."},"issues":{"header":"Problemas no Fluxo","label":"Problemas no Fluxo","legacy_extra":"Express\xe3o regular inv\xe1lida encontrada: [[regex]]","missing_dependency":"N\xe3o pode encontrar [[type]] para <1>[[name]]</1>"},"operators":{"has_all_words":"tem todas as palavras","has_any_word":"tem qualquer das palavras","has_beginning":"come\xe7a com","has_category":"tem a categoria","has_date":"tem uma data","has_date_category":"Tem Data","has_date_eq":"tem uma data igual a","has_date_gt":"tem uma data depois ","has_date_lt":"tem uma data antes","has_district":"tem distrito","has_district_category":"Tem Distrito","has_email":"Tem um email","has_email_category":"Tem Email","has_error":"tem um erro","has_error_category":"Tem Erro","has_group":"est\xe1 no grupo","has_intent":"tem inten\xe7\xe3o","has_number":"tem um n\xfamero","has_number_between":"tem um n\xfamero entre","has_number_eq":"tem um n\xfamero igual a ","has_number_gt":"tem um n\xfamero acima","has_number_gte":"tem um n\xfamero igual ou acima","has_number_lt":"tem um n\xfamero abaixo","has_number_lte":"tem um n\xfamero igual ou abaixo","has_only_phrase":"tem apenas a frase","has_pattern":"corresponde a regex","has_phone":"tem um n\xfamero de telefone","has_phone_category":"Tem Telefone","has_phrase":"Tem a frase","has_state":"tem estado","has_state_category":"Tem Estado","has_text":"tem algum texto","has_time":"tem um tempo","has_top_intent":"tem a inten\xe7\xe3o principal","has_value":"n\xe3o est\xe1 vazio","has_value_category":"N\xe3o Vazio","has_ward":"Tem quadra","has_ward_category":"Tem Quadra"},"recent_contacts":{"header":"Recent Contacts","header_empty":"No Recent Contacts"},"removal_confirmation":"Remover?","revisions":{"current":"atual","header":"Revis\xf5es","label":"Hist\xf3rico de Revis\xe3o","revert":"reverter"},"schemes":{"email":{"name":"Email","path":"Endere\xe7o de e-mail"},"external":{"name":"Externo","path":"ID Externo"},"facebook":{"path":"Facebook"},"firebase":{"name":"Firebase","path":"Firebase ID"},"freschat":{"name":"Freshcat"},"freshchat":{"path":"Freschcat ID"},"jiochat":{"path":"Jiochat ID"},"jiojach":{"name":"Jiochat"},"line":{"name":"Line","path":"Line ID"},"phone":{"name":"SMS","path":"N\xfamero de Telefone"},"telegram":{"name":"Telegram","path":"Telegram ID"},"twitter":{"name":"Twitter","path":"Identificador do Twitter"},"twitterid":{"name":"Twitter","path":"Twitter ID"},"viber":{"name":"Viber","path":"Viber ID"},"wechat":{"name":"Wechat","path":"Wechat ID"},"whatsapp":{"name":"WhatsApp","path":"N\xfamero do WhatsApp"}},"simulator":{"added_to_group":"Adicionado a","airtime_transferred":"Transferido [[amount]] [[currency]] to [[recipient]]","contact_field_changed":"Configure o \\"[[field]]\\" do contato para \\"[[value]]\\"","contact_field_cleared":"Limpou \\"[[field]]\\" do contato","contact_language_changed":"Configure l\xedngua preferencial para \\"[[language]]\\"","contact_name_changed":"Configurar nome do contato para \\"[[name]]\\"","contact_status_changed":"Configurar status para \\"[[status]]\\"","flow_entered":"Entrou no fluxo \\"[[flow]]\\"","flow_exited":"Saiu do fluxo","httplog_dialog":"Detalhes da solicita\xe7\xe3o HTTP","input_labels_added":"Mensagem marcada com","label":"Rodar no Simulador","msg_wait":"Esperando por resposta","prompt":{"message":"Insira a mensagem","restart":"Pressione home para iniciar novamente"},"removed_from_group":"Removido de","resthook_called":"Evento de fluxo acionado \\"[[resthook]]\\"","run_result_changed":"Configurar \\"[[field]]\\" do resultado para \\"[[value]]\\"","sent_email":{"summary":"E-mail enviado para [[recipients]] com o assunto \\"[[subject]]\\"","title":"Detalhes do Email"},"session_triggered":"Iniciou outra pessoa em \\"[[flow]]\\"","ticket_opened":"Ticket aberto com tema \\"[[topic]]\\""},"sticky":{"body":"...","title":"Nova Nota"},"translation":{"header":"Tradu\xe7\xe3o do fluxo","label":"Tradu\xe7\xf5es"}}')},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",message:"AssetSelector_message__1viBV"}},function(e,t,a){e.exports={type_list:"TypeList_type_list__3OATW"}},,function(e,t,a){e.exports={checkbox:"RemoveGroupsForm_checkbox__3W5g6"}},,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",helpText:"StartSessionForm_helpText__2G1ff"}},function(e,t,a){e.exports={value:"UpdateContactForm_value__19Fyz"}},function(e,t,a){e.exports={result_name:"AirtimeRouterForm_result_name__IPVnQ"}},,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",lead_in:"DigitsRouterForm_lead_in__1_8u2"}},function(e,t,a){e.exports={result_name:"ResthookRouterForm_result_name__dcAsY"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",result_name:"WaitRouterForm_result_name__1QlYs"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",link:"ClassifyRouterForm_link__20QgF"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",subject:"TicketRouterForm_subject__3A23k",body:"TicketRouterForm_body__lfD63"}},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",loading:"Loading_loading__3-t_e",pulse:"Loading_pulse__apphI"}},,,,function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",empty_flow:"Flow_empty_flow__roKNh"}},,,,,,,,,function(e,t,a){e.exports=a(241)},function(e,t,a){e.exports={grid_size:"20",node_spacing:"13",node_padding:"3","background-size":"13",proper:"global_proper__rlaqB"}},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);a(167),a(168);var n,o,s,i,r,l,u,c,d,p,m,h,_,g=a(2),v=a(3),f=a(6),y=a(5),b=a(4),k=a(10),E=a(7),C=a(0),w=a.n(C),N=a(11),S=a(21),x=a(8),O="13.1";!function(e){e.channel="channel",e.classifier="classifier",e.contact="contact",e.field="field",e.flow="flow",e.group="group",e.label="label",e.template="template"}(n||(n={})),function(e){e.MISSING_DEPENDENCY="missing_dependency",e.LEGACY_EXTRA="legacy_extra",e.INVALID_REGEX="invalid_regex"}(o||(o={})),function(e){e.switch="switch",e.random="random"}(s||(s={})),function(e){e.msg="msg",e.dial="dial"}(i||(i={})),function(e){e.digits="digits",e.audio="audio",e.image="image",e.video="video",e.location="location"}(r||(r={})),function(e){e.UUID="uuid",e["Created By"]="created_by",e["Modified By"]="modified_by",e.Org="org",e.Name="name",e.Language="language",e.Status="status",e.Timezone="timezone",e.Channel="channel",e.Email="email",e.Mailto="mailto",e.Phone="phone",e.Groups="groups"}(l||(l={})),function(e){e.text="text",e.numeric="numeric",e.datetime="datetime",e.state="state",e.district="district",e.ward="ward"}(u||(u={})),function(e){e.Complete="C",e.Expired="E"}(c||(c={})),function(e){e.Complete="Complete",e.Expired="Expired"}(d||(d={})),function(e){e.Success="Success",e.Failure="Failure"}(p||(p={})),function(e){e.Success="Success",e.Failure="Failed"}(m||(m={})),function(e){e.Answered="Answered",e.NoAnswer="No Answer",e.Busy="Busy",e.Failure="Failed"}(h||(h={})),function(e){e.answered="answered",e.noAnswer="no_answer",e.busy="busy",e.failure="failed"}(_||(_={}));var j,T=function(){function e(t,a){var n=a.id,o=a.name;Object(g.a)(this,e),this.localizedKeys={},this.localizedObject=void 0,this.localized=!1,this.iso=void 0,this.name=void 0,this.language=void 0,this.localizedObject=t,this.iso=n,this.language={iso:this.iso,name:o}}return Object(v.a)(e,[{key:"getLanguage",value:function(){return this.language||this.iso&&(this.language={iso:this.iso,name:this.name}),this.language}},{key:"hasTranslation",value:function(e){return e in this.localizedKeys}},{key:"addTranslation",value:function(e,t){this.localized||(this.localizedObject=Object.assign({},this.localizedObject),this.localized=!0),Array.isArray(this.localizedObject[e])?this.localizedObject[e]=t:1===t.length&&(this.localizedObject[e]=t[0]),this.localizedKeys[e]=!0}},{key:"isLocalized",value:function(){return this.localized}},{key:"getObject",value:function(){return this.localizedObject}}]),e}(),A=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,null,[{key:"translate",value:function(e,t,a){var n=new T(e,t);if(a&&e.uuid in a){var o=a[e.uuid];Object.keys(o).forEach((function(e){return n.addTranslation(e,o[e])}))}return n}}]),e}(),R=a(94),U=a(83),D=a.n(U),P=/\s|-+(?=\S)/g,z=parseInt(D.a.grid_size,10)||20,F=parseInt(D.a.node_spacing,10)||10,I=parseInt(D.a.node_padding,10)||10,L=function(e,t){var a=e%z,n=t%z;return a>z/3?a=z-a:a*=-1,n>z/3?n=z-n:n*=-1,{left:Math.max(e+a,0),top:Math.max(t+n,0)}},M=function(e){var t=e.left%z,a=e.top%z;t>z/3?t=z-t:t*=-1,a>z/3?a=z-a:a*=-1;var n=Math.max(e.left+t,0),o=Math.max(e.top+a,0);return{left:n,top:o,right:n+e.right-e.left,bottom:o+e.bottom-e.top}},q=function(e){return e.toLowerCase().trim().replace(P,"_")},V=function(e){return e.replace(/\b\w+/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))},B=function(e,t){if(!e.length)return!1;var a,n=Object(N.a)(e);try{for(n.s();!(a=n.n()).done;){var o,s=a.value,i=Object(N.a)(t);try{for(i.s();!(o=i.n()).done;){var r=o.value;if(s.match(r))return!0}}catch(l){i.e(l)}finally{i.f()}}}catch(l){n.e(l)}finally{n.f()}return!1},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;return{onMouseDown:function(e){a&&a(e)},onMouseUp:function(a){t&&t()||e(a)}}},H=function(e,t,a){return A.translate(e,a,t[a.id])},W=function(e){return C.createElement("span",{className:"emphasize"},e)},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return e.length>t?e.substr(0,t)+"...":e},Y=function(e){return function(t,a){return e?t:a||null}},X=function(e){return null!==e&&void 0!==e},Z=function(e){return{$set:e}},Q=function(e){return{$merge:e}},J=function(e){return{$unset:e}},$=function(e){return{$push:e}},ee=function(e){return{$splice:e}},te=function(){return Object(R.v4)()},ae=function(e,t){return Array.from({length:t-e},(function(t,a){return a+e}))},ne=function(e,t){return!!e.find((function(e){return e===t}))},oe=function(e,t){var a=!0;return function(){a&&(a=!1,e.apply(void 0,arguments),setTimeout((function(){a=!0}),t))}},se=function(e){window.setTimeout(e,0)},ie=function(e){return e?"true":null},re=a(71),le=a.n(re);!function(e){e.primary="primary",e.secondary="secondary",e.tertiary="tertiary"}(j||(j={}));var ue,ce=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={active:!1},Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleMouseDown",value:function(e){this.setState({active:!0})}},{key:"handleMouseUp",value:function(e){this.setState({active:!1})}},{key:"render",value:function(){var e=this.props,t=e.onRef,a=e.name,n=e.onClick,o=e.type,s=e.disabled,i=e.leftSpacing,r=e.topSpacing,l=e.iconName;return C.createElement("div",{ref:t,style:{marginLeft:i?10:0,marginTop:r?10:0},onClick:n,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,className:"".concat(le.a.btn," ").concat(le.a[o]," ").concat(s?le.a.disabled:""," ").concat(this.state.active?le.a.active:"")},Y(null!=l)(C.createElement("span",{style:{paddingRight:4},className:l})),a)}}]),a}(C.Component),de=a(35),pe=a.n(de),me=a(26),he=a.n(me);!function(e){e.NORMAL="normal",e.BARBER="barber"}(ue||(ue={}));var _e,ge=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).tabFocus=null,n.primaryButton=null,n.state={activeTab:-1},Object(E.react)(Object(f.a)(n),{include:[/^handle/,/^get/]}),n}return Object(v.a)(a,[{key:"showTab",value:function(e){this.setState({activeTab:e})}},{key:"handlePrimaryButton",value:function(e){var t=this;e(),this.tabFocus=window.setTimeout((function(){var e=!1;(t.props.tabs||[]).forEach((function(a,n){if(a.hasErrors)return t.setState({activeTab:n}),void(e=!0)})),e||t.setState({activeTab:-1})}),0)}},{key:"handleKey",value:function(e){"Enter"===e.key&&e.shiftKey&&(this.primaryButton?(e.preventDefault(),e.stopPropagation(),e.target.blur(),this.primaryButton.click(),e.target.focus()):console.log("No primary button!"))}},{key:"componentDidMount",value:function(){window.document.addEventListener("keydown",this.handleKey,{capture:!0})}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.tabFocus),window.document.removeEventListener("keydown",this.handleKey,{capture:!0})}},{key:"getButtons",value:function(){var e=this,t=[],a=this.props.buttons||{primary:null,secondary:null,tertiary:null};a.secondary&&t.push(C.createElement(ce,Object.assign({key:0,type:j.secondary},a.secondary))),a.primary&&t.push(C.createElement(ce,{key:"button_"+a.primary.name,onRef:function(t){e.primaryButton=t},onClick:function(){e.handlePrimaryButton(a.primary.onClick)},leftSpacing:!0,name:a.primary.name,disabled:a.primary.disabled,type:j.primary}));var n=[];return a.tertiary&&n.push(C.createElement(ce,Object.assign({key:0,type:j.tertiary},a.tertiary))),{leftButtons:n,rightButtons:t}}},{key:"render",value:function(){var e=this,t=[he.a.header];this.state.activeTab>-1&&t.push(he.a.clickable),this.props.headerClass&&t.push(pe.a[this.props.headerClass]),this.props.headerIcon&&t.push(he.a.iconed),this.props.headerStyle===ue.BARBER&&t.push(he.a.barber);var a=[he.a.dialog],n=this.getButtons(),o=n.leftButtons,s=n.rightButtons;return this.props.className&&a.push(this.props.className),C.createElement("div",{className:a.join(" ")},(this.props.tabs||[]).length>0?C.createElement("div",{className:he.a.tabs},(this.props.tabs||[]).map((function(t,a){return C.createElement("div",{key:"tab_"+t.name,className:he.a.tab+" "+(a===e.state.activeTab?he.a.active:""),onClick:function(t){t.stopPropagation(),e.setState({activeTab:a})}},t.name," ",t.icon?C.createElement("span",{className:he.a.tab_icon+" "+t.icon}):null,t.checked?C.createElement("span",{className:he.a.tab_icon+" fe-check"}):null)}))):null,C.createElement("div",{onClick:function(){e.setState({activeTab:-1})},className:t.join(" ")},this.state.activeTab>-1?C.createElement("div",{className:he.a.header_overlay}):null,Y(void 0!==this.props.headerIcon)(C.createElement("span",{className:"".concat(he.a.header_icon," ").concat(this.props.headerIcon)})),C.createElement("div",{className:he.a.title_container},C.createElement("div",{className:he.a.title},this.props.title),C.createElement("div",{className:he.a.subtitle},this.props.subtitle))),C.createElement("div",{className:this.props.noPadding?"":he.a.content},this.state.activeTab>-1?this.props.tabs[this.state.activeTab].body:this.props.children),C.createElement("div",{className:he.a.footer},C.createElement("div",{className:he.a.buttons},Y(o.length>0)(C.createElement("div",{className:he.a.left_buttons},o)),Y(null!=this.props.gutter)(C.createElement("div",{className:he.a.gutter},this.props.gutter)),C.createElement("div",{className:he.a.right_buttons},s))))}}]),a}(C.Component),ve=a(29),fe=a(16);!function(e){e.UPDATE_EDITOR_STATE="UPDATE_EDITOR_STATE",e.UPDATE_NODE_EDITOR_SETTINGS="UPDATE_NODE_EDITOR_SETTINGS",e.UPDATE_TRANSLATING="UPDATE_TRANSLATING",e.UPDATE_BASE_LANGUAGE="UPDATE_BASE_LANGUAGE",e.UPDATE_LANGUAGES="UPDATE_LANGUAGES",e.UPDATE_LANGUAGE="UPDATE_LANGUAGE",e.UPDATE_FETCHING_FLOW="FETCHING_FLOW",e.UPDATE_DEFINITION="UPDATE_DEFINITION",e.UPDATE_NODE_DRAGGING="UPDATE_NODE_DRAGGING",e.UPDATE_FLOWS="UPDATE_FLOWS",e.UPDATE_PENDING_CONNECTIONS="UPDATE_PENDING_CONNECTIONS",e.REMOVE_PENDING_CONNECTION="REMOVE_PENDING_CONNECTION",e.UPDATE_COMPONENTS="UPDATE_COMPONENTS",e.UPDATE_CONTACT_FIELDS="UPDATE_CONTACT_FIELDS",e.UPDATE_GROUPS="UPDATE_GROUPS",e.UPDATE_RESULT_MAP="UPDATE_RESULT_MAP",e.UPDATE_ASSET_MAP="UPDATE_ASSET_MAP",e.UPDATE_NODES="UPDATE_NODES",e.UPDATE_ISSUES="UPDATE_ISSUES",e.UPDATE_METADATA="UPDATE_METADATA",e.UPDATE_EXITS="UPDATE_EXITS",e.UPDATE_NODE_EDITOR_OPEN="UPDATE_NODE_EDITOR_OPEN",e.UPDATE_CREATE_NODE_POSITION="UPDATE_CREATE_NODE_POSITION",e.UPDATE_DRAG_GROUP="UPDATE_DRAG_GROUP",e.UPDATE_TYPE_CONFIG="UPDATE_TYPE_CONFIG",e.UPDATE_USER_ADDING_ACTION="UPDATE_USER_ADDING_ACTION",e.INCREMENT_SUGGESTED_RESULT_NAME_COUNT="INCREMENT_SUGGESTED_RESULT_NAME_COUNT"}(_e||(_e={}));var ye=_e,be=a(47),ke=a(14),Ee=a(132),Ce=a(133),we=a(134),Ne=a(135),Se=a(136),xe=a(137),Oe=a(138);be.a.use(Ee.a).use(ke.b).init({detection:{order:["querystring","htmlTag"]},resources:{defaults:{translation:Ce},cs:{translation:we},es:{translation:Ne},fr:{translation:Se},mn:{translation:xe},"pt-br":{translation:Oe}},fallbackLng:["defaults"],interpolation:{prefix:"[[",suffix:"]]"},lowerCaseLng:!0});var je,Te=be.a;!function(e){e.Channel="channel",e.Classifier="classifier",e.Contact="contact",e.ContactProperty="property",e.Currency="currency",e.Environment="environment",e.Expression="expression",e.Field="field",e.Flow="flow",e.Global="global",e.Group="group",e.Label="label",e.Language="language",e.NameMatch="name_match",e.Remove="remove",e.Resthook="resthook",e.Result="result",e.Revision="revision",e.Scheme="scheme",e.Template="template",e.Ticketer="ticketer",e.URN="urn"}(je||(je={}));var Ae,Re,Ue,De,Pe,ze,Fe={id:je.Remove,name:Te.t("forms.remove_value","Remove Value"),type:je.Remove},Ie={id:"base",name:"Default",type:je.Language},Le={definition:null,baseLanguage:null,metadata:{dependencies:[],results:[],waiting_exit_uuids:[],parent_refs:[]},contactFields:{},nodes:{},issues:{},assetStore:{}},Me=function(e){return{type:ye.UPDATE_DEFINITION,payload:{definition:e}}},qe=function(e){return{type:ye.UPDATE_NODES,payload:{nodes:e}}},Ve=function(e){return{type:ye.UPDATE_ISSUES,payload:{issues:e}}},Be=function(e){return{type:ye.UPDATE_METADATA,payload:{metadata:e}}},Ge=function(e){var t=document.querySelector("temba-store");return t&&t.setKeyedAssets("results",Object.keys(e.results.items)),{type:ye.UPDATE_ASSET_MAP,payload:{assets:e}}},He=Object(fe.combineReducers)({definition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le.definition,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_DEFINITION:return t.payload.definition;default:return e}},nodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le.nodes,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_NODES:return t.payload.nodes;default:return e}},issues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le.issues,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_ISSUES:return t.payload.issues;default:return e}},metadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le.metadata,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_METADATA:return t.payload.metadata;default:return e}},assetStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le.assetStore,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_ASSET_MAP:return t.payload.assets;default:return e}},baseLanguage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le.baseLanguage,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_BASE_LANGUAGE:return t.payload.baseLanguage;default:return e}},contactFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le.contactFields,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_CONTACT_FIELDS:return t.payload.contactFields;default:return e}}}),We=a(55),Ke=a.n(We),Ye=a(70),Xe=a(31),Ze=a.n(Xe),Qe={ARS:{id:"ARS",name:"Argentine Peso",type:je.Currency},AUD:{id:"AUD",name:"Australian Dollar",type:je.Currency},BIF:{id:"BIF",name:"Burundi Franc",type:je.Currency},BRL:{id:"BRL",name:"Brazilian Real",type:je.Currency},CAD:{id:"CAD",name:"Canadian Dollar",type:je.Currency},CDF:{id:"CDF",name:"Congolese Franc",type:je.Currency},CLP:{id:"CLP",name:"Chilean Peso",type:je.Currency},COP:{id:"COP",name:"Colombian Peso",type:je.Currency},DJF:{id:"DJF",name:"Djibouti Franc",type:je.Currency},DOP:{id:"DOP",name:"Dominican Peso",type:je.Currency},DZD:{id:"DZD",name:"Algerian Dinar",type:je.Currency},EUR:{id:"EUR",name:"Euro",type:je.Currency},GBP:{id:"GBP",name:"Pound Sterling",type:je.Currency},GHS:{id:"GHS",name:"Ghana Cedi",type:je.Currency},GNF:{id:"GNF",name:"Guinean Franc",type:je.Currency},KES:{id:"KES",name:"Kenyan Shilling",type:je.Currency},LBP:{id:"LBP",name:"Lebanese Pound",type:je.Currency},LKR:{id:"LKR",name:"Sri Lanka Rupee",type:je.Currency},LRD:{id:"LRD",name:"Liberian Dollar",type:je.Currency},MWK:{id:"MWK",name:"Malawi Kwacha",type:je.Currency},MXN:{id:"MXN",name:"Mexican Peso",type:je.Currency},NAD:{id:"NAD",name:"Namibia Dollar",type:je.Currency},NPR:{id:"NPR",name:"Nepalese Rupee",type:je.Currency},NZD:{id:"NZD",name:"New Zealand Dollar",type:je.Currency},PHP:{id:"PHP",name:"Philippine Piso",type:je.Currency},PKR:{id:"PKR",name:"Pakistan Rupee",type:je.Currency},RUB:{id:"RUB",name:"Russian Ruble",type:je.Currency},RWF:{id:"RWF",name:"Rwanda Franc",type:je.Currency},SDG:{id:"SDG",name:"Sudanese Pound",type:je.Currency},SGD:{id:"SGD",name:"Singapore Dollar",type:je.Currency},SLL:{id:"SLL",name:"Leone",type:je.Currency},SOS:{id:"SOS",name:"Somali Shilling",type:je.Currency},SRD:{id:"SRD",name:"Surinam Dollar",type:je.Currency},SVC:{id:"SVC",name:"El Salvador Colon",type:je.Currency},TND:{id:"TND",name:"Tunisian Dinar",type:je.Currency},TRY:{id:"TRY",name:"Turkish Lira",type:je.Currency},TZS:{id:"TZS",name:"Tanzanian Shilling",type:je.Currency},UGX:{id:"UGX",name:"Uganda Shilling",type:je.Currency},USD:{id:"USD",name:"US Dollar",type:je.Currency},UYU:{id:"UYU",name:"Peso Uruguayo",type:je.Currency},UZS:{id:"UZS",name:"Uzbekistan Sum",type:je.Currency},VEF:{id:"VEF",name:"Bol\xedvar",type:je.Currency},XCD:{id:"XCD",name:"East Caribbean Dollar",type:je.Currency},YER:{id:"YER",name:"Yemeni Rial",type:je.Currency},ZAR:{id:"ZAR",name:"Rand",type:je.Currency},ZMW:{id:"ZMW",name:"Zambian Kwacha",type:je.Currency},ZWL:{id:"ZWL",name:"Zimbabwe Dollar",type:je.Currency}};!function(e){e.MESSAGING="messaging",e.MESSAGING_BACKGROUND="messaging_background",e.MESSAGING_OFFLINE="messaging_offline",e.VOICE="voice",e.NONE="-"}(Ae||(Ae={})),function(e){e.ACTIVE="active",e.BLOCKED="blocked",e.STOPPED="stopped",e.ARCHIVED="archived"}(Re||(Re={})),function(e){e.execute_actions="execute_actions",e.add_contact_urn="add_contact_urn",e.add_contact_groups="add_contact_groups",e.add_input_labels="add_input_labels",e.remove_contact_groups="remove_contact_groups",e.set_contact_channel="set_contact_channel",e.set_contact_field="set_contact_field",e.set_contact_name="set_contact_name",e.set_contact_language="set_contact_language",e.set_contact_status="set_contact_status",e.set_run_result="set_run_result",e.call_classifier="call_classifier",e.call_resthook="call_resthook",e.call_webhook="call_webhook",e.open_ticket="open_ticket",e.send_msg="send_msg",e.send_email="send_email",e.send_broadcast="send_broadcast",e.enter_flow="enter_flow",e.start_session="start_session",e.transfer_airtime="transfer_airtime",e.split_by_airtime="split_by_airtime",e.split_by_expression="split_by_expression",e.split_by_contact_field="split_by_contact_field",e.split_by_run_result="split_by_run_result",e.split_by_run_result_delimited="split_by_run_result_delimited",e.split_by_groups="split_by_groups",e.split_by_intent="split_by_intent",e.split_by_random="split_by_random",e.split_by_resthook="split_by_resthook",e.split_by_ticket="split_by_ticket",e.split_by_scheme="split_by_scheme",e.split_by_subflow="split_by_subflow",e.split_by_webhook="split_by_webhook",e.wait_for_response="wait_for_response",e.wait_for_menu="wait_for_menu",e.wait_for_dial="wait_for_dial",e.wait_for_digits="wait_for_digits",e.wait_for_audio="wait_for_audio",e.wait_for_video="wait_for_video",e.wait_for_location="wait_for_location",e.wait_for_image="wait_for_image",e.missing="missing",e.say_msg="say_msg",e.play_audio="play_audio"}(Ue||(Ue={})),function(e){e.has_any_word="has_any_word",e.has_all_words="has_all_words",e.has_phrase="has_phrase",e.has_only_phrase="has_only_phrase",e.has_beginning="has_beginning",e.has_text="has_text",e.has_date="has_date",e.has_date_lt="has_date_lt",e.has_date_eq="has_date_eq",e.has_date_gt="has_date_gt",e.has_time="has_time",e.has_number="has_number",e.has_number_between="has_number_between",e.has_number_lt="has_number_lt",e.has_number_lte="has_number_lte",e.has_number_eq="has_number_eq",e.has_number_gte="has_number_gte",e.has_number_gt="has_number_gt",e.has_run_status="has_run_status",e.has_only_text="has_only_text",e.has_group="has_group",e.has_phone="has_phone",e.has_email="has_email",e.has_value="has_value",e.has_district="has_district",e.has_state="has_state",e.has_ward="has_ward",e.has_pattern="has_pattern",e.has_error="has_error",e.has_intent="has_intent",e.has_top_intent="has_top_intent",e.has_category="has_category"}(De||(De={})),function(e){e.HAS_RESTHOOK="resthook",e.HAS_WHATSAPP="whatsapp",e.HAS_AIRTIME="airtime",e.HAS_CLASSIFIER="classifier",e.HAS_TICKETER="ticketer",e.HAS_FACEBOOK="facebook",e.HAS_LOCATIONS="locations"}(Pe||(Pe={})),function(e){e.SIMULATOR="Simulator",e.REVISION_HISTORY="Revision History",e.ISSUES_TAB="Issues Tab",e.TRANSLATOR_TAB="Translator Tab"}(ze||(ze={}));Ae.MESSAGING,Ae.MESSAGING_BACKGROUND,Ae.MESSAGING_OFFLINE;var Je=[Ae.MESSAGING,Ae.MESSAGING_OFFLINE],$e=[Ae.VOICE],et=[Ae.MESSAGING,Ae.MESSAGING_BACKGROUND,Ae.VOICE],tt=[Ae.MESSAGING,Ae.MESSAGING_OFFLINE,Ae.VOICE],at=[Ae.MESSAGING_OFFLINE],nt=[Ae.NONE];Ze.a.defaults.headers.post["Content-Type"]="application/javascript",Ze.a.defaults.responseType="json",Ze.a.defaults.timeout=3e4;var ot=function(e,t){var a=st("csrftoken"),n=a?{"X-CSRFToken":a}:{},o="0",s=t.spec_version.split(".");return s.length>2&&(o=s[2]),t.spec_version=[O,o].join("."),new Promise((function(a,o){Ze.a.post(e,t,{headers:n}).then((function(e){200===e.status?a(e.data):o(e)})).catch((function(e){return o(e)}))}))},st=function(e){var t,a=Object(N.a)(document.cookie.split(";"));try{for(a.s();!(t=a.n()).done;){var n=t.value,o=n.indexOf("="),s=n.substr(0,o),i=n.substr(o+1);if(s=s.trim(),i=i.trim(),s===e)return i}}catch(r){a.e(r)}finally{a.f()}return null},it=function(e,t){return new Promise((function(a,n){lt(e.endpoint,e.type,e.id).then((function(e){a(e.find((function(e){return e.id===t})))}))}))},rt=function(e,t,a){return new Promise((function(n,o){Ze.a.get(e).then((function(e){var o=e.data.results.map((function(e,n){var o=ut(e,t,a);return o.order=n,o}));n({assets:o,next:e.data.next})})).catch((function(e){return o(e)}))}))},lt=function(){var e=Object(Ye.a)(Ke.a.mark((function e(t,a,n){var o,s,i;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",new Promise((function(e,t){return e([])})));case 2:o=[],s=t;case 4:if(!s){e.next=12;break}return e.next=7,rt(s,a,n);case 7:i=e.sent,o=o.concat(i.assets),s=i.next,e.next=4;break;case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ut=function(e,t,a){var n=a||"uuid",o=t;if(t===je.Flow&&e.type)switch(e.type){case"message":e.type=Ae.MESSAGING;break;case"voice":e.type=Ae.VOICE;break;case"background":e.type=Ae.MESSAGING_BACKGROUND;break;case"survey":e.type=Ae.MESSAGING_OFFLINE}t!==je.Flow&&e.type&&(o=e.type);var s={name:e.name||e.text||e.label||e[n],id:e[n],type:o};return delete e[n],delete e.name,delete e.text,s.content=e,s},ct=function(e,t,a){if(a&&a(t))return!1;var n=e.toLowerCase();return!(t.type!==je.Currency&&t.type!==je.Language||!t.id.toLowerCase().includes(n))||t.name.toLowerCase().includes(n)},dt=function(e){return new Promise((function(t,a){var n={channels:{endpoint:mt(e.channels),type:je.Channel,items:{}},classifiers:{endpoint:mt(e.classifiers),type:je.Classifier,items:{}},languages:{endpoint:mt(e.languages),type:je.Language,items:{},id:"iso"},flows:{endpoint:mt(e.flows),type:je.Flow,items:{}},fields:{endpoint:mt(e.fields),type:je.Field,id:"key",items:{}},globals:{endpoint:mt(e.globals),type:je.Global,id:"key",items:{}},groups:{endpoint:mt(e.groups),type:je.Group,items:{}},revisions:{endpoint:mt(e.revisions),type:je.Revision,id:"id",items:{}},labels:{endpoint:mt(e.labels),type:je.Label,items:{}},results:{type:je.Result,items:{}},recipients:{endpoint:mt(e.recipients),type:je.Contact||je.Group||je.URN,items:{},id:"id"},resthooks:{endpoint:mt(e.resthooks),type:je.Resthook,id:"resthook",items:{}},templates:{endpoint:mt(e.templates),type:je.Template,items:{}},ticketers:{endpoint:mt(e.ticketers),type:je.Ticketer,items:{}},currencies:{type:je.Currency,id:"id",items:Qe,prefetched:!0}},o=[];["languages","fields","groups","labels","globals","classifiers","ticketers"].forEach((function(e){var t=n[e];o.push(lt(t.endpoint,t.type,t.id||"uuid").then((function(e){t.items=Cl(e),t.prefetched=!0})))})),Promise.all(o).then((function(e){t(n)}))}))},pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(a,n){Object(Ye.a)(Ke.a.mark((function o(){var s,i,r;return Ke.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(s=t){o.next=12;break}return o.prev=2,o.next=5,Ze.a.get("".concat(e.endpoint,"?version=").concat(O));case 5:(i=o.sent).data.results.length>0&&(s=i.data.results[0].id),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(2),n(new Error("Couldn't reach revisions endpoint"));case 12:s?(r="".concat(e.endpoint).concat(s,"?version=").concat(O),Ze.a.get(r).then((function(e){var t=e.data;return a(t)})).catch((function(e){return n(e)}))):n(new Error("No revision found for flow"));case 13:case"end":return o.stop()}}),o,null,[[2,9]])})))()}))},mt=function(e){var t=e;return t.endsWith("/")||-1!==t.indexOf("?")||-1!==t.indexOf("groups")||(t+="/"),t.startsWith("http://")||t.startsWith("https://")?t:"".concat(function(){var e=window.location;return e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")}()+t)},ht=function(e){window.open(e,"floweditor_help")},_t=function(e){var t=e.issues,a=e.helpArticles;return t&&0!==t.length?C.createElement("div",{style:{padding:"10px 0px"}},t.map((function(e,t){var n=e.node_uuid+e.action_uuid+t;return C.createElement("div",{style:{margin:"6px 0px",display:"flex",fontSize:"14px",color:"tomato"},key:n},C.createElement("div",{style:{marginRight:"8px",marginTop:"-2px",fontSize:"18px"},className:"fe-warning"}),C.createElement("div",null,gt(e,a)))}))):null},gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=C.createElement(C.Fragment,null,e.description);e.type===o.MISSING_DEPENDENCY&&(a=C.createElement(ke.a,{i18nKey:"issues.missing_dependency",values:{name:e.dependency.name||e.dependency.key,type:e.dependency.type}},"Cannot find a [[type]] for ",C.createElement("span",{className:"emphasize"},"[[name]]"))),e.type===o.INVALID_REGEX&&(a=C.createElement(ke.a,{i18nKey:"issues.legacy_extra",values:{regex:e.regex}},"Invalid regular expression found: [[regex]]")),e.type===o.LEGACY_EXTRA&&(a=C.createElement(ke.a,{i18nKey:"issues.legacy_extra"},"Expressions should not reference @legacy_extra"));var n=t[e.type];return n?C.createElement("div",{className:pe.a.issue_help,onClick:function(){ht(n)}},a):a},vt=function(e,t){return e.originalAction&&e.originalAction.type===t?e.originalAction.uuid:te()},ft=function(e){var t=(e.groups||[]).map((function(e){return{id:e.uuid,name:e.name,type:je.Group}}));return t=(t=t.concat((e.contacts||[]).map((function(e){return{id:e.uuid,name:e.name,type:je.Contact,missing:!1}})))).concat((e.legacy_vars||[]).map((function(e){return{name:e,value:e,expression:!0}})))},yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0;return e.reduce((function(n,o,s){return s<=t-2||e.length===t?n.push(bt(o,a)):s===t-1&&n.push(C.createElement("div",{key:"ellipses"},"+",e.length-t+1," more")),n}),[])},bt=function(e,t){var a=null;switch(e.type){case je.Classifier:a=C.createElement(ke.a,{i18nKey:"assets.classifier",values:{name:e.name}},"Call [[name]] classifier");break;case je.Group:a=C.createElement(C.Fragment,null,C.createElement("span",{className:"".concat(pe.a.node_group," fe-group")}),e.name);break;case je.Label:a=C.createElement(C.Fragment,null,C.createElement("span",{className:"".concat(pe.a.node_label," fe-label")}),e.name);break;case je.Flow:a=C.createElement(C.Fragment,null,C.createElement("span",{className:"".concat(pe.a.node_label," fe-split")}),C.createElement("a",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation()},href:"".concat(t.editor,"/").concat(e.id),rel:"noopener noreferrer",target:"_blank"},e.name));break;case je.Ticketer:a=C.createElement(ke.a,{i18nKey:"assets.ticketer",values:{name:e.name}},"Open a new Ticket on [[name]]")}return a||(a=e.name),C.createElement("div",{className:"".concat(pe.a.node_asset),key:e.id||e.value},a)},kt=function(e){return e&&e.validationFailures||[]},Et=function(e){return kt(e).length>0},Ct=function(e){return e.filter((function(e){return e.expression})).map((function(e){return e.value}))},wt=function(e,t){return e.filter((function(e){return e.type===t})).map((function(e){return{uuid:e.id,name:e.name}}))},Nt={name:V(l.Name),id:l.Name,type:je.ContactProperty},St={name:V(l.Channel),id:l.Channel,type:je.ContactProperty},xt={name:V(l.Language),id:l.Language,type:je.ContactProperty},Ot={name:V(l.Status),id:l.Status,type:je.ContactProperty},jt=function(){return null};jt.isRequired=function(){return null};var Tt=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;if(Object(g.a)(this,a),n=t.call(this,e),C.Children.count(e.children)>1)throw new Error("ConfigProvider expects only one child component.");if(!C.isValidElement(e.children))throw new Error("ConfigProvider expects a valid React element: https://reactjs.org/docs/react-api.html#isvalidelement");return n}return Object(v.a)(a,[{key:"getChildContext",value:function(){return{config:this.props.config}}},{key:"render",value:function(){return C.Children.only(this.props.children)}}]),a}(C.Component);Tt.childContextTypes={config:jt,assetService:jt};var At=function(e,t){var a=e.labels;return C.createElement(C.Fragment,null,yt(a.map((function(e){return e.name_match?{id:e.name_match,name:e.name_match,type:je.NameMatch}:{id:e.uuid,name:e.name,type:je.Label}})),5,t.config.endpoints))};At.contextTypes={config:jt};var Rt,Ut=At,Dt=a(28),Pt=a.n(Dt),zt=a(48),Ft=a.n(zt),It=Pt.a.bind(Ft.a),Lt=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),n=t.call(this,e),Object(E.react)(Object(f.a)(n),{include:[/^get/,/^has/]}),n}return Object(v.a)(a,[{key:"getName",value:function(){return Y(this.props.showLabel&&void 0!==this.props.name&&null!==this.props.name&&this.props.name.length>0)(C.createElement("div",{className:Ft.a.label},this.props.name))}},{key:"getHelpText",value:function(){return Y(null!=this.props.helpText)(C.createElement("div",{className:Ft.a.help_text},this.props.helpText," "))}},{key:"hasErrors",value:function(){return Et(this.props.entry)}},{key:"getValidationErrors",value:function(){return this.props.entry&&this.props.entry.validationFailures||[]}},{key:"getErrors",value:function(){var e=this;if(this.hasErrors()&&!this.props.hideError){var t=this.getValidationErrors().map((function(t,a){var n,o=It((n={},Object(x.a)(n,Ft.a.error,!0),Object(x.a)(n,Ft.a.send_msg_error,!0===e.props.sendMsgError),n));return C.createElement("div",{key:a,className:o},C.createElement("div",{className:Ft.a.arrow_up}),C.createElement("div",null,t.message))}));return C.createElement("div",{className:Ft.a.error_list},t)}return null}},{key:"render",value:function(){var e,t=this.getName(),a=this.getHelpText(),n=this.getErrors(),o=It((e={},Object(x.a)(e,Ft.a.ele,!0),Object(x.a)(e,Ft.a.border,this.props.border),Object(x.a)(e,Ft.a.invalid,this.hasErrors()),Object(x.a)(e,this.props.__className,void 0!==this.props.__className),e));return C.createElement("div",{className:o},t,this.props.children,a,n)}}]),a}(C.PureComponent),Mt=a(139),qt=a.n(Mt),Vt=a(96),Bt=a.n(Vt);!function(e){e.small="small",e.normal="normal"}(Rt||(Rt={}));var Gt=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).selectbox=void 0,Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"getName",value:function(e){var t="";return this.props.getName&&(t=this.props.getName(e)),!t&&this.props.nameKey in e&&(t=e[this.props.nameKey]),!t&&"label"in e&&(t=e.label),t||(t=e.name),t}},{key:"getValue",value:function(e){return e[this.props.valueKey||"value"]}},{key:"isMatch",value:function(e,t){var a=this;return!(!e||!t)&&(Array.isArray(e)?e.find((function(e){return a.getValue(e)===a.getValue(t)})):this.getValue(e)===this.getValue(t))}},{key:"componentDidUpdate",value:function(e){if(this.props.options!==e.options){var t=this.selectbox;t.setOptions&&t.setOptions(this.props.options)}}},{key:"componentDidMount",value:function(){var e=this,t=this;this.props.createPrefix&&(this.selectbox.createArbitraryOption=function(a,n){if(-1===a.indexOf("@")&&!n.find((function(e){return!(t.getName(e).toLowerCase().trim()!==a.toLowerCase().trim())})))return e.props.createArbitraryOption?e.props.createArbitraryOption(a):{prefix:e.props.createPrefix,name:a,id:"created",post:!0}});var a=this.selectbox;this.props.options&&a.setOptions&&a.setOptions(this.props.options),this.props.sortFunction&&(a.sortFunction=this.props.sortFunction),this.props.shouldExclude&&(a.shouldExclude=this.props.shouldExclude),a.getName=t.getName.bind(t),this.selectbox.addEventListener("change",(function(t){var a=t.target.values||[t.target.value],n=a;e.props.assets||e.props.tags||e.props.endpoint||(n=a.map((function(t){var a=(e.props.options||[]).find((function(a){return e.getValue(a)===e.getValue(t)}));return!a&&e.props.createPrefix?t:a}))).forEach((function(e){if(!e)throw new Error("No option found for selection")})),e.props.onChange&&(e.props.multi?e.props.onChange(n):e.props.onChange(n[0]))}))}},{key:"isFocused",value:function(){return this.selectbox.focused}},{key:"render",value:function(){var e=this,t=[];this.props.value&&!Array.isArray(this.props.value)?t=[this.props.value]:Array.isArray(this.props.value)&&(t=this.props.value);var a=JSON.stringify(t);return C.createElement("div",{className:Bt.a[this.props.style||Rt.normal]+" "+((this.props.errors||[]).length>0?Bt.a.error:"")},C.createElement("temba-select",{ref:function(t){e.selectbox=t},"data-testid":"temba_select_".concat(q(this.props.name)),onFocus:this.props.onFocus,nameKey:this.props.nameKey||"name",valueKey:this.props.valueKey||"value",name:this.props.name,cacheKey:this.props.cacheKey,expressions:this.props.expressions?"session":"",endpoint:this.props.assets?this.props.assets.endpoint:this.props.endpoint,values:a,errors:JSON.stringify(this.props.errors?this.props.errors:[]),hideErrors:this.props.hideError,placeholder:this.props.placeholder,searchable:ie(this.props.searchable),multi:ie(this.props.multi),disabled:this.props.disabled,clearable:this.props.clearable,tags:this.props.tags,queryParam:this.props.queryParam}))}}]),a}(C.Component),Ht=function(e,t){return e.type===Fe.type?-1:t.type===Fe.type?1:e.type&&t.type&&e.type!==t.type?t.type.localeCompare(e.type):e.name&&t.name?e.name.localeCompare(t.name):0},Wt=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(g.a)(this,a),(n=t.call(this,e)).lastCreation=0,n.options=[],Object(E.react)(Object(f.a)(n),{include:[/^is/,/^handle/,/^get/]});var o=[];return e.assets&&!e.assets.endpoint&&(o=function(e,t,a,n){var o=e.toLowerCase(),s=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return ct(o,e,n)}));return s=s.concat(a||[]).filter((function(e){return ct(o,e,n)}))}("",e.assets.items)),n.options=n.props.additionalOptions||[],n.props.valueClearable&&n.options.push(Fe),n.props.assets&&!n.props.assets.endpoint&&(n.options=n.options.concat(Object.keys(n.props.assets.items).map((function(e){return n.props.assets.items[e]})))),n.state={defaultOptions:o,entry:n.props.entry,isLoading:!1},n}return Object(v.a)(a,[{key:"handleChanged",value:function(e){if(e){var t=(e=Array.isArray(e)?e:[e]).find((function(e){return e.arbitrary}));t?(e=e.filter((function(e){return!e.arbitrary})),this.handleCreateOption(t.name)):this.props.onChange(e)}else this.props.onChange(e);this.setState({message:null})}},{key:"handleLoadingComplete",value:function(){this.setState({isLoading:!1})}},{key:"handleClearMessage",value:function(){this.state.message&&this.setState({message:null})}},{key:"handleCreateArbitraryOption",value:function(e){return{prefix:this.props.createPrefix,name:e,id:"created"}}},{key:"handleCreateOption",value:function(e){var t=this,a=(new Date).getTime();if(!(a-this.lastCreation<1e3)){this.lastCreation=a;var n=this.props.createAssetFromInput(e);this.props.assets&&this.props.assets.endpoint?(this.setState({isLoading:!0,message:null}),function(e,t){var a=st("csrftoken"),n=a?{"X-CSRFToken":a}:{};return new Promise((function(a,o){Ze.a.post(e.endpoint,t,{headers:n}).then((function(e){a(e.data)})).catch((function(e){return o(e)}))}))}(this.props.assets,n).then((function(e){t.setState({isLoading:!1}),t.props.onAssetCreated(e)})).catch((function(a){var n="";a.response&&a.response.data&&a.response.data.non_field_errors&&(n=" "+a.response.data.non_field_errors.join(", ")),t.setState({message:"Couldn't create new ".concat(t.props.assets.type,' "').concat(e,'".').concat(n),isLoading:!1})}))):this.props.onChange([n])}}},{key:"getName",value:function(e){if(this.props.getName)return this.props.getName(e)}},{key:"render",value:function(){var e=Te.t("asset_selector.placeholder","Select existing [[name]] or enter a new one",{name:this.props.name.toLocaleLowerCase(),count:this.props.multi?1e3:1});return C.createElement(Lt,{name:this.props.name,entry:this.props.entry,showLabel:this.props.showLabel,helpText:this.props.helpText,__className:qt.a.ele},C.createElement(Gt,{name:this.props.name,style:this.props.style,onChange:this.handleChanged,nameKey:this.props.nameKey||"name",createArbitraryOption:this.handleCreateArbitraryOption,valueKey:this.props.valueKey||(this.props.assets?this.props.assets.id:void 0)||"uuid",getName:this.props.getName,createPrefix:this.props.createPrefix,shouldExclude:this.props.shouldExclude,assets:this.props.assets,placeholder:this.props.placeholder||e,multi:this.props.multi,expressions:this.props.expressions,value:this.state.entry.value,errors:this.state.message?[this.state.message]:[],searchable:this.props.searchable,cacheKey:this.lastCreation+"",options:this.options,sortFunction:this.props.sortFunction||Ht,queryParam:this.props.assets&&this.props.assets.type===je.Contact?"search":null}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.entry;if(t.defaultOptions&&a.value&&!a.value.name){var n=t.defaultOptions.find((function(e){return e.id===a.value.id}));n&&(a={value:n})}return{entry:a}}}]),a}(C.Component),Kt=function(e){return!!et.find((function(t){return t===e}))},Yt=function(e,t){return e.filter((function(e){return!(e.filter&&!(t.filters||[]).find((function(t){return t===e.filter})))&&(void 0===e.visibility||e.visibility.findIndex((function(e){return e===t.flowType}))>-1)}))},Xt=a(140),Zt=a.n(Xt),Qt=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).typeConfigs=void 0,n.state={config:n.props.initialType},n.handleChangeType=n.handleChangeType.bind(Object(f.a)(n)),n}return Object(v.a)(a,[{key:"handleChangeType",value:function(e){var t=this;this.setState({config:e},(function(){return t.props.onChange(e)}))}},{key:"getTypeConfigs",value:function(){var e,t;return void 0===this.typeConfigs&&(this.typeConfigs=(e=fr,t=this.context.config,Yt(e,t))),this.typeConfigs}},{key:"render",value:function(){return C.createElement("div",{className:"".concat(this.props.__className," ").concat(Zt.a.type_list)},C.createElement("p",null,Te.t("forms.type_label","When a contact arrives at this point in your flow...")),C.createElement("div",null,C.createElement(Gt,{key:"type_select",name:"type",onChange:this.handleChangeType,nameKey:"description",valueKey:"type",value:this.state.config,options:this.getTypeConfigs(),searchable:!0})))}}]),a}(C.PureComponent);Qt.contextTypes={config:jt};var Jt,$t=a(15),ea=a.n($t),ta=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e||{},o=0,s=Object.keys(t);o<s.length;o++){var i=s[o],r=t[i];if(Array.isArray(r)){var l,u=Object(N.a)(r);try{var c=function(){var t=l.value,a=t.hasOwnProperty("value")&&"object"===typeof t.value;if(a&&t.value.uuid||t.uuid){var o=e[i].findIndex((function(e){return a?e.value.uuid===t.value.uuid:e.uuid===t.uuid}));n=o>-1?ea()(n,Object(x.a)({},i,{$merge:Object(x.a)({},o,t)})):ea()(n,Object(x.a)({},i,{$push:[t]}))}};for(u.s();!(l=u.n()).done;)c()}catch(R){u.e(R)}finally{u.f()}delete t[i]}}var d,p=Object(N.a)(a.filter((function(e){return"object"===typeof e})));try{for(p.s();!(d=p.n()).done;)for(var m=d.value,h=0,_=Object.keys(m);h<_.length;h++){var g=_[h],v=m[g];if(Array.isArray(v)){var f,y=Object(N.a)(v);try{var b=function(){var e=f.value,t=e.hasOwnProperty("value")&&"object"===typeof e.value;(t&&e.value.uuid||e.uuid)&&(n=ea()(n,Object(x.a)({},g,(function(a){return a.filter((function(a){return t?a.value.uuid!==e.value.uuid:a.uuid!==e.uuid}))}))))};for(y.s();!(f=y.n()).done;)b()}catch(R){y.e(R)}finally{y.f()}}}}catch(R){p.e(R)}finally{p.f()}var k=a.filter((function(e){return"string"===typeof e}));n=ea()(n,{$merge:t,$unset:k});for(var E=!0,C=0,w=Object.keys(e);C<w.length;C++){var S=w[C],O=n[S];if(Array.isArray(O)){var j,T=Object(N.a)(O);try{for(T.s();!(j=T.n()).done;){var A=j.value;if(Et(A)){E=!1;break}}}catch(R){T.e(R)}finally{T.f()}}else if(O&&"object"===typeof O&&Et(O)){E=!1;break}}return ea()(n,{$merge:{valid:E}})},aa={typeConfig:null,userAddingAction:!1,settings:null},na=function(e){return{type:ye.UPDATE_NODE_EDITOR_SETTINGS,payload:{settings:e}}},oa=function(e){return{type:ye.UPDATE_USER_ADDING_ACTION,payload:{userAddingAction:e}}},sa=Object(fe.combineReducers)({typeConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa.typeConfig,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_TYPE_CONFIG:return t.payload.typeConfig;default:return e}},userAddingAction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa.userAddingAction,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_USER_ADDING_ACTION:return t.payload.userAddingAction;default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa.settings,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_NODE_EDITOR_SETTINGS:return t.payload.settings;default:return e}}}),ia=a(141),ra=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?:u:\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),la=function(e,t){return function(a,n){var o=function(e){var t=e;return"string"===typeof e?t+"":(e&&"object"===typeof e&&(t=e.name||void 0),t?t+"":null)}(n);return o&&!e.test(o)?{value:n,failures:[{message:"".concat(a," ").concat(t)}]}:{failures:[],value:n}}},ua=function(e,t,a){var n=[],o=t;return a.forEach((function(a){var s=a(e,t);o=s.value,n=n.concat(s.failures)})),{value:o,validationFailures:n}},ca=function(e,t){var a=Te.t("forms.is_required","is required");if(!t)return{value:t,failures:[{message:"".concat(e," ").concat(a)}]};if("string"===typeof t){if(0===t.trim().length)return{value:t,failures:[{message:"".concat(e," ").concat(a)}]}}else if(Array.isArray(t)&&0===t.length)return{value:t,failures:[{message:"".concat(e," ").concat(Te.t("forms.are_required","are required"))}]};return{failures:[],value:t}},da=function(e,t){return function(a,n){return"string"===typeof n&&parseFloat(n)<=e?{value:n,failures:[{message:"".concat(a," must be a more than ").concat(t)}]}:{failures:[],value:n}}},pa=function(e){return function(t,a){return e?ca(t,a):{failures:[],value:a}}},ma=function(e,t){return function(a,n){return t?e(a,n):{failures:[],value:n}}},ha=function(e,t){return"string"===typeof t&&t.trim().length>0&&!ia.validateHeaderName(t)?{failures:[{message:"Invalid header name"}],value:t}:{failures:[],value:t}},_a=(Jt=10,function(e,t){return Array.isArray(t)&&t.length>Jt?{value:t,failures:[{message:"".concat(e," cannot have more than ").concat(Jt," entries")}]}:{failures:[],value:t}}),ga=la(/^(?!\d)/,"can't start with a number"),va=la(ra,"is not a valid URL"),fa=la(/^([-+]?((\.\d+)|(\d+)(\.\d+)?)$)/,"must be a number"),ya=la(/^[a-z\d\-_\s]+$/i,"can only have letters and numbers"),ba=la(/^@.*$|^([-+]?((\.\d+)|(\d+)(\.\d+)?)$)/,"must be a number"),ka=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n,o;return Object(g.a)(this,a),(n=t.call(this,e)).state=(o=n.props.nodeSettings).originalAction&&o.originalAction.type===Ue.add_input_labels?{labels:{value:o.originalAction.labels.map((function(e){return e.name_match?{name:e.name_match,expression:!0}:e}))},valid:!0}:{labels:{value:[]},valid:!1},Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleSave",value:function(){var e,t;if(this.handleLabelsChanged(this.state.labels.value,!0)){var a=(e=this.props.nodeSettings,t=this.state,{type:Ue.add_input_labels,labels:t.labels.value.map((function(e){return e.expression?{name_match:e.name}:e})),uuid:vt(e,Ue.add_input_labels)});this.props.updateAction(a),this.props.onClose(!1)}}},{key:"handleLabelsChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={labels:ua(Te.t("forms.labels","Labels"),e,[pa(t)])},n=ta(this.state,a);return this.setState(n),n.valid}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleCreateAssetFromInput",value:function(e){return{name:e}}},{key:"handleLabelCreated",value:function(e){this.props.addAsset("labels",e),this.handleLabelsChanged(this.state.labels.value.concat(e))}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("p",{"data-spec":"label"},C.createElement(ke.a,{i18nKey:"forms.add_labels_summary"},"Select the labels to apply to the incoming message.")),C.createElement(Wt,{name:Te.t("forms.labels","Labels"),placeholder:Te.t("enter_to_create_label","Enter the name of an existing label or create a new one"),assets:this.props.assetStore.labels,entry:this.state.labels,searchable:!0,multi:!0,expressions:!0,onChange:this.handleLabelsChanged,createPrefix:Te.t("create_label","Create Label")+": ",createAssetFromInput:this.handleCreateAssetFromInput,onAssetCreated:this.handleLabelCreated}),_t(this.props))}}]),a}(C.PureComponent);ka.contextTypes={assetService:jt};var Ea,Ca,wa=function(e){return gr.find((function(t){return t.scheme===e}))},Na=function(e){return Sa(wa(e))},Sa=function(e){return{value:e.scheme,name:e.path}},xa=function(e){var t=e.scheme,a=e.path,n=wa(t),o=n?n.path:t;return C.createElement(C.Fragment,null,Te.t("add","Add")," ",o," ",W(a))},Oa=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return C.createElement(Lt,{name:this.props.name,entry:this.props.entry},C.createElement(Gt,{key:this.props.name+"_select",name:this.props.name,nameKey:this.props.nameKey,valueKey:this.props.valueKey,placeholder:this.props.placeholder,onChange:this.props.onChange,value:this.props.entry.value,options:this.props.options,searchable:!1,errors:(e=this.props.entry,kt(e).map((function(e){return e.message}))),hideError:this.props.hideError,style:this.props.style,multi:this.props.multi,disabled:this.props.disabled,clearable:this.props.clearable}));var e}}]),a}(C.Component),ja=a(97),Ta=a.n(ja);!function(e){e.SMS="SMS"}(Ea||(Ea={})),function(e){e.small="small",e.medium="medium",e.normal="normal"}(Ca||(Ca={}));var Aa=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(g.a)(this,a);var o="";return(n=t.call(this,e)).props.entry&&n.props.entry.value&&(o=n.props.entry.value),n.state={value:o},Object(E.react)(Object(f.a)(n),{include:[/^on/,/Ref$/,"setSelection","validate",/^has/,/^handle/]}),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){var t=e.currentTarget.value;this.props.onChange&&this.props.onChange(t,this.props.name)}},{key:"render",value:function(){var e=this.props.count&&this.props.count===Ea.SMS?C.createElement("temba-charcount",{text:this.props.entry.value}):null,t={};return this.props.textarea&&(t.textarea=!0),this.props.counter&&(t.counter=this.props.counter),C.createElement(Lt,{__className:this.props.__className,name:this.props.name,helpText:this.props.helpText,showLabel:this.props.showLabel,entry:this.props.entry},C.createElement("div",{className:Ta.a.wrapper+" "+Ta.a[this.props.style||Ca.normal]},function(e,t,a){return e.autocomplete?C.createElement("temba-completion",Object.assign({name:e.name,onInput:t,onBlur:e.onBlur,value:e.entry.value,placeholder:e.placeholder||"",maxLength:e.maxLength||-1,session:!0},a)):C.createElement("temba-textinput",Object.assign({name:e.name,onInput:t,onBlur:e.onBlur,value:e.entry.value,placeholder:e.placeholder,maxLength:e.maxLength||-1},a))}(this.props,this.handleChange,t),e))}}]),a}(C.Component),Ra=a(98),Ua=a.n(Ra),Da=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){if(e.originalAction&&e.originalAction.type===Ue.add_contact_urn){var t=e.originalAction,a=t.scheme,n=t.path;return{scheme:{value:Na(a)},path:{value:n},valid:!0}}return{scheme:{value:Na("tel")},path:{value:""},valid:!1}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleSave",value:function(){var e,t;if(this.handlePathChanged(this.state.path.value,null,!0)){var a=(e=this.props.nodeSettings,t=this.state,{type:Ue.add_contact_urn,uuid:vt(e,Ue.add_input_labels),scheme:t.scheme.value.value,path:t.path.value});this.props.updateAction(a),this.props.onClose(!1)}}},{key:"handleSchemeChanged",value:function(e){var t={scheme:{value:e}},a=ta(this.state,t);return this.setState(a),a.valid}},{key:"handlePathChanged",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={path:ua(Te.t("forms.urn","URN"),e,[pa(a)])},o=ta(this.state,n);return this.setState(o),o.valid}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("p",{"data-spec":"label"},C.createElement(ke.a,{i18nKey:"forms.add_urn_summary"},"Add a new URN to reach the contact such as a phone number.")),C.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},C.createElement("div",{className:Ua.a.scheme_selection},C.createElement(Oa,{key:"urn_type_select",name:Te.t("forms.urn_type","URN Type"),entry:this.state.scheme,onChange:this.handleSchemeChanged,options:gr.map((function(e){return Sa(e)}))})),C.createElement("div",{className:Ua.a.path},C.createElement(Aa,{name:Te.t("forms.urn","URN"),placeholder:Te.t("forms.enter_urn_value","Enter the URN value"),entry:this.state.path,onChange:this.handlePathChanged,autocomplete:!0}))),_t(this.props))}}]),a}(C.PureComponent),Pa=function(e){var t=e.resthook;return C.createElement("div",null,t)},za=function(e){var t=e.url;return C.createElement("div",null,K(t,150))},Fa=function(e){return!!e.query},Ia=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n,o;return Object(g.a)(this,a),(n=t.call(this,e)).state=(o=n.props.nodeSettings).originalAction&&o.originalAction.type===Ue.add_contact_groups?{groups:{value:o.originalAction.groups.map((function(e){return e.name_match?{name:e.name_match,expression:!0}:e}))},valid:!0}:{groups:{value:null},valid:!1},Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleSave",value:function(){var e,t;if(this.handleGroupsChanged(this.state.groups.value,!0)){var a=(e=this.props.nodeSettings,t=this.state,{type:Ue.add_contact_groups,groups:t.groups.value.map((function(e){return e.expression?{name_match:e.name}:e})),uuid:vt(e,Ue.add_contact_groups)});this.props.updateAction(a),this.props.onClose(!1)}}},{key:"handleGroupsChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={groups:ua(Te.t("forms.groups","Groups"),e,[pa(t)])},n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleGroupAdded",value:function(e){this.props.addAsset("groups",e),this.handleGroupsChanged((this.state.groups.value||[]).concat(e),!1)}},{key:"handleCreateAssetFromInput",value:function(e){return{name:e}}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("p",{"data-spec":"label"},C.createElement(ke.a,{i18nKey:"forms.add_groups_summary"},"Select the groups to add the contact to.")),C.createElement(Wt,{name:Te.t("forms.groups","Groups"),multi:!0,noOptionsMessage:Te.t("enter_to_create_group","Enter a name to create a new group"),assets:this.props.assetStore.groups,entry:this.state.groups,onChange:this.handleGroupsChanged,searchable:!0,shouldExclude:Fa,placeholder:Te.t("forms.select_groups","Select Groups"),expressions:!0,createPrefix:Te.t("forms.create_group","Create Group")+": ",createAssetFromInput:this.handleCreateAssetFromInput,onAssetCreated:this.handleGroupAdded}),_t(this.props))}}]),a}(C.Component),La=function(e,t){var a=e.type,n=e.groups,o=[];return a!==Ue.remove_contact_groups||n&&n.length?yt(n.map((function(e){return e.name_match?{id:e.name_match,name:e.name_match,type:je.NameMatch}:{id:e.uuid,name:e.name,type:je.Group}})),5,t):(o.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"remove_from_all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"remove_from_all",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Remove from all groups";return C.createElement("div",{key:e,"data-spec":t},a)}()),o)},Ma=function(e,t){return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"content";return C.createElement("div",{"data-spec":a},La(e,t))}(e,t.config.endpoints)};Ma.contextTypes={config:jt};var qa=Ma,Va=a(64),Ba=a.n(Va),Ga=Pt.a.bind(Ba.a),Ha=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={checked:n.props.checked},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n}return Object(v.a)(a,[{key:"handleChange",value:function(e){var t=this;e&&(e.preventDefault(),e.stopPropagation()),this.setState({checked:!this.state.checked},(function(){t.props.onChange&&t.props.onChange(t.state.checked)}))}},{key:"validate",value:function(){return!0}},{key:"render",value:function(){var e=this.state.checked?"fe-check-square":"fe-square";return C.createElement("label",{className:Ga(Ba.a.label,this.props.labelClassName),onClick:this.handleChange},C.createElement("span",{"data-spec":"checkbox",className:Ga(e,this.props.checkboxClassName)}),Y(X(this.props.title))(C.createElement("div",{"data-spec":"title",className:Ba.a.title},this.props.title)),Y(X(this.props.description))(C.createElement("div",{"data-spec":"description",className:this.props.title?Ba.a.description:Ba.a.description_solo},this.props.description)))}}]),a}(C.Component),Wa=a(142),Ka=a.n(Wa),Ya=Te.t("forms.remove_groups_summary","Select the groups to remove the contact from."),Xa=(Te.t("errors.group_not_found","Enter the name of an existing group"),Te.t("forms.remove_groups_placeholder","Enter the name of an existing group"),Te.t("forms.remove_from_all_label","Remove from all")),Za=Te.t("forms.remove_from_all_summary","Remove the active contact from all groups they're a member of."),Qa=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){if(e.originalAction&&e.originalAction.type===Ue.remove_contact_groups){var t=e.originalAction,a=t.groups||[];return{groups:{value:a},removeAll:0===a.length||t.all_groups,valid:!0}}return{groups:{value:null},removeAll:!1,valid:!1}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleSave",value:function(){var e,t;if(this.handleGroupsChanged(this.state.groups.value,!0)){var a=(e=this.props.nodeSettings,t=this.state,{type:Ue.remove_contact_groups,groups:t.removeAll?[]:t.groups.value.map((function(e){return{uuid:e.uuid,name:e.name}})),all_groups:!!t.removeAll,uuid:vt(e,Ue.remove_contact_groups)});this.props.updateAction(a),this.props.onClose(!1)}}},{key:"handleUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={},n=this.state.removeAll?[]:[pa(t)];e.hasOwnProperty("removeAll")&&(a.removeAll=e.removeAll,e.removeAll&&(n=[])),e.hasOwnProperty("groups")&&(a.groups=ua(Te.t("forms.groups","Groups"),e.groups,n));var o=ta(this.state,a);return this.setState(o),o.valid}},{key:"handleGroupsChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.handleUpdate({groups:e},t)}},{key:"handleRemoveAllUpdate",value:function(e){return this.handleUpdate({removeAll:e})}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),Y(!this.state.removeAll)(C.createElement("div",null,C.createElement("p",{"data-spec":"label"},Ya),C.createElement(Wt,{name:Te.t("forms.groups","Groups"),placeholder:Te.t("forms.select_groups","Select Groups"),assets:this.props.assetStore.groups,entry:this.state.groups,shouldExclude:Fa,searchable:!0,onChange:this.handleGroupsChanged,multi:!0}))),C.createElement(Ha,{name:Xa,title:Xa,labelClassName:this.state.removeAll?"":Ka.a.checkbox,checked:this.state.removeAll,description:Za,onChange:this.handleRemoveAllUpdate}),_t(this.props))}}]),a}(C.Component);Qa.contextTypes={assetService:jt};var Ja=a(36),$a=a.n(Ja),en=function(e){var t=e.originalNode,a=t&&t.node;if(e.originalAction&&e.originalAction.type)return br(e.originalAction.type);if(a&&a.actions&&a.actions.length>0)return br(a.actions[a.actions.length-1].type);try{var n=kr(t),o=br(n);if(o.type!==Ue.missing)return o}catch(Error){}if(a&&a.router)return br(a.router.type);throw new Error("Couldn't determine type config for: ".concat(a.uuid))},tn=function(e,t,a){return!(!e||0===e.length)&&(t?!!e.find((function(e){return e.language===a.id})):!!e.find((function(e){return!e.language})))},an=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t={},a=e.localizations[0],n=a.getObject();return(e.originalAction&&br(e.originalAction.type).localizeableKeys||[]).forEach((function(e){t[e]={value:e in a.localizedKeys?n[e]:""}})),{keyValues:t,valid:!0}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^handle/,/^on/]}),n}return Object(v.a)(a,[{key:"handleKeyUpdate",value:function(e,t){var a=Object(k.a)({},this.state.keyValues);return a[t.toLowerCase()]={value:e},this.setState({keyValues:a}),!0}},{key:"handleSave",value:function(){var e=this,t={};Object.keys(this.state.keyValues).forEach((function(a){var n=e.state.keyValues[a].value;n?t[a]=n:delete t[a]})),this.props.updateLocalizations(this.props.language.id,[{uuid:this.props.nodeSettings.originalAction.uuid,translations:t}]),this.props.onClose(!1)}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"render",value:function(){var e,t=this,a=en(this.props.nodeSettings),n=[],o=Te.t("forms.translation","Translation");return a.localizeableKeys.forEach((function(a){var s=a[0].toUpperCase()+a.slice(1),i=C.createElement("div",{key:"localize_form_".concat(a)},C.createElement("div",{"data-spec":"translation-container"},C.createElement("div",{"data-spec":"text-to-translate",className:$a.a.translate_from},t.props.nodeSettings.originalAction[a])),C.createElement(Aa,{name:s,showLabel:!1,onChange:t.handleKeyUpdate,entry:t.state.keyValues[a],placeholder:"".concat(t.props.language.name," ").concat(o),autocomplete:!0,focus:!0,textarea:!0}));if(e){var r=Te.t("forms.translation","Translation");n.push({name:s+" "+r,body:i,checked:!!t.state.keyValues[a].value})}else e=i})),C.createElement(ge,{title:a.name,headerClass:a.type,buttons:this.getButtons(),tabs:n},e,_t(this.props))}}]),a}(C.Component);an.contextTypes={config:jt};var nn,on=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).props.entry?n.state={currentInput:n.props.entry}:n.state={currentInput:{value:""}},Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleChange",value:function(e){this.props.onChange(e.map((function(e){return e.value})))}},{key:"render",value:function(){var e=this.props.items.value.map((function(e){return{name:e,value:e}}));return C.createElement(C.Fragment,null,this.props.helpText?C.createElement("p",null,this.props.helpText):C.createElement("p",null),C.createElement(Gt,{name:this.props.name,placeholder:this.props.name,onChange:this.handleChange,value:e,multi:!0,tags:!0,searchable:!0,expressions:!0}))}}]),a}(C.Component),sn=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).filePicker=void 0,n.state={},Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleRemoveUpload",value:function(){this.props.onUploadChanged(null)}},{key:"handleUploadFile",value:function(e){var t=this,a=new FormData;a.append("file",e[0]);var n=st("csrftoken"),o=n?{"X-CSRFToken":n}:{};Ze.a.post(this.props.endpoint,a,{headers:o}).then((function(e){t.props.onUploadChanged(e.data.url)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return C.createElement(C.Fragment,null,C.createElement("input",{style:{display:"none"},ref:function(t){e.filePicker=t},type:"file",onChange:function(t){return e.handleUploadFile(t.target.files)}}),this.props.url?C.createElement(ce,{iconName:"fe-trash",name:this.props.removeText,topSpacing:!0,onClick:this.handleRemoveUpload,type:j.tertiary}):C.createElement(ce,{iconName:this.props.icon,name:this.props.uploadText,topSpacing:!0,onClick:function(){e.filePicker.click()},type:j.tertiary}))}}]),a}(C.Component),rn=a(73),ln=a.n(rn),un=function(e){var t=e.text;e.text.startsWith("@")?t="@(exp)":e.maxLength&&t.length>e.maxLength&&(t=e.text.substring(0,e.maxLength)+"...");var a=[ln.a.pill];return e.large&&a.push(ln.a.large),e.onClick&&a.push(ln.a.clickable),C.createElement("div",{style:e.style,"data-advanced":e.advanced,onClick:e.onClick,className:a.join(" ")},t,e.icon?C.createElement("span",{"data-advanced":e.advanced,className:ln.a.icon+" "+e.icon}):null)},cn=a(52),dn=a.n(cn),pn=[{value:"image",name:Te.t("forms.image_url","Image URL")},{value:"audio",name:Te.t("forms.audio_url","Audio URL")},{value:"video",name:Te.t("forms.video_url","Video URL")},{value:"application",name:Te.t("forms.pdf_url","PDF Document URL")}],mn=pn.concat([{value:"upload",name:Te.t("forms.upload_attachment","Upload Attachment")}]),hn=function(e,t,a,n,o){var s=t.map((function(e,t){return e.uploaded?_n(t,e,o):gn(t,e,n,o)})),i=t.length<3?gn(-1,{url:"",type:""},n,o):null;return w.a.createElement(w.a.Fragment,null,w.a.createElement("p",null,Te.t("forms.send_msg_summary","Add an attachment to each message. The attachment can be a file you upload or a dynamic URL using expressions and variables from your Flow.",{count:3})),s,i,w.a.createElement("input",{style:{display:"none"},ref:function(e){nn=e},type:"file",onChange:function(t){return function(e,t,a){var n=st("csrftoken"),o=n?{"X-CSRFToken":n}:{};o["X-Requested-With"]="XMLHttpRequest";var s=new FormData;s.append("file",t[0]),Ze.a.post(e,s,{headers:o}).then(a).catch((function(e){console.log(e)}))}(e,t.target.files,a)}}))},_n=function(e,t,a){return w.a.createElement("div",{className:dn.a.url_attachment,key:e>-1?"url_attachment_"+e:te()},w.a.createElement("div",{className:dn.a.type_choice},w.a.createElement(Oa,{key:"attachment_type_"+e,name:Te.t("forms.type","Type"),style:Rt.small,entry:{value:{name:t.type}},options:pn,disabled:!0})),w.a.createElement("div",{className:dn.a.url},w.a.createElement("span",{className:dn.a.upload},w.a.createElement(un,{icon:"fe-download",text:"Download",large:!0,onClick:function(){window.open(t.url,"_blank")}}),w.a.createElement("div",{className:dn.a.remove_upload},w.a.createElement(un,{icon:"fe-x",text:"Remove",large:!0,onClick:function(){a(e)}})))))},gn=function(e,t,a,n){return w.a.createElement("div",{className:dn.a.url_attachment,key:e>-1?"url_attachment_"+e:te()},w.a.createElement("div",{className:dn.a.type_choice},w.a.createElement(Oa,{key:"attachment_type_"+e,style:Rt.small,name:Te.t("forms.type_options","Type Options"),placeholder:Te.t("forms.add_attachment","Add Attachment"),entry:{value:e>-1?(o=t.type,pn.find((function(e){return e.value===o}))):null},onChange:function(n){"upload"===n.value?window.setTimeout((function(){nn.click()}),0):a(e,n.value,-1===e?"":t.url)},options:e>-1?pn:mn})),e>-1?w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:dn.a.url},w.a.createElement(Aa,{placeholder:"URL",name:Te.t("forms.url","URL"),style:Ca.small,onChange:function(n){a(e,t.type,n)},entry:{value:t.url},autocomplete:!0})),w.a.createElement("div",{className:dn.a.remove},w.a.createElement(un,{icon:"fe-x",text:" Remove",large:!0,onClick:function(){n(e)}}))):null);var o},vn=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t={message:{value:""},quickReplies:{value:[]},templateVariables:[],templating:null,audio:{value:null},valid:!0,attachments:[]};if(e.originalAction&&(e.originalAction.type===Ue.send_msg||e.originalAction.type===Ue.say_msg)&&e.localizations&&e.localizations.length>0){e.originalAction&&e.originalAction.templating&&(t.templating=e.originalAction.templating,t.templateVariables=t.templating.variables.map((function(e){return{value:""}})));var a,n=Object(N.a)(e.localizations);try{var o=function(){var e=a.value;if(e.isLocalized()){var n=e.getObject();if(n.text){var o=n;t.message.value="text"in e.localizedKeys?o.text:"",t.audio.value="audio_url"in e.localizedKeys?o.audio_url:null,t.quickReplies.value="quick_replies"in e.localizedKeys&&o.quick_replies||[];var s=[];"attachments"in e.localizedKeys&&(o.attachments||[]).forEach((function(e){var t=e.indexOf(":"),a=e.substring(0,t),n={type:a,url:e.substring(t+1),uploaded:a.indexOf("/")>-1};s.push(n)})),t.attachments=s,t.valid=!0}if(n.variables){var i=n;t.templateVariables=i.variables.map((function(t){return{value:"variables"in e.localizedKeys?t:""}})),t.valid=!0}}};for(n.s();!(a=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}}return t}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^handle/,/^on/]}),n}return Object(v.a)(a,[{key:"handleMessageUpdate",value:function(e){return this.handleUpdate({text:e})}},{key:"handleQuickRepliesUpdate",value:function(e){return this.handleUpdate({quickReplies:e})}},{key:"handleAudioChanged",value:function(e){this.handleUpdate({audio:e})}},{key:"handleUpdate",value:function(e){var t={};e.hasOwnProperty("text")&&(t.message=ua(Te.t("forms.message","Message"),e.text,[])),e.hasOwnProperty("quickReplies")&&(t.quickReplies=ua(Te.t("forms.quick_replies","Quick Replies"),e.quickReplies,[_a])),e.hasOwnProperty("audio")&&(t.audio={value:e.audio});var a=ta(this.state,t);return this.setState(a),a.valid}},{key:"handleSave",value:function(){var e=this.state,t=e.message,a=e.quickReplies,n=e.audio,o=e.templateVariables,s=e.attachments;if(!(en(this.props.nodeSettings).localizeableKeys.indexOf("quick_replies")>-1)||this.handleQuickRepliesUpdate(this.state.quickReplies.value)){var i={};t.value&&(i.text=t.value),i.attachments=s.filter((function(e){return e.url.trim().length>0})).map((function(e){return"".concat(e.type,":").concat(e.url)})),a.value&&a.value.length>0&&(i.quick_replies=a.value),n.value&&(i.audio_url=n.value);var r=[{uuid:this.props.nodeSettings.originalAction.uuid,translations:i}];o.find((function(e){return e.value.length>0}))&&r.push({uuid:this.state.templating.uuid,translations:{variables:o.map((function(e){return e.value}))}}),this.props.updateLocalizations(this.props.language.id,r),this.props.onClose(!1)}}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleQuickReplyChanged",value:function(e){this.handleUpdate({quickReplies:e})}},{key:"handleTemplateVariableChanged",value:function(e,t){var a=ua("Variable ".concat(t+1),e,[]),n=ea()(this.state.templateVariables,{$merge:Object(x.a)({},t,a)});this.setState({templateVariables:n})}},{key:"handleAttachmentUploaded",value:function(e){var t=ea()(this.state.attachments,{$push:[{type:e.data.type,url:e.data.url,uploaded:!0}]});this.setState({attachments:t})}},{key:"handleAttachmentChanged",value:function(e,t,a){var n=this.state.attachments;n=-1===e?ea()(n,{$push:[{type:t,url:a}]}):ea()(n,Object(x.a)({},e,{$set:{type:t,url:a}})),this.setState({attachments:n})}},{key:"handleAttachmentRemoved",value:function(e){var t=ea()(this.state.attachments,{$splice:[[e,1]]});this.setState({attachments:t})}},{key:"render",value:function(){var e=this,t=en(this.props.nodeSettings),a=[];if(this.state.templating&&t.localizeableKeys.indexOf("templating.variables")>-1){var n=!!this.state.templateVariables.find((function(e){return e.value.length>0})),o=Te.t("forms.variable","Variable");a.push({name:"WhatsApp",body:C.createElement(C.Fragment,null,C.createElement("p",null,Te.t("forms.whatsapp_warning","Sending messages over a WhatsApp channel requires that a template be used if you have not received a message from a contact in the last 24 hours. Setting a template to use over WhatsApp is especially important for the first message in your flow.")),this.state.templating&&this.state.templating.variables.length>0?C.createElement(C.Fragment,null,ae(0,this.state.templating.variables.length).map((function(t){var a=e.state.templateVariables[t]||{value:""};return C.createElement("div",{className:$a.a.variable,key:"tr_arg_"+t},C.createElement(Aa,{name:"".concat(Te.t("forms.variable","Variable")," ").concat(t+1),showLabel:!1,placeholder:"".concat(e.props.language.name," ").concat(o," ").concat(t+1),onChange:function(a){e.handleTemplateVariableChanged(a,t)},entry:a,autocomplete:!0}))}))):null),checked:n})}t.localizeableKeys.indexOf("quick_replies")>-1&&a.push({name:Te.t("forms.attachments","Attachments"),body:hn(this.context.config.endpoints.attachments,this.state.attachments,this.handleAttachmentUploaded,this.handleAttachmentChanged,this.handleAttachmentRemoved),checked:this.state.attachments.length>0}),t.localizeableKeys.indexOf("quick_replies")>-1&&a.push({name:Te.t("forms.quick_replies","Quick Replies"),body:C.createElement(C.Fragment,null,C.createElement(on,{name:Te.t("forms.quick_reply","Quick Reply"),helpText:C.createElement(ke.a,{i18nKey:"forms.localized_quick_replies",values:{language:this.props.language.name}},"Add a new [[language]] Quick Reply and press enter."),items:this.state.quickReplies,onChange:this.handleQuickReplyChanged})),checked:this.state.quickReplies.value.length>0});var s=null;t.localizeableKeys.indexOf("audio_url")>0&&(s=C.createElement(sn,{icon:"fe-mic",uploadText:"Upload Recording",removeText:"Remove Recording",url:this.state.audio.value,endpoint:this.context.config.endpoints.attachments,onUploadChanged:this.handleAudioChanged}));var i=Te.t("forms.translation","Translation");return C.createElement(ge,{title:t.name,headerClass:t.type,buttons:this.getButtons(),tabs:a},C.createElement("div",{"data-spec":"translation-container"},C.createElement("div",{"data-spec":"text-to-translate",className:$a.a.translate_from},this.props.nodeSettings.originalAction.text)),C.createElement(Aa,{name:Te.t("forms.message","Message"),showLabel:!1,onChange:this.handleMessageUpdate,entry:this.state.message,placeholder:"".concat(this.props.language.name," ").concat(i),autocomplete:!0,focus:!0,textarea:!0}),s,_t(this.props))}}]),a}(C.Component);vn.contextTypes={config:jt};var fn=function(e){var t=e.type;return C.createElement("div",{className:"placeholder"},"No implementation yet for ",t)},yn=function(e){return C.createElement("div",null,e.audio_url)},bn=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n,o;return Object(g.a)(this,a),(n=t.call(this,e)).state=(o=n.props.nodeSettings).originalAction&&o.originalAction.type===Ue.play_audio?{audio:{value:o.originalAction.audio_url},valid:!0}:{audio:{value:""},valid:!1},Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleAudioUpdate",value:function(e){var t={};t.audio=ua(Te.t("forms.recording","Recording"),e,[ca]);var a=ta(this.state,t);return this.setState(a),a.valid}},{key:"handleSave",value:function(){var e;this.handleAudioUpdate(this.state.audio.value)&&(this.props.updateAction((e=this.props.nodeSettings,{audio_url:this.state.audio.value,type:Ue.play_audio,uuid:vt(e,Ue.say_msg)})),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("p",null,Te.t("forms.recording_label","Previous Recording")),C.createElement(Aa,{name:Te.t("forms.message","Message"),showLabel:!1,onChange:this.handleAudioUpdate,entry:this.state.audio,autocomplete:!0,focus:!0,helpText:C.createElement(ke.a,{i18nKey:"forms.play_audio_help_text"},"Enter a variable that contains a recording the contact has previously recorded. For example, @results.voicemail or @fields.short_bio.")}),_t(this.props))}}]),a}(C.Component),kn=a(57),En=a.n(kn),Cn=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).ele=void 0,n.stroke=1,n.radius=9,n.radiusNormalized=n.radius-2*n.stroke,n.circumference=2*n.radiusNormalized*Math.PI,n.state={durationSeconds:0,currentSeconds:0,playing:!1,progress:0},Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleTimeUpdate",value:function(e){var t=this,a=this.ele.currentTime||0,n=this.ele.duration||0;this.setState((function(e){(t.ele.ended||0===a)&&e.playing&&setTimeout((function(){t.setState({progress:0,playing:!1})}),500);var o=n>0?Math.floor(a/n*100):0;return{currentSeconds:t.ele.ended||100===o?0:a,durationSeconds:n,playing:a>0&&!t.ele.ended,progress:o}}))}},{key:"componentDidMount",value:function(){this.props.triggered&&this.handleTogglePlay(null)}},{key:"handleTogglePlay",value:function(e){null!==e&&(e.preventDefault(),e.stopPropagation()),this.state.playing?(this.ele.pause(),this.ele.currentTime=0):(this.ele.load(),this.ele.play())}},{key:"handleRef",value:function(e){return this.ele=e}},{key:"componentDidUpdate",value:function(e){this.props.url!==e.url&&this.setState({durationSeconds:0,currentSeconds:0,playing:!1,progress:0})}},{key:"render",value:function(){var e=this.state.progress||0,t=this.circumference-e/100*this.circumference;return C.createElement("div",{className:En.a.player+" "+(this.state.playing?En.a.playing:""),style:{height:2*this.radius,width:2*this.radius},onMouseUp:function(e){e.preventDefault(),e.stopPropagation()},onMouseDown:this.handleTogglePlay},C.createElement("audio",{ref:this.handleRef,onTimeUpdate:this.handleTimeUpdate,src:this.props.url,preload:"none"}),C.createElement("div",{className:En.a.circles},C.createElement("svg",{height:2*this.radius,width:2*this.radius},C.createElement("circle",{className:En.a.circle_background,stroke:"#fff",fill:"#fff",strokeWidth:this.stroke,r:this.radiusNormalized,cx:this.radius,cy:this.radius}),C.createElement("circle",{className:En.a.circle_background,stroke:"#ddd",fill:"transparent",strokeWidth:this.stroke,r:this.radiusNormalized,cx:this.radius,cy:this.radius}),C.createElement("circle",{className:En.a.circle_foreground,stroke:"cornflowerblue",fill:"transparent",strokeWidth:this.stroke,strokeDasharray:this.circumference+" "+this.circumference,style:{strokeDashoffset:t},r:this.radiusNormalized,cx:this.radius,cy:this.radius}))),C.createElement("div",{className:En.a.button+" "+(this.state.playing?"fe-stop":"fe-play_arrow")}))}}]),a}(C.Component),wn=a(99),Nn=a.n(wn),Sn=Te.t("actions.say_msg.placeholder","Send a message to the contact"),xn=function(e){return e.text?C.createElement(C.Fragment,null,C.createElement("div",{className:Nn.a.text},e.text),e.audio_url?C.createElement("div",{className:Nn.a.recording},C.createElement(Cn,{url:e.audio_url})):null):C.createElement("div",{className:"placeholder"},Sn)},On=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){if(e.originalAction&&e.originalAction.type===Ue.say_msg){var t=e.originalAction;return{message:{value:t.text},audio:{value:t.audio_url},valid:!0}}return{message:{value:""},audio:{value:""},valid:!1}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};e.hasOwnProperty("text")&&(a.message=ua(Te.t("forms.message","Message"),e.text,[pa(t)]));var n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleMessageUpdate",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.handleUpdate({text:e},a)}},{key:"handleSave",value:function(){var e,t;this.handleUpdate({text:this.state.message.value},!0)&&(this.props.updateAction((e=this.props.nodeSettings,{text:(t=this.state).message.value,audio_url:t.audio.value,type:Ue.say_msg,uuid:vt(e,Ue.say_msg)})),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleUploadChanged",value:function(e){this.setState({audio:{value:e}})}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement(Aa,{name:Te.t("forms.message","Message"),showLabel:!1,onChange:this.handleMessageUpdate,entry:this.state.message,autocomplete:!0,focus:!0,textarea:!0}),C.createElement(sn,{icon:"fe-mic",uploadText:"Upload Recording",removeText:"Remove Recording",url:this.state.audio.value,endpoint:this.context.config.endpoints.attachments,onUploadChanged:this.handleUploadChanged}),_t(this.props))}}]),a}(C.Component);On.contextTypes={config:jt};var jn=a(74),Tn=a.n(jn),An=Te.t("actions.send_broadcast.placeholder","Send a message to the contact"),Rn=function(e,t){var a=ft(e);return e.text?C.createElement("div",{className:Tn.a.node},C.createElement("div",{className:Tn.a.to,key:e.uuid+"_broadcast_recipients"},yt(a,5,t.config.endpoints)),C.createElement("div",{className:Tn.a.message},e.text.split(/\r?\n/).map((function(t,a){return C.createElement("div",{key:e.uuid+a,className:Tn.a.line},t)})))):C.createElement("div",{className:"placeholder"},An)};Rn.contextTypes={config:jt};var Un=Rn,Dn=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){if(e.originalAction&&e.originalAction.type===Ue.send_broadcast){var t=e.originalAction;if(e.localizations&&e.localizations.length>0){if(!e.localizations[0].isLocalized())return{message:{value:""},recipients:{value:[]},valid:!0};t=e.localizations[0].getObject()}return{message:{value:t.text},recipients:{value:ft(t)},valid:!0}}return{message:{value:""},recipients:{value:[]},valid:!1}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleRecipientsChanged",value:function(e){return this.handleUpdate({recipients:e})}},{key:"handleMessageUpdate",value:function(e){return this.handleUpdate({text:e})}},{key:"handleUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};e.hasOwnProperty("recipients")&&(a.recipients=ua(Te.t("forms.recipients","Recipients"),e.recipients,[pa(t)])),e.hasOwnProperty("text")&&(a.message=ua(Te.t("forms.message","Message"),e.text,[pa(t)]));var n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleSave",value:function(){var e,t;this.handleUpdate({text:this.state.message.value,recipients:this.state.recipients.value},!0)&&(this.props.updateAction((e=this.props.nodeSettings,t=this.state,{legacy_vars:Ct(t.recipients.value),contacts:wt(t.recipients.value,je.Contact),groups:wt(t.recipients.value,je.Group),text:t.message.value,type:Ue.send_broadcast,uuid:vt(e,Ue.send_broadcast)})),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement(Wt,{name:Te.t("forms.recipients","Recipients"),placeholder:Te.t("forms.select_contacts","Select Contacts"),assets:this.props.assetStore.recipients,entry:this.state.recipients,searchable:!0,multi:!0,expressions:!0,onChange:this.handleRecipientsChanged}),C.createElement("p",null),C.createElement(Aa,{name:Te.t("forms.message","Message"),showLabel:!1,count:Ea.SMS,onChange:this.handleMessageUpdate,entry:this.state.message,autocomplete:!0,focus:!0,textarea:!0}),_t(this.props))}}]),a}(C.Component);Dn.contextTypes={endpoints:jt,assetService:jt};var Pn=function(e){var t=e.subject;return C.createElement("div",null,t)},zn={control:function(e,t){return Object(k.a)({},e,{borderColor:"#e6e6e6",boxShadow:"none",transition:"all 0.3s ease-in-out","&:hover":{borderColor:"#e6e6e6"},"&:focus-within":{boxShadow:"var(--widget-box-shadow-focused) !important",border:"1px solid #a4cafe !important"}})},input:function(e,t){return Object(k.a)({},e,{marginLeft:"0px",caretColor:"#999",marginBottom:"0px",boxShadow:"none",border:"none"})},multiValue:function(e){return Object(k.a)({},e,{maxHeight:24,minHeight:24,lineHeight:"17px",backgroundColor:"hsl(0, 0%, 94%)",border:"1px solid hsl(0, 0%, 85%)"})}},Fn=a(161),In=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),n=t.call(this,e),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdateTags",value:function(e){this.props.onChange&&this.props.onChange(function(e){return(e||[]).map((function(e){return e.label}))}(e))}},{key:"handleCheckValid",value:function(e){return!(!e||0===e.trim().length)&&this.props.onCheckValid(e)}},{key:"arrowRenderer",value:function(){return w.a.createElement("div",null)}},{key:"render",value:function(){var e=this,t=0===(this.props.entry.validationFailures||[]).length?"react-select select-base":"react-select select-base select-invalid",a=function(e){return e.value.map((function(e){return{label:e,value:e}}))}(this.props.entry);return w.a.createElement(Lt,{name:this.props.name,entry:this.props.entry},w.a.createElement(Fn.a,{styles:zn,className:t,name:this.props.name,placeholder:this.props.placeholder,value:a,onChange:this.handleUpdateTags,isMulti:!0,isSearchable:!0,isValidNewOption:this.handleCheckValid,noOptionsMessage:function(){return e.props.prompt},formatCreateLabel:function(t){return void 0!==e.props.createPrompt?e.props.createPrompt+t:"Create new "+t},options:[]}))}}]),a}(w.a.Component),Ln=a(84),Mn=a.n(Ln),qn=/\S+@\S+\.\S+/,Vn=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){if(e.originalAction&&e.originalAction.type===Ue.send_email){var t=e.originalAction;return{body:{value:t.body},subject:{value:t.subject},recipients:{value:t.addresses},valid:!0}}return{body:{value:""},subject:{value:""},recipients:{value:[]},valid:!0}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleRecipientsChanged",value:function(e){return this.handleUpdate({recipients:e})}},{key:"handleSubjectChanged",value:function(e){return this.handleUpdate({subject:e})}},{key:"handleBodyChanged",value:function(e){return this.handleUpdate({body:e})}},{key:"handleUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};e.hasOwnProperty("recipients")&&(a.recipients=ua(Te.t("forms.recipients","Recipients"),e.recipients,[pa(t)])),e.hasOwnProperty("subject")&&(a.subject=ua(Te.t("forms.subject","Subject"),e.subject,[pa(t)])),e.hasOwnProperty("body")&&(a.body=ua(Te.t("forms.body","Body"),e.body,[pa(t)]));var n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleSave",value:function(){var e,t;this.handleUpdate({recipients:this.state.recipients.value,subject:this.state.subject.value,body:this.state.body.value},!0)&&(this.props.updateAction((e=this.props.nodeSettings,{addresses:(t=this.state).recipients.value,subject:t.subject.value,body:t.body.value,type:Ue.send_email,uuid:vt(e,Ue.send_email)})),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleCheckValid",value:function(e){return qn.test(e)||e.startsWith("@")}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("div",{className:Mn.a.ele},C.createElement(In,{name:Te.t("forms.email_recipient_name","Recipient"),placeholder:Te.t("forms.email_recipient_placeholder","To"),prompt:Te.t("forms.email_recipient_prompt","Enter email address"),onCheckValid:this.handleCheckValid,entry:this.state.recipients,onChange:this.handleRecipientsChanged,createPrompt:""}),C.createElement(Aa,{__className:Mn.a.subject,name:Te.t("forms.subject","Subject"),placeholder:Te.t("forms.subject","Subject"),onChange:this.handleSubjectChanged,entry:this.state.subject,autocomplete:!0}),C.createElement(Aa,{__className:Mn.a.message,name:Te.t("forms.message","Message"),showLabel:!1,onChange:this.handleBodyChanged,entry:this.state.body,autocomplete:!0,textarea:!0})),_t(this.props))}}]),a}(C.Component),Bn=a(60),Gn=a.n(Bn),Hn=Te.t("actions.send_msg.placeholder","Send a message to the contact"),Wn=function(e){if(e.text){var t=null,a=e.quick_replies||[];return a.length>0&&(t=C.createElement("div",{className:Gn.a.quick_replies},a.map((function(t){return C.createElement(un,{style:{marginLeft:4,marginTop:4},maxLength:20,advanced:!0,key:e.uuid+t,text:t})})))),C.createElement(C.Fragment,null,C.createElement("div",null,e.text.split(/\r?\n/).map((function(t,a){return C.createElement("div",{key:e.uuid+a,className:Gn.a.line},t)})),e.attachments&&e.attachments.length>0?C.createElement("div",{className:"".concat(Gn.a.attachment," fe-paperclip")}):null,e.templating&&e.templating.template?C.createElement("div",{className:"".concat(Gn.a.whatsapp," fe-whatsapp")}):null,e.topic?C.createElement("div",{className:"".concat(Gn.a.facebook," fe-facebook")}):null),C.createElement("div",{className:Gn.a.summary},t))}return C.createElement("div",{className:"placeholder"},Hn)},Kn=[{value:"event",name:"Event"},{value:"account",name:"Account"},{value:"purchase",name:"Purchase"},{value:"agent",name:"Agent"}],Yn=a(85),Xn=a.n(Yn),Zn=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).filePicker=void 0,n.state=function(e,t){var a={value:null},n=[];if(e.originalAction&&e.originalAction.type===Ue.send_msg){var o=e.originalAction,s=[];if((o.attachments||[]).forEach((function(e){var t=e.indexOf(":"),a=e.substring(0,t),n={type:a,url:e.substring(t+1),uploaded:a.indexOf("/")>-1};s.push(n)})),o.templating){var i=o.templating.template;a={value:{uuid:i.uuid,name:i.name}},n=o.templating.variables.map((function(e){return{value:e}}))}return{topic:{value:Kn.find((function(e){return e.value===o.topic}))},template:a,templateVariables:n,attachments:s,message:{value:o.text},quickReplies:{value:o.quick_replies||[]},quickReplyEntry:{value:""},sendAll:o.all_urns,valid:!0}}return{topic:{value:null},template:a,templateVariables:[],attachments:[],message:{value:""},quickReplies:{value:[]},quickReplyEntry:{value:""},sendAll:!1,valid:!1}}(n.props.nodeSettings,n.props.assetStore),Object(E.react)(Object(f.a)(n),{include:[/^handle/,/^on/]}),null!==n.state.template.value&&it(n.props.assetStore.templates,n.state.template.value.uuid).then((function(e){null!==e&&n.handleTemplateChanged([Object(k.a)({},n.state.template.value,{},e.content)])})),n}return Object(v.a)(a,[{key:"handleUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};e.hasOwnProperty("text")&&(a.message=ua(Te.t("forms.message","Message"),e.text,[pa(t)])),e.hasOwnProperty("sendAll")&&(a.sendAll=e.sendAll),e.hasOwnProperty("quickReplies")&&(a.quickReplies=ua(Te.t("forms.quick_replies","Quick Replies"),e.quickReplies,[_a]));var n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleMessageInput",value:function(e){return this.handleUpdate({text:e.target.value},!1)}},{key:"handleMessageUpdate",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.handleUpdate({text:e},a)}},{key:"handleQuickRepliesUpdate",value:function(e){return this.handleUpdate({quickReplies:e})}},{key:"handleSendAllUpdate",value:function(e){return this.handleUpdate({sendAll:e})}},{key:"handleSave",value:function(){if(!Et(this.state.message)){var e=this.handleMessageUpdate(this.state.message.value,null,!0),t=this.state.templateVariables;this.state.templateVariables.forEach((function(a,n){var o=ua("Variable ".concat(n+1),a.value,[ca]);t=ea()(t,Object(x.a)({},n,{$merge:o})),e=e&&!Et(o)})),(e=e&&!Et(this.state.quickReplyEntry))?(this.props.updateAction(function(e,t){var a=t.attachments.filter((function(e){return e.url.trim().length>0})).map((function(e){return"".concat(e.type,":").concat(e.url)})),n=null;if(t.template&&t.template.value){var o=te();if(e.originalAction&&e.originalAction.type===Ue.send_msg){var s=e.originalAction;s.templating&&s.templating.template&&s.templating.template.uuid===t.template.value.id&&(o=s.templating.uuid)}n={uuid:o,template:{uuid:t.template.value.uuid,name:t.template.value.name},variables:t.templateVariables.map((function(e){return e.value}))}}var i={attachments:a,text:t.message.value,type:Ue.send_msg,all_urns:t.sendAll,quick_replies:t.quickReplies.value,uuid:vt(e,Ue.send_msg)};return n&&(i.templating=n),t.topic.value&&(i.topic=t.topic.value.value),i}(this.props.nodeSettings,this.state)),this.props.onClose(!1)):this.setState({templateVariables:t,valid:e})}}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleTemplateChanged",value:function(e){var t=e?e[0]:null;if(t){var a=t.translations[0],n=0===this.state.templateVariables.length||this.state.template.value&&this.state.template.value.uuid!==t.uuid?ae(0,a.variable_count).map((function(){return{value:""}})):this.state.templateVariables;this.setState({template:{value:t},templateTranslation:a,templateVariables:n})}else this.setState({template:{value:null},templateTranslation:null,templateVariables:[]})}},{key:"handleTemplateVariableChanged",value:function(e,t){var a=ua("Variable ".concat(t+1),e,[ca]),n=ea()(this.state.templateVariables,{$merge:Object(x.a)({},t,a)});this.setState({templateVariables:n})}},{key:"handleShouldExcludeTemplate",value:function(e){return!function(e){return!!e.translations.find((function(e){return"pending"===e.status||"approved"===e.status}))}(e)}},{key:"renderTopicConfig",value:function(){return C.createElement(C.Fragment,null,C.createElement("p",null,Te.t("forms.send_msg_facebook_warning","Sending bulk messages over a Facebook channel requires that a topic be specified if the user has not sent a message in the last 24 hours. Setting a topic to use over Facebook is especially important for the first message in your flow.")),C.createElement(Oa,{key:"fb_method_select",name:Te.t("forms.method","Method"),entry:this.state.topic,onChange:this.handleTopicUpdate,options:Kn,placeholder:Te.t("forms.send_msg_facebook_topic_placeholder","Select a topic to use over Facebook"),clearable:!0}))}},{key:"handleTopicUpdate",value:function(e){this.setState({topic:{value:e}})}},{key:"renderTemplateConfig",value:function(){var e=this;return C.createElement(C.Fragment,null,C.createElement("p",null,Te.t("forms.whatsapp_warning","Sending messages over a WhatsApp channel requires that a template be used if you have not received a message from a contact in the last 24 hours. Setting a template to use over WhatsApp is especially important for the first message in your flow.")),C.createElement(Wt,{name:Te.t("forms.template","template"),noOptionsMessage:"No templates found",assets:this.props.assetStore.templates,entry:this.state.template,onChange:this.handleTemplateChanged,shouldExclude:this.handleShouldExcludeTemplate,searchable:!0,formClearable:!0}),this.state.templateTranslation?C.createElement(C.Fragment,null,C.createElement("div",{className:Xn.a.template_text},this.state.templateTranslation.content),ae(0,this.state.templateTranslation.variable_count).map((function(t){return C.createElement("div",{className:Xn.a.variable,key:"tr_arg_"+t},C.createElement(Aa,{name:"".concat(Te.t("forms.variable","Variable")," ").concat(t+1),showLabel:!1,placeholder:"".concat(Te.t("forms.variable","Variable")," ").concat(t+1),onChange:function(a){e.handleTemplateVariableChanged(a,t)},entry:e.state.templateVariables[t],autocomplete:!0}))}))):null)}},{key:"handleAttachmentUploaded",value:function(e){var t=ea()(this.state.attachments,{$push:[{type:e.data.type,url:e.data.url,uploaded:!0}]});this.setState({attachments:t})}},{key:"handleAttachmentChanged",value:function(e,t,a){var n=this.state.attachments;n=-1===e?ea()(n,{$push:[{type:t,url:a}]}):ea()(n,Object(x.a)({},e,{$set:{type:t,url:a}})),this.setState({attachments:n})}},{key:"handleAttachmentRemoved",value:function(e){var t=ea()(this.state.attachments,{$splice:[[e,1]]});this.setState({attachments:t})}},{key:"render",value:function(){var e=this.props.typeConfig,t=[{name:Te.t("forms.quick_replies","Quick Replies"),body:C.createElement(C.Fragment,null,C.createElement("p",null,Te.t("forms.quick_replies_summary",'Quick Replies are made into buttons for supported channels. For example, when asking a question, you might add a Quick Reply for "Yes" and one for "No".')),C.createElement(on,{name:Te.t("forms.quick_reply","quick_reply"),helpText:C.createElement(ke.a,{i18nKey:"forms.add_quick_reply"},"Add a new Quick Reply and press enter."),items:this.state.quickReplies,entry:this.state.quickReplyEntry,onChange:this.handleQuickRepliesUpdate})),checked:this.state.quickReplies.value.length>0,hasErrors:Et(this.state.quickReplyEntry)},{name:Te.t("forms.attachments","Attachments"),body:hn(this.context.config.endpoints.attachments,this.state.attachments,this.handleAttachmentUploaded,this.handleAttachmentChanged,this.handleAttachmentRemoved),checked:this.state.attachments.length>0},{name:Te.t("forms.advanced","Advanced"),body:C.createElement(Ha,{name:Te.t("forms.all_destinations","All Destinations"),title:Te.t("forms.all_destinations","All Destinations"),labelClassName:Xn.a.checkbox,checked:this.state.sendAll,description:Te.t("forms.all_destinations_description","Send a message to all destinations known for this contact. If you aren't sure what this means, leave it unchecked."),onChange:this.handleSendAllUpdate}),checked:this.state.sendAll}];if(Er(this.context.config,Pe.HAS_WHATSAPP)){var a={name:"WhatsApp",body:this.renderTemplateConfig(),checked:null!=this.state.template.value,hasErrors:!!this.state.templateVariables.find((function(e){return Et(e)}))};t.splice(0,0,a)}if(Er(this.context.config,Pe.HAS_FACEBOOK)){var n={name:"Facebook",body:this.renderTopicConfig(),checked:null!=this.state.topic.value};t.splice(0,0,n)}return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons(),tabs:t},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement(Aa,{name:Te.t("forms.message","Message"),showLabel:!1,counter:".sms-counter",onChange:this.handleMessageUpdate,entry:this.state.message,autocomplete:!0,focus:!0,textarea:!0}),C.createElement("temba-charcount",{class:"sms-counter"}),_t(this.props))}}]),a}(C.Component);Zn.contextTypes={config:jt};var Qn=function(e){var t=e.value,a=e.name;return t?function(e,t){return C.createElement("div",null,"Save ",W(K(e,100))," as ",W(t))}(t,a):function(e){return C.createElement("div",null,"Clear value for ",W(e))}(a)},Jn=a(86),$n=a.n(Jn),eo=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).options=[],n.state=function(e){if(e.originalAction&&e.originalAction.type===Ue.set_run_result){var t=e.originalAction;return{name:{value:{id:q(t.name),name:t.name,type:je.Result}},value:{value:t.value},category:{value:t.category},valid:!0}}return{name:{value:null},value:{value:""},category:{value:""},valid:!1}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^handle/,/^on/]}),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.assetStore.results.items;this.options=Object.keys(e).map((function(t){return{name:e[t].name,value:t}}))}},{key:"handleNameUpdate",value:function(e){e?this.handleUpdate({name:e[0]}):this.handleUpdate({name:null})}},{key:"handleValueUpdate",value:function(e){return this.handleUpdate({value:e})}},{key:"handleCategoryUpdate",value:function(e){return this.handleUpdate({category:e})}},{key:"handleUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};e.hasOwnProperty("name")&&(a.name=ua(Te.t("forms.name","Name"),e.name,[pa(t),ya,ga])),e.hasOwnProperty("value")&&(a.value=ua(Te.t("forms.value","Value"),e.value,[])),e.hasOwnProperty("category")&&(a.category=ua(Te.t("forms.category","Category"),e.category,[]));var n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleSave",value:function(){var e,t;this.handleUpdate({name:this.state.name.value},!0)&&(this.props.updateAction((e=this.props.nodeSettings,t=this.state,{type:Ue.set_run_result,name:t.name.value.name,value:t.value.value,category:t.category.value,uuid:vt(e,Ue.set_run_result)})),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleCreateAssetFromInput",value:function(e){return{id:q(e),name:e,type:je.Result}}},{key:"render",value:function(){var e=this.props.typeConfig,t=!Et(this.state.name)&&this.state.name.value?"."+q(this.state.name.value.name):"";return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("div",{className:$n.a.form},C.createElement(Wt,{name:Te.t("forms.result","Result"),assets:this.props.assetStore.results,entry:this.state.name,searchable:!0,createPrefix:Te.t("forms.create_prefix","New: "),onChange:this.handleNameUpdate,createAssetFromInput:this.handleCreateAssetFromInput,formClearable:!0,showLabel:!0,valueKey:"value",nameKey:"name",additionalOptions:this.options,helpText:C.createElement(ke.a,{i18nKey:"forms.result_name_help",values:{resultFormat:"@results".concat(t)}},"By naming the result, you can reference it later using [[resultFormat]]")}),C.createElement(Aa,{__className:$n.a.value,name:Te.t("forms.value","Value"),showLabel:!0,onChange:this.handleValueUpdate,entry:this.state.value,autocomplete:!0,helpText:Te.t("forms.result_value_help","The value to save for this result or empty to clears it. You can use expressions, for example: @(title(input))")}),C.createElement(Aa,{__className:$n.a.category,name:Te.t("forms.category","Category"),placeholder:"Optional",showLabel:!0,onChange:this.handleCategoryUpdate,entry:this.state.category,autocomplete:!1,helpText:Te.t("forms.result_category_help","An optional category for your result. For age, the value might be 17, but the category might be 'Young Adult'")})),_t(this.props))}}]),a}(C.PureComponent),to=function(e,t){var a=e.flow,n=a.name,o=a.uuid;return C.createElement(C.Fragment,null,yt([{name:n,id:o,type:je.Flow}],3,t.config.endpoints))};to.contextTypes={config:jt};var ao=to,no=a(87),oo=a.n(no),so=function(e,t){var a=ft(e);return C.createElement("div",{className:oo.a.node},C.createElement("div",{className:oo.a.to},e.create_contact?"Create a new contact":e.contact_query?e.contact_query:yt(a,5,t.config.endpoints)),C.createElement("div",{className:oo.a.flow},bt({name:e.flow.name,id:e.flow.uuid,type:je.Flow},t.config.endpoints)))};so.contextTypes={config:jt};var io,ro=so,lo=a(144),uo=a.n(lo),co={name:Te.t("forms.start_type_manual","Select recipients manually"),value:"assets"},po={name:Te.t("forms.start_type_create","Create a new contact"),value:"create_contact"},mo={name:Te.t("forms.start_type_query_contact","Select a contact with a query"),value:"contact_query"},ho=[co,mo,po],_o=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){if(e.originalAction&&e.originalAction.type===Ue.start_session){var t=e.originalAction;return{recipients:{value:ft(t)},flow:{value:t.flow},startType:{value:t.create_contact?po:t.contact_query?mo:co},contactQuery:{value:t.contact_query||""},valid:!0}}return{recipients:{value:[]},flow:{value:null},startType:{value:co},contactQuery:{value:""},valid:!1}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleRecipientsChanged",value:function(e){return this.handleUpdate({recipients:e})}},{key:"handleFlowChanged",value:function(e){var t=null;return e&&e.length>0&&(t=e[0]),this.handleUpdate({flow:t})}},{key:"handleStartTypeChanged",value:function(e){return this.handleUpdate({startType:e})}},{key:"handleContactQueryChanged",value:function(e){return this.handleUpdate({contactQuery:e})}},{key:"handleUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};e.hasOwnProperty("startType")&&(a.startType={value:e.startType},e.startType!==co&&(a.recipients={value:[]}),e.startType!==mo&&(a.contactQuery={value:""})),e.hasOwnProperty("contactQuery")&&(a.contactQuery=ua(Te.t("forms.contact_query","Contact Query"),e.contactQuery,[pa(t&&this.state.startType.value===mo)])),e.hasOwnProperty("recipients")&&(a.recipients=ua(Te.t("forms.recipients","Recipients"),e.recipients,[pa(t&&this.state.startType.value===co)])),e.hasOwnProperty("flow")&&(a.flow=ua(Te.t("forms.flow","Flow"),e.flow,[pa(t)]));var n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleSave",value:function(){this.handleUpdate({recipients:this.state.recipients.value,flow:this.state.flow.value,contactQuery:this.state.contactQuery.value},!0)&&(this.props.updateAction(function(e,t){var a=t.flow.value,n={legacy_vars:Ct(t.recipients.value),contacts:wt(t.recipients.value,je.Contact),groups:wt(t.recipients.value,je.Group),create_contact:t.startType.value===po,flow:{name:a.name,uuid:a.uuid},type:Ue.start_session,uuid:vt(e,Ue.start_session)};return t.contactQuery.value&&(n.contact_query=t.contactQuery.value),n}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("div",null,C.createElement(Oa,{key:"start_type_select",name:Te.t("forms.start_type","Start Type"),entry:this.state.startType,onChange:this.handleStartTypeChanged,options:ho})),C.createElement("p",null),C.createElement("div",null,Y(this.state.startType.value===co)(C.createElement("div",{"data-testid":"recipients"},C.createElement(Wt,{name:Te.t("forms.recipients","Recipients"),placeholder:Te.t("forms.select_who_to_start","Select who should be started in the flow"),assets:this.props.assetStore.recipients,entry:this.state.recipients,searchable:!0,multi:!0,expressions:!0,onChange:this.handleRecipientsChanged}),C.createElement("p",null))),Y(this.state.startType.value===mo)(C.createElement("div",{"data-testid":"contact_query"},C.createElement(Aa,{name:Te.t("forms.contact_query","Contact Query"),placeholder:"household_id = @fields.household_id",onChange:this.handleContactQueryChanged,entry:this.state.contactQuery,autocomplete:!0,focus:!0}),C.createElement("div",{className:uo.a.helpText},Te.t("forms.contact_query_help","Only one matching contact will be started")))),C.createElement(Wt,{name:Te.t("forms.flow","Flow"),placeholder:Te.t("forms.select_flow","Select the flow to start"),assets:this.props.assetStore.flows,entry:this.state.flow,searchable:!0,onChange:this.handleFlowChanged})),_t(this.props))}}]),a}(C.Component),go=a(100),vo=a.n(go),fo=function(e){var t=Object.keys(e.amounts).map((function(t){return C.createElement("div",{key:"transfer_"+t},C.createElement("div",{className:vo.a.amount},e.amounts[t]),C.createElement("div",{className:vo.a.code},t))}));return C.createElement("div",null,t)},yo=a(35),bo=function(e,t){return t?W(e):e},ko=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?C.createElement("div",{className:"".concat(yo.node_asset)},"Set ",bo(e,a)," to ",W(t),"."):C.createElement("div",null,Te.t("forms.clear","Clear")," ",bo(e,a),".")},Eo=function(e){if(e.type===Ue.set_contact_field)return ko(e.field.name,e.value,!0);if(e.type===Ue.set_contact_channel){var t=e;return ko("channel",t.channel?t.channel.name:null,!1)}return e.type===Ue.set_contact_language?ko("language",Sr(e.language,e.languages),!1):e.type===Ue.set_contact_status?ko("status",e.status,!1):e.type===Ue.set_contact_name?ko("name",e.name,!1):null},Co=function(e){if(e.ghost){var t=Object.keys(e.inboundConnections);if(t.length>0){var a=t[0];return{exitUUID:a,nodeUUID:e.inboundConnections[a]}}}},wo=[Nt,xt,St,Ot],No=[Nt,xt,Ot],So=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e||Kt(e)?wo:No},xo=Te.t("forms.message_label","If the message response..."),Oo=(Te.t("forms.expression_label","If the expression..."),Te.t("forms.split_by_groups","Select the groups you'd like to split by below"));Te.t("forms.localize_rules","Sometimes languages need special rules to route things properly. If a translation is not provided, the original rule will be used.");!function(e){e.All_Responses="All Responses",e.No_Response="No Response",e.Any_Value="Any Value",e.Other="Other"}(io||(io={}));var jo=function(e,t,a,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i={node:{uuid:e,actions:o,router:t,exits:a},ui:{type:n,position:null,config:s},inboundConnections:{}};return i},To=function(e){return!!(e.router&&e.router.cases&&e.router.cases.length)},Ao=function(e,t){var a=function(e){return e.node.router?e.node.router.categories:[]}(t);return JSON.parse(JSON.stringify(e)).map((function(e){var n=a.find((function(t){return t.uuid===e.category_uuid}));if(Ro(e.type)&&t.ui.config&&t.ui.config.cases){var o=t.ui.config.cases[e.uuid];o&&o.arguments&&(e.arguments=o.arguments)}return{uuid:e.uuid,kase:e,categoryName:n?n.name:null,valid:!0}}))},Ro=function(e){return!![De.has_date_eq,De.has_date_gt,De.has_date_lt].find((function(t){return e===t}))},Uo=function(e,t){return e.name.toLowerCase().trim()===t.categoryName.trim().toLowerCase()},Do=function(e,t){var a,n=[],o=[],s=[],i={},r=t&&t.router,l=r&&r.categories||[],u=Object(N.a)(e);try{var c=function(){var e=a.value;if(!e.categoryName||0===e.categoryName.trim().length)return"continue";Ro(e.kase.type)&&(i[e.uuid]={arguments:e.kase.arguments},e.kase.arguments=["@(datetime_add(today(), ".concat(e.kase.arguments[0],', "D"))')]);var r=n.find((function(t){return Uo(t,e)}));if(!r){if(!(r=l.find((function(t){return Uo(t,e)})))){var u=Po(t);if(u){var c=u.cases.find((function(t){return t.uuid===e.uuid}));if(c){var d=l.find((function(e){return e.uuid===c.category_uuid}));d&&(r=Object(k.a)({},d,{name:e.categoryName}))}}}if(r&&n.find((function(e){return e.uuid===r.uuid}))&&(r=null),r){n.push(r);var p=t.exits.find((function(e){return r.exit_uuid===e.uuid}));s.push(p)}}if(!r){var m={uuid:te()};s.push(m),r={uuid:te(),name:e.categoryName,exit_uuid:m.uuid},n.push(r)}o.push(Object(k.a)({},e.kase,{category_uuid:r.uuid}))};for(u.s();!(a=u.n()).done;)c()}catch(d){u.e(d)}finally{u.f()}return{cases:o,categories:n,exits:s,caseConfig:i}},Po=function(e){return e&&e.router&&e.router.type===s.switch?e.router:null},zo=function(e,t){var a=Po(t);if(a){var n=a.categories.find((function(e){return e.uuid===a.default_category_uuid})),o=t.exits.find((function(e){return e.uuid===n.exit_uuid}));return n.name=e,{defaultCategory:n,defaultExit:o}}var s={uuid:te()};return{defaultCategory:{uuid:te(),name:e,exit_uuid:s.uuid},defaultExit:s}},Fo=function(e){var t=null,a=null,n=Po(e);if(n&&n.wait&&n.wait.timeout){var o=n.wait.timeout.category_uuid;t=n.categories.find((function(e){return e.uuid===o})),a=e.exits.find((function(e){return e.uuid===t.exit_uuid}))}return t||(a={uuid:te()},t={uuid:te(),name:io.No_Response,exit_uuid:a.uuid}),{timeoutCategory:t,timeoutExit:a}},Io=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=Do(e,a),s=n;s||(s=o.categories.length>0?io.Other:io.All_Responses);var i=zo(s,a),r=i.defaultCategory,l=i.defaultExit;o.categories.push(r),o.exits.push(l);var u=Object(k.a)({},o,{defaultCategory:r.uuid});if(t){var c=Fo(a),d=c.timeoutCategory,p=c.timeoutExit;o.categories.push(d),o.exits.push(p),u.timeoutCategory=d.uuid}return u},Lo=function(e,t,a){var n=[],o=[],i=[];if(t&&1===t.node.actions.length&&t.node.actions[0].type===e.type){var r=Po(t.node);t.node.exits.forEach((function(e){return n.push(e)})),r.cases.forEach((function(e){return o.push(e)})),t.node.router.categories.forEach((function(e){return i.push(e)}))}else n.push({uuid:te(),destination_uuid:null},{uuid:te(),destination_uuid:null}),i=[{uuid:te(),name:p.Success,exit_uuid:n[0].uuid},{uuid:te(),name:p.Failure,exit_uuid:n[1].uuid}],o=[{uuid:te(),type:a?De.has_category:De.has_only_text,arguments:[p.Success],category_uuid:i[0].uuid}];var l="@results."+q(e.result_name);a||(l+=".category");var u={type:s.switch,operand:l,cases:o,categories:i,default_category_uuid:i[i.length-1].uuid},c=Ue.split_by_webhook;return e.type===Ue.call_resthook?c=Ue.split_by_resthook:e.type===Ue.open_ticket?c=Ue.split_by_ticket:e.type===Ue.transfer_airtime&&(c=Ue.split_by_airtime),jo(t.node.uuid,u,n,c,[e])},Mo=function(e,t){var a=kr(e)===Ue.split_by_groups;return e.node.router?e.node.router.categories.filter((function(e){return e.exit_uuid===t.uuid})).map((function(e){return a?Object(k.a)({},e):Object(k.a)({},e,{missing:!1})})):[]},qo=function(e){var t=Po(e);if(t&&t.result_name)return t.result_name;if(e.router&&e.router.type===s.random)return e.router.result_name;if(1===e.actions.length){var a=e.actions[0];if(a.type===Ue.call_webhook||a.type===Ue.call_resthook||a.type===Ue.open_ticket||a.type===Ue.transfer_airtime)return a.result_name}},Vo=a(15),Bo=function(e){return Vo(e,Q({uuid:te()}))},Go=function(e,t,a){if(e&&t.results){var n=function(e,t,a){var n=q(e);if(n in t){var o=t[n].references.filter((function(e){return e.nodeUUID!==a.nodeUUID||e.actionUUID!==a.actionUUID}));return 0===o.length?Vo(t,{$unset:[n]}):Vo(t,Object(x.a)({},n,{references:{$set:o}}))}return t}(e,t.results.items,a);return Vo(t,{results:{items:{$set:n}}})}return t},Ho=function(e,t,a){var n=q(e),o=n in t?t[n]:{name:e,id:n,type:je.Result,references:[]};return o.references.find((function(e){return e.nodeUUID===a.nodeUUID&&e.actionUUID===a.actionUUID}))||o.references.push(a),Vo(t,{$merge:Object(x.a)({},n,o)})},Wo=function(e,t){return Vo(e,{revisions:{items:{$merge:Object(x.a)({},t.id,t)}}})},Ko=function(e,t,a,n){var o=e,s=ml(e,t);n&&ml(e,n);var i=hl(s.node,a),r=s.node.exits[i].destination_uuid;return o=Vo(o,Object(x.a)({},t,{node:{exits:Object(x.a)({},i,{destination_uuid:Z(n)})}})),n&&(o=Vo(o,Object(x.a)({},n,{inboundConnections:Q(Object(x.a)({},a,t))}))),null!=r&&(o=Vo(o,Object(x.a)({},r,{inboundConnections:J([[a]])}))),o},Yo=function(e,t){var a=e;a[t.node.uuid]&&(a=Zo(e,t.node.uuid)),a=Vo(e,Q(Object(x.a)({},t.node.uuid,t)));for(var n=0,o=Object.keys(t.inboundConnections);n<o.length;n++){var s=o[n],i=t.inboundConnections[s],r=ml(e,i),l=hl(r.node,s);a=Vo(a,Object(x.a)({},i,{node:{exits:Object(x.a)({},l,Q({destination_uuid:t.node.uuid}))}}))}return a},Xo=function(e,t,a){var n=e[t],o=function(e){if(e.router.type===s.switch){var t=e.router;return e.exits.find((function(e){return e.uuid===t.default_category_uuid}))}}(n.node),i=o?o.destination_uuid:null,r=Zo(e,n.node.uuid,!1),l={node:{uuid:te(),actions:[a],exits:[{uuid:te(),destination_uuid:i}]},ui:{position:n.ui.position,type:Ue.execute_actions},inboundConnections:n.inboundConnections};return r=Yo(r,l)},Zo=function(e,t){var a,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=ml(e,t),s=e,i=Object(N.a)(o.node.exits);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.destination_uuid&&(s=Vo(s,Object(x.a)({},r.destination_uuid,{inboundConnections:J([r.uuid])})))}}catch(_){i.e(_)}finally{i.f()}for(var l=0,u=Object.keys(o.inboundConnections);l<u.length;l++){var c=u[l],d=null;n&&1===o.node.exits.length&&(d=o.node.exits[0].destination_uuid);var p=o.inboundConnections[c],m=ml(e,p);if(d)try{vl(s,p,d)}catch(g){d=null}var h=hl(m.node,c);s=Vo(s,Object(x.a)({},p,{node:{exits:Object(x.a)({},h,{destination_uuid:Z(d)})}})),d&&(ml(e,d),s=Vo(s,Object(x.a)({},d,{inboundConnections:Q(Object(x.a)({},c,p))})))}return Vo(s,J([t]))},Qo=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=a.left,s=a.top,i={left:o,top:s};return n&&(i=L(o,s)),Vo(e,Object(x.a)({},t,{ui:{position:Z({left:i.left,top:i.top})}}))},Jo=function(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e._ui.stickies||(e._ui.stickies={});var o=e._ui.stickies[t].position,s=o.right-o.left,i=o.bottom-o.top,r=a.left,l=a.top,u={left:r,top:l};return n&&(u=L(r,l)),Vo(e,{_ui:{stickies:Object(x.a)({},t,{position:Z({left:u.left,top:u.top,right:u.left+s,bottom:u.top+i})})}})},$o=function(e,t,a){return e._ui.stickies||(e._ui.stickies={}),Vo(e,a?{_ui:{stickies:Q(Object(x.a)({},t,a))}}:{_ui:{stickies:J([t])}})},es=a(145),ts=a.n(es),as={name:Te.t("contact_statuses.active","Active"),value:Re.ACTIVE},ns={name:Te.t("contact_statuses.blocked","Blocked - remove from groups, ignore forever"),value:Re.BLOCKED},os={name:Te.t("contact_statuses.stopped","Stopped - remove from groups, ignore until they message again"),value:Re.STOPPED},ss={name:Te.t("contact_statuses.archived","Archived - remove from groups, ignore forever"),value:Re.ARCHIVED},is=[as,ns,os,ss],rs=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=Cr(n.props.nodeSettings,n.props.assetStore),Object(E.react)(Object(f.a)(n),{include:[/^get/,/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};e.hasOwnProperty("type")&&(a.type=e.type),e.hasOwnProperty("name")&&(a.name={value:e.name}),e.hasOwnProperty("channel")&&(a.channel=ua(Te.t("forms.channel","Channel"),e.channel,[pa(t)])),e.hasOwnProperty("language")&&(a.language=ua(Te.t("forms.language","Language"),e.language,[pa(t)])),e.hasOwnProperty("status")&&(a.status={value:e.status}),e.hasOwnProperty("field")&&(a.field={value:e.field}),e.hasOwnProperty("fieldValue")&&(a.fieldValue={value:e.fieldValue,validationFailures:[]});var n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handlePropertyChange",value:function(e){var t=e[0];if(t){if(t.type===je.ContactProperty)switch(t.id){case l.Name:return this.handleUpdate({field:t,type:Ue.set_contact_name,name:""});case l.Language:return this.handleUpdate({field:t,type:Ue.set_contact_language});case l.Status:return this.handleUpdate({field:t,type:Ue.set_contact_status});case l.Channel:return this.handleUpdate({field:t,type:Ue.set_contact_channel})}return this.handleUpdate({type:Ue.set_contact_field,field:t,fieldValue:""})}}},{key:"handleChannelUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.handleUpdate({channel:e[0]},t)}},{key:"handleLanguageUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.handleUpdate({language:e[0]},t)}},{key:"handleStatusUpdate",value:function(e){return this.handleUpdate({status:e,fieldValue:""})}},{key:"handleFieldValueUpdate",value:function(e){return this.handleUpdate({fieldValue:e,name:""})}},{key:"handleNameUpdate",value:function(e){return this.handleUpdate({name:e,fieldValue:""})}},{key:"onUpdated",value:function(e,t){var a=t().flowContext.assetStore;this.state.field.value.type===je.Field&&e(Ge(function(e,t,a){var n=Cl(a);return Vo(t,Object(x.a)({},e,{items:{$merge:n}}))}("fields",a,[this.state.field.value])))}},{key:"handleFieldAdded",value:function(e){this.props.addAsset("fields",e),this.handlePropertyChange([e])}},{key:"handleSave",value:function(){var e=this.state.valid;this.state.type===Ue.set_contact_language&&(e=this.handleLanguageUpdate([this.state.language.value],!0)&&e),this.state.type===Ue.set_contact_channel&&(e=this.handleChannelUpdate([this.state.channel.value],!0)&&e),e&&(this.props.updateAction(wr(this.props.nodeSettings,this.state),this.onUpdated),this.props.onClose(!0))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"getValueWidget",value:function(){return this.state.type===Ue.set_contact_channel?C.createElement(Wt,{key:"select_channel",name:Te.t("forms.channel","Channel"),placeholder:Te.t("forms.select_channel","Select the channel to use for this contact"),assets:this.props.assetStore.channels,entry:this.state.channel,searchable:!0,valueClearable:!0,onChange:this.handleChannelUpdate}):this.state.type===Ue.set_contact_language?C.createElement(Wt,{key:"select_language",name:Te.t("forms.language","Language"),placeholder:Te.t("forms.select_language","Select the language to use for this contact"),assets:this.props.assetStore.languages,entry:this.state.language,valueClearable:!0,onChange:this.handleLanguageUpdate,shouldExclude:function(e){return"base"===e.iso}}):this.state.type===Ue.set_contact_status?C.createElement(Oa,{key:"contact_status_select",name:Te.t("forms.status","Status"),entry:this.state.status,onChange:this.handleStatusUpdate,options:is}):this.state.type===Ue.set_contact_name?C.createElement(Aa,{name:Te.t("forms.name","Name"),placeholder:Te.t("forms.enter_new_name","Enter a new name for the contact"),onChange:this.handleNameUpdate,entry:this.state.name,autocomplete:!0,focus:!0}):C.createElement(Aa,{name:Te.t("forms.field_value","Field Value"),placeholder:Te.t("forms.enter_field_value",{field:this.state.field.value.label}),onChange:this.handleFieldValueUpdate,entry:this.state.fieldValue,autocomplete:!0,focus:!0})}},{key:"handleCreateAssetFromInput",value:function(e){return{label:e,value_type:"text"}}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("p",null,Te.t("forms.select_what_to_update","Select what to update")),C.createElement(Wt,{name:Te.t("forms.contact_field","Contact Field"),assets:this.props.assetStore.fields,additionalOptions:So(this.context.config.flowType),entry:this.state.field,searchable:!0,sortFunction:Nr,onChange:this.handlePropertyChange,getName:xr,createPrefix:"Create Contact Field: ",createAssetFromInput:this.handleCreateAssetFromInput,onAssetCreated:this.handleFieldAdded}),C.createElement("div",{className:ts.a.value},this.getValueWidget()),_t(this.props))}}]),a}(C.Component);rs.contextTypes={config:jt};var ls=a(65),us=a.n(ls),cs=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),n=t.call(this,e),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleCurrencyChanged",value:function(e){this.props.onChange(this.props.index,{value:{amount:this.props.transfer.value.amount,code:e[0].id},validationFailures:this.props.transfer.validationFailures})}},{key:"handleAmountChanged",value:function(e){var t=[];isNaN(Number(e))&&t.push({message:"Invalid amount, please enter a number"}),this.props.onChange(this.props.index,{value:{amount:e,code:this.props.transfer.value.code},validationFailures:t})}},{key:"render",value:function(){var e=this,t="Transfer Amount",a="",n=null;if(this.props.transfer.value){var o=this.props.transfer.value;o.code&&(t="".concat(o.code," ").concat(t),n={id:o.code}),a=""+o.amount}var s=this.props.index>-1?C.createElement("div",{className:us.a.amount},C.createElement(Aa,{placeholder:t,name:Te.t("forms.value","value"),onChange:this.handleAmountChanged,entry:{value:a},style:Ca.medium})):null,i=this.props.index>-1?C.createElement("div",{className:us.a.remove,onClick:function(){e.props.onRemove(e.props.index)}},C.createElement("span",{className:"fe-x"})):null;return C.createElement(Lt,{name:Te.t("forms.currency","Currency"),entry:this.props.transfer,__className:us.a.form_element},C.createElement("div",{className:us.a.transfer},C.createElement("div",{className:us.a.currency},C.createElement(Wt,{style:Rt.small,name:Te.t("forms.currency","Currency"),shouldExclude:function(t){return e.props.exclude.filter((function(e){return e.value.code===t.id})).length>1},entry:{value:n},nameKey:"id",valueKey:"id",onChange:this.handleCurrencyChanged,assets:this.props.currencies,placeholder:Te.t("forms.currency","Select a Currency")})),s," ",i))}}]),a}(C.Component),ds=a(101),ps=a.n(ds),ms=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),n=t.call(this,e),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n.state={editing:n.props.value.value.trim().length>0,valid:!0},n}return Object(v.a)(a,[{key:"handleTextChanged",value:function(e){this.props.onChange(e)}},{key:"handleEditingChanged",value:function(){this.setState({editing:!0})}},{key:"render",value:function(){var e;return e=this.state.editing?C.createElement(Aa,{"data-testid":"optional-field","data-spec":"optional-field",name:this.props.name,showLabel:!0,entry:this.props.value,onChange:this.handleTextChanged,helpText:this.props.helpText,maxLength:this.props.maxLength}):C.createElement("span",{"data-testid":"toggle-link","data-spec":"toggle-link",className:ps.a.toggle_link,onClick:this.handleEditingChanged},this.props.toggleText),C.createElement("div",{className:ps.a.optional_text_input},e)}}]),a}(C.Component),hs=function(e,t){var a=!Et(e)&&e.value?"."+q(e.value):"";return C.createElement(ms,{name:Te.t("forms.save_result_name","Result Name"),maxLength:64,value:e,onChange:t,toggleText:Te.t("forms.save_as_title","Save as.."),helpText:C.createElement(ke.a,{i18nKey:"forms.result_name_help",values:{resultFormat:"@results".concat(a)}},"By naming the result, you can reference it later using [[resultFormat]]")})},_s=a(102),gs=a.n(_s),vs=function(e){var t=e.validationFailures.map((function(e,t){return C.createElement("div",{key:"validation_"+t,className:gs.a.error},e.message)}));return C.createElement("div",{className:gs.a.errors},t)},fs=a(146),ys=a.n(fs),bs=function(e){var t=e.originalAction||e.originalNode.node.actions.length>0&&e.originalNode.node.actions[0];if(t.type===Ue.transfer_airtime)return t},ks=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t=bs(e),a={value:"Result"},n=!1,o=[];return t&&t.type===Ue.transfer_airtime&&(Object.keys(t.amounts).forEach((function(e){o.push({value:{code:e,amount:""+t.amounts[e]}})})),a={value:t.result_name},n=!0),{valid:n,amounts:o,resultName:a}}(e.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleSave",value:function(){var e=[];this.state.amounts.forEach((function(t,a){0===t.value.amount.trim().length&&e.push(a)}));var t=!this.state.amounts.find((function(e){return(e.validationFailures||[]).length>0}));t&&((t=void 0!==this.state.amounts.find((function(e){return e.value.amount.trim().length>0})))||this.setState({valid:!1,validationFailures:[{message:"At least one amount to transfer is required"}]})),t&&(this.props.updateRouter(function(e,t){var a=te(),n=bs(e);n&&(a=n.uuid);var o={};t.amounts.forEach((function(e){e.value.amount.trim().length>0&&(o[e.value.code]=Number(e.value.amount))}));var s={uuid:a,type:Ue.transfer_airtime,amounts:o,result_name:t.resultName.value};return Lo(s,e.originalNode,!0)}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"handleUpdateResultName",value:function(e){var t=ua(Te.t("forms.result_name","Result Name"),e,[ca,ya,ga]);this.setState({resultName:t,valid:this.state.valid&&!Et(t)})}},{key:"getButtons",value:function(){var e=this;return{primary:{name:"Ok",onClick:this.handleSave},secondary:{name:"Cancel",onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleRemoved",value:function(e){var t=ea()(this.state.amounts,{$splice:[[e,1]]});this.setState({amounts:t})}},{key:"handleTransferChanged",value:function(e,t){var a=this.state.amounts;a=e>-1?ea()(this.state.amounts,{$merge:Object(x.a)({},e,t)}):ea()(this.state.amounts,{$push:[t]}),this.setState({amounts:a,validationFailures:[]})}},{key:"renderAmount",value:function(e,t){return C.createElement(cs,{key:"currency_"+e,exclude:this.state.amounts,currencies:this.props.assetStore.currencies,transfer:t,index:e,onChange:this.handleTransferChanged,onRemove:this.handleRemoved})}},{key:"renderAmounts",value:function(){var e=this,t=this.state.amounts.map((function(t,a){return e.renderAmount(a,t)}));return C.createElement("div",null,t,this.renderAmount(-1,{value:{code:null,amount:""}}))}},{key:"render",value:function(){var e=this.props.typeConfig,t=this.state.validationFailures?C.createElement(vs,{validationFailures:this.state.validationFailures}):null;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),this.renderAmounts(),t,C.createElement("div",{className:ys.a.result_name},hs(this.state.resultName,this.handleUpdateResultName)),_t(this.props))}}]),a}(C.PureComponent),Es=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t="",a={value:""};if(e.originalNode&&kr(e.originalNode)===Ue.wait_for_dial){var n=e.originalNode.node.router;n&&(t=n.wait.phone,a={value:n.result_name||""})}return{phone:{value:t},resultName:a,valid:!0}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handlePhoneUpdated",value:function(e){var t=ua(Te.t("forms.phone_number","Phone Number"),e,[ca]);this.setState({phone:t,valid:this.state.valid&&!Et(t)})}},{key:"handleUpdateResultName",value:function(e){var t=ua(Te.t("forms.result_name","Result Name"),e,[ya,ga]);this.setState({resultName:t,valid:this.state.valid&&!Et(t)})}},{key:"handleSave",value:function(){this.state.valid&&(this.props.updateRouter(function(e,t){var a=[],n=[],o=[],r=e.originalNode?Po(e.originalNode.node):null;r&&r.wait&&r.wait.type===i.dial?(r.cases.forEach((function(e){return n.push(e)})),r.categories.forEach((function(e){return a.push(e)})),e.originalNode.node.exits.forEach((function(e){return o.push(e)}))):(o=[{uuid:te(),destination_uuid:null},{uuid:te(),destination_uuid:null},{uuid:te(),destination_uuid:null},{uuid:te(),destination_uuid:null}],a=[{uuid:te(),name:h.Answered,exit_uuid:o[0].uuid},{uuid:te(),name:h.NoAnswer,exit_uuid:o[1].uuid},{uuid:te(),name:h.Busy,exit_uuid:o[2].uuid},{uuid:te(),name:h.Failure,exit_uuid:o[3].uuid}],n=[{uuid:te(),type:De.has_only_text,arguments:[_.answered],category_uuid:a[0].uuid},{uuid:te(),type:De.has_only_text,arguments:[_.noAnswer],category_uuid:a[1].uuid},{uuid:te(),type:De.has_only_text,arguments:[_.busy],category_uuid:a[2].uuid}]);var l={};t.resultName.value&&(l.result_name=t.resultName.value);var u={type:i.dial,phone:t.phone.value},c=Object(k.a)({type:s.switch,wait:u,default_category_uuid:a[a.length-1].uuid,categories:a,cases:n,operand:'@(default(resume.dial.status, ""))'},l);return jo(e.originalNode.node.uuid,c,o,Ue.wait_for_dial,[])}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"renderEdit",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("p",null,"Enter the phone number to dial"),C.createElement(Aa,{name:"phone",placeholder:Te.t("forms.phone_number","Phone Number"),showLabel:!1,autocomplete:!0,onChange:this.handlePhoneUpdated,entry:this.state.phone}),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component),Cs=a(147),ws=a.n(Cs),Ns=[{type:De.has_top_intent,verboseName:Te.t("operators.has_top_intent","has top intent"),operands:2,visibility:et},{type:De.has_intent,verboseName:Te.t("operators.has_intent","has intent"),operands:2,visibility:et}],Ss=[{type:De.has_any_word,verboseName:Te.t("operators.has_any_word","has any of the words"),operands:1},{type:De.has_all_words,verboseName:Te.t("operators.has_all_words","has all of the words"),operands:1},{type:De.has_phrase,verboseName:Te.t("operators.has_phrase","has the phrase"),operands:1},{type:De.has_only_phrase,verboseName:Te.t("operators.has_only_phrase","has only the phrase"),operands:1},{type:De.has_beginning,verboseName:Te.t("operators.has_beginning","starts with"),operands:1},{type:De.has_text,verboseName:Te.t("operators.has_text","has some text"),operands:0,categoryName:"Has Text"},{type:De.has_number,verboseName:Te.t("operators.has_number","has a number"),operands:0,categoryName:"Has Number"},{type:De.has_number_between,verboseName:Te.t("operators.has_number_between","has a number between"),operands:2},{type:De.has_number_lt,verboseName:Te.t("operators.has_number_lt","has a number below"),operands:1},{type:De.has_number_lte,verboseName:Te.t("operators.has_number_lte","has a number at or below"),operands:1},{type:De.has_number_eq,verboseName:Te.t("operators.has_number_eq","has a number equal to"),operands:1},{type:De.has_number_gte,verboseName:Te.t("operators.has_number_gte","has a number at or above"),operands:1},{type:De.has_number_gt,verboseName:Te.t("operators.has_number_gt","has a number above"),operands:1},{type:De.has_date,verboseName:Te.t("operators.has_date","has a date"),operands:0,categoryName:Te.t("operators.has_date_category","Has Date")},{type:De.has_date_lt,verboseName:Te.t("operators.has_date_lt","has a date before"),operands:1},{type:De.has_date_eq,verboseName:Te.t("operators.has_date_eq","has a date equal to"),operands:1},{type:De.has_date_gt,verboseName:Te.t("operators.has_date_gt","has a date after"),operands:1},{type:De.has_time,verboseName:Te.t("operators.has_time","has a time"),operands:0,categoryName:"Has Time"},{type:De.has_group,verboseName:Te.t("operators.has_group","is in the group"),operands:1,visibility:nt},{type:De.has_category,verboseName:Te.t("operators.has_category","has the category"),operands:0,visibility:nt},{type:De.has_phone,verboseName:Te.t("operators.has_phone","has a phone number"),operands:0,categoryName:Te.t("operators.has_phone_category","Has Phone")},{type:De.has_email,verboseName:Te.t("operators.has_email","has an email"),operands:0,categoryName:Te.t("operators.has_email_category","Has Email")},{type:De.has_state,verboseName:Te.t("operators.has_state","has state"),operands:0,categoryName:Te.t("operators.has_state_category","Has State"),filter:Pe.HAS_LOCATIONS},{type:De.has_district,verboseName:Te.t("operators.has_district","has district"),operands:1,categoryName:Te.t("operators.has_district_category","Has District"),filter:Pe.HAS_LOCATIONS},{type:De.has_ward,verboseName:Te.t("operators.has_ward","has ward"),operands:2,categoryName:Te.t("operators.has_ward_category","Has Ward"),filter:Pe.HAS_LOCATIONS},{type:De.has_error,verboseName:Te.t("operators.has_error","has an error"),operands:0,categoryName:Te.t("operators.has_error_category","Has Error"),visibility:nt},{type:De.has_value,verboseName:Te.t("operators.has_value","is not empty"),operands:0,categoryName:Te.t("operators.has_value_category","Not Empty"),visibility:nt},{type:De.has_pattern,verboseName:Te.t("operators.has_pattern","matches regex"),operands:1}],xs=[].concat(Ss,Ns).reduce((function(e,t){return e[t.type]=t,e}),{}),Os=function(e){return xs[e]},js=a(37),Ts=a.n(js),As=function(e){var t="";return e.indexOf("_lt")>-1?t=e.indexOf("date")>-1?"Before ":e.indexOf("lte")>-1?"<= ":"< ":e.indexOf("_gt")>-1&&(t=e.indexOf("date")>-1?"After ":e.indexOf("gte")>-1?">= ":">"),t},Rs=function(e){var t,a,n,o=e.exitEdited&&e.exitName?[ca]:[],s={operatorConfig:e.operatorConfig,district:{value:"",validationFailures:[]},state:{value:"",validationFailures:[]},min:{value:"",validationFailures:[]},max:{value:"",validationFailures:[]},argument:{value:"",validationFailures:[]},intent:{value:null,validationFailures:[]},confidence:{value:"",validationFailures:[]}};if(e.operatorConfig.operands>0){switch(e.operatorConfig.type){case De.has_number_eq:case De.has_number_gt:case De.has_number_gte:case De.has_number_lt:case De.has_number_lte:o.push(ba);break;case De.has_date_eq:case De.has_date_lt:case De.has_date_gt:o.push(fa)}if(e.operatorConfig.type===De.has_number_between){var i=e.max||"",r=e.min||"",l=i.indexOf("@")>-1,u=r.indexOf("@")>-1,c=l||u,d=[fa];s.min=ua(Te.t("forms.minimum_value","Minimum value"),r,o.concat(u?[]:d).concat(c?[]:[(a=parseFloat(e.max),n=Te.t("forms.the_maximum","the maximum"),function(e,t){return"string"===typeof t&&parseFloat(t)>=a?{value:t,failures:[{message:"".concat(e," ").concat(Te.t("forms.must_be_less_than","must be less than")," ").concat(n)}]}:{failures:[],value:t}})])),s.max=ua(Te.t("forms.maximum_value","Maximum value"),i,o.concat(l?[]:d).concat(c?[]:[da(parseFloat(e.min),Te.t("forms.the_minimum","the minimum"))]))}else if(e.operatorConfig.type===De.has_district)s.argument=ua(Te.t("forms.state","State"),e.argument||"",o.concat([]));else if(e.operatorConfig.type===De.has_ward)s.state=ua(Te.t("forms.state","State"),e.state||"",o.concat([])),s.district=ua(Te.t("forms.district","District"),e.district||"",o.concat([]));else if(e.operatorConfig.type===De.has_top_intent||e.operatorConfig.type===De.has_intent){var p=[(t=e.classifier,function(e,a){if("object"===typeof a){var n=a;return n&&t&&t.content&&!t.content.intents.find((function(e){return e===n.value}))?{value:a,failures:[{message:"".concat(n.value," is not a valid intent for ").concat(t.name)}]}:{failures:[],value:a}}return{failures:[],value:a}})];e.confidence&&p.push(ca),s.intent=ua(Te.t("forms.intent","Intent"),e.intent,p),s.confidence=ua(Te.t("forms.confidence","Confidence"),e.confidence||"",o.concat(e.intent?[fa,ca]:[fa]))}else s.argument=ua("Value",e.argument||"",o)}return s.categoryNameEdited=!!e.exitEdited,s.categoryName=ua(Te.t("forms.category","Category"),s.categoryNameEdited?e.exitName:Us(s),s.argument.value||s.min.value&&s.max.value||s.state.value&&s.district.value?[ca]:[]),s.valid=0===s.state.validationFailures.length&&0===s.district.validationFailures.length&&0===s.min.validationFailures.length&&0===s.max.validationFailures.length&&0===s.argument.validationFailures.length&&0===s.intent.validationFailures.length&&0===s.confidence.validationFailures.length&&0===s.categoryName.validationFailures.length,s},Us=function(e){if(e.categoryNameEdited)return e.categoryName.value;if(0===e.operatorConfig.operands)return e.operatorConfig.categoryName;if((e.operatorConfig.type===De.has_intent||e.operatorConfig.type===De.has_top_intent)&&e.intent.value)return V(e.intent.value.name.replace("_"," "));if(e.operatorConfig.type===De.has_number_between&&e.min.value&&e.max.value)return"".concat(e.min.value," - ").concat(e.max.value);if(Ro(e.operatorConfig.type)){var t=parseInt(e.argument.value,10);if(!isNaN(t)){var a=e.operatorConfig.type===De.has_date_eq?Te.t("forms.today_proper","Today"):Te.t("forms.today","today"),n=t<0?" - ":" + ",o=" "+(1===Math.abs(t)?Te.t("forms.day","day"):Te.t("forms.days","days"));return As(e.operatorConfig.type)+a+n+Math.abs(t)+o}}if(e.argument&&e.argument.value){var s=As(e.operatorConfig.type),i=e.argument.value.match(/\w+/g);if(i&&i.length>0){var r=Object(S.a)(i,1)[0];return s+V(r)}return s+V(e.argument.value)}return""},Ds=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).operators=void 0,Object(E.react)(Object(f.a)(n),{include:[/^handle/,/^get/]}),n.state=function(e){var t=e.kase.arguments&&e.kase.arguments.length>=1?e.kase.arguments[0]:"",a=e.kase.arguments&&2===e.kase.arguments.length?e.kase.arguments[1]:"";return{errors:[],operatorConfig:Os(e.kase.type),argument:{value:t},min:{value:t},max:{value:a},state:{value:t},district:{value:a},intent:{value:t?{name:t,value:t}:null},confidence:{value:a},categoryName:{value:e.categoryName||""},categoryNameEdited:!!e.categoryName,valid:!0}}(e),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Rs({operatorConfig:this.state.operatorConfig,argument:this.state.argument.value,min:this.state.min.value,max:this.state.max.value,intent:this.state.intent.value,confidence:this.state.confidence.value,exitName:this.state.categoryName.value,exitEdited:this.state.categoryNameEdited,classifier:this.props.classifier});this.setState(e,this.handleChange)}},{key:"componentDidUpdate",value:function(e){if(this.props.classifier&&this.props.classifier!==e.classifier&&this.state.intent.value){var t=Rs({operatorConfig:this.state.operatorConfig,argument:this.state.argument.value,min:this.state.min.value,max:this.state.max.value,intent:this.state.intent.value,confidence:this.state.confidence.value,exitName:this.state.categoryName.value,exitEdited:this.state.categoryNameEdited,classifier:this.props.classifier});this.setState(t,this.handleChange)}}},{key:"getOperators",value:function(){var e=this.props.operators||Ss;return void 0===this.operators&&(this.operators=function(e,t){return Yt(e,t)}(e,this.context.config)),this.operators}},{key:"getArgumentArray",value:function(){return 0===this.state.operatorConfig.operands?[]:this.state.operatorConfig.type===De.has_intent||this.state.operatorConfig.type===De.has_top_intent?this.state.intent.value?[this.state.intent.value.value,this.state.confidence.value]:["",this.state.confidence.value]:this.state.operatorConfig.type===De.has_number_between?[this.state.min.value,this.state.max.value]:this.state.operatorConfig.type===De.has_ward?[this.state.state.value,this.state.district.value]:[this.state.argument.value]}},{key:"handleOperatorChanged",value:function(e){var t=this,a=Rs({operatorConfig:e,argument:this.state.argument.value,min:this.state.min.value,max:this.state.max.value,intent:this.state.intent.value,confidence:this.state.confidence.value,exitName:this.state.categoryName.value,exitEdited:this.state.categoryNameEdited,classifier:this.props.classifier});this.setState(a,(function(){return t.handleChange()}))}},{key:"handleArgumentChanged",value:function(e){var t=this,a=Rs({operatorConfig:this.state.operatorConfig,argument:e,exitName:this.state.categoryName.value,exitEdited:this.state.categoryNameEdited});this.setState(a,(function(){return t.handleChange()}))}},{key:"handleDistrictChanged",value:function(e){var t=this,a=Rs({operatorConfig:this.state.operatorConfig,argument:this.state.argument.value,state:this.state.state.value,district:e,exitName:this.state.categoryName.value,exitEdited:this.state.categoryNameEdited});this.setState(a,(function(){return t.handleChange()}))}},{key:"handleStateChanged",value:function(e){var t=this,a=Rs({operatorConfig:this.state.operatorConfig,argument:this.state.argument.value,district:this.state.district.value,state:e,exitName:this.state.categoryName.value,exitEdited:this.state.categoryNameEdited});this.setState(a,(function(){return t.handleChange()}))}},{key:"handleIntentChanged",value:function(e){var t=this,a=Rs({operatorConfig:this.state.operatorConfig,intent:e,confidence:this.state.confidence.value||".9",exitName:this.state.categoryName.value,exitEdited:this.state.categoryNameEdited,classifier:this.props.classifier});this.setState(a,(function(){return t.handleChange()}))}},{key:"handleConfidenceChanged",value:function(e){var t=this,a=Rs({operatorConfig:this.state.operatorConfig,intent:this.state.intent.value,confidence:e,exitName:this.state.categoryName.value,exitEdited:this.state.categoryNameEdited,classifier:this.props.classifier});this.setState(a,(function(){return t.handleChange()}))}},{key:"handleMinChanged",value:function(e){var t=this,a=Rs({operatorConfig:this.state.operatorConfig,min:e,max:this.state.max.value,exitName:this.state.categoryName.value,exitEdited:this.state.categoryNameEdited});this.setState(a,(function(){return t.handleChange()}))}},{key:"handleMaxChanged",value:function(e){var t=this,a=Rs({operatorConfig:this.state.operatorConfig,min:this.state.min.value,max:e,exitName:this.state.categoryName.value,exitEdited:this.state.categoryNameEdited});this.setState(a,(function(){return t.handleChange()}))}},{key:"handleExitChanged",value:function(e){var t=this,a=Rs({operatorConfig:this.state.operatorConfig,state:this.state.state.value,district:this.state.district.value,argument:this.state.argument.value,min:this.state.min.value,max:this.state.max.value,intent:this.state.intent.value,confidence:this.state.confidence.value,classifier:this.props.classifier,exitName:e,exitEdited:!0});this.setState(a,(function(){return t.handleChange()}))}},{key:"handleRemoveClicked",value:function(){this.props.onRemove(this.props.kase.uuid)}},{key:"getCaseProps",value:function(){return{uuid:this.props.kase.uuid,categoryName:this.state.categoryName.value,kase:{arguments:this.getArgumentArray(),type:this.state.operatorConfig.type,uuid:this.props.kase.uuid,category_uuid:this.state.categoryNameEdited?null:this.props.kase.category_uuid},valid:this.state.valid}}},{key:"handleChange",value:function(){this.state.categoryName.value||(this.state.operatorConfig.type===De.has_number_between?!this.state.min.value&&this.state.max.value:this.state.argument.value),this.props.onChange(this.getCaseProps())}},{key:"handleIntentMenuOpened",value:function(){this.setState({intent:{value:this.state.intent.value}})}},{key:"handleIntentMenuClosed",value:function(){var e=this;window.setTimeout((function(){e.handleIntentChanged(e.state.intent.value)}),0)}},{key:"renderArguments",value:function(){if(this.state.operatorConfig.operands>0){if(this.state.operatorConfig.operands>1){if(this.state.operatorConfig.type===De.has_number_between)return C.createElement(C.Fragment,null,C.createElement(Aa,{name:Te.t("forms.arguments","arguments"),style:Ca.small,onChange:this.handleMinChanged,entry:this.state.min,autocomplete:!0}),C.createElement("span",{className:Ts.a.divider,"data-draggable":!0},Te.t("forms.and","and")),C.createElement(Aa,{name:Te.t("forms.arguments","arguments"),style:Ca.small,onChange:this.handleMaxChanged,entry:this.state.max,autocomplete:!0}));if(this.state.operatorConfig.type===De.has_intent||this.state.operatorConfig.type===De.has_top_intent){var e=[];return this.props.classifier&&this.props.classifier.intents&&(e=this.props.classifier.intents.map((function(e){return{name:e,value:e}}))),C.createElement(C.Fragment,null,C.createElement("div",{style:{width:"114px"}},C.createElement(Oa,{key:"intent_select",style:Rt.small,name:Te.t("forms.intent","Intent"),placeholder:Te.t("forms.select_intent","Select intent"),entry:this.state.intent,onChange:this.handleIntentChanged,options:e,onMenuOpen:this.handleIntentMenuOpened,onMenuClose:this.handleIntentMenuClosed,hideError:!0})),C.createElement("div",{className:Ts.a.divider,"data-draggable":!0},"above"),C.createElement("div",{style:{width:"34px"}},C.createElement(Aa,{name:Te.t("forms.confidence","confidence"),onChange:this.handleConfidenceChanged,entry:this.state.confidence,style:Ca.small,placeholder:".9"})))}return C.createElement(C.Fragment,null,C.createElement(Aa,{name:Te.t("forms.state","State"),placeholder:"State",onChange:this.handleStateChanged,style:Ca.small,entry:this.state.state}),C.createElement("span",{className:Ts.a.divider,"data-draggable":!0},"and"),C.createElement(Aa,{name:Te.t("forms.district","District"),placeholder:Te.t("forms.district","District"),onChange:this.handleDistrictChanged,style:Ca.small,entry:this.state.district}))}return Ro(this.state.operatorConfig.type)?C.createElement(C.Fragment,null,C.createElement("span",{className:Ts.a.divider,"data-draggable":!0},"today +"," "),C.createElement(Aa,{__className:Ts.a.relative_date,name:Te.t("forms.arguments","arguments"),onChange:this.handleArgumentChanged,entry:this.state.argument,style:Ca.small,autocomplete:!1}),C.createElement("span",{className:Ts.a.divider},"days")):C.createElement(Aa,{"data-test-id":"case-arguments",name:Te.t("forms.arguments","arguments"),onChange:this.handleArgumentChanged,entry:this.state.argument,style:Ca.small,placeholder:this.state.operatorConfig.type===De.has_district?"State":"",autocomplete:!0})}return null}},{key:"render",value:function(){return C.createElement(Lt,{"data-spec":"case-form",name:this.props.name,__className:Ts.a.group,kaseError:this.state.errors.length>0},C.createElement("div",{className:"".concat(Ts.a.kase," ").concat(Ts.a[this.state.operatorConfig.type]),"data-draggable":!0},C.createElement("span",{className:"fe-chevrons-expand ".concat(Ts.a.dnd_icon),"data-draggable":!0}),C.createElement("div",{className:Ts.a.choice},C.createElement(Gt,{name:Te.t("forms.operator","operator"),style:Rt.small,options:this.getOperators(),nameKey:"verboseName",valueKey:"type",onChange:this.handleOperatorChanged,value:this.state.operatorConfig})),C.createElement("div",{className:this.state.operatorConfig.operands>1?Ts.a.multi_operand:Ts.a.single_operand},this.renderArguments()),C.createElement("div",{className:Ts.a.categorize_as,"data-draggable":!0},Te.t("forms.categorize_as","categorize as")),C.createElement("div",{className:Ts.a.category},C.createElement(Aa,{name:Te.t("forms.exit_name","Exit Name"),style:Ca.small,onChange:this.handleExitChanged,entry:this.state.categoryName,maxLength:36,showInvalid:B(this.state.errors,[/category/])})),C.createElement("span",{"data-testid":"remove-case-"+this.props.kase.uuid,className:"fe-x ".concat(Ts.a.remove_icon),onClick:this.handleRemoveClicked})))}}]),a}(C.Component);Ds.contextTypes={config:jt};var Ps,zs=a(103),Fs=a(75),Is=a.n(Fs),Ls=Tt;!function(e){e.move="move",e.pointer="pointer"}(Ps||(Ps={}));var Ms=Object(zs.SortableElement)((function(e){var t=e.value,a=t.item;return C.createElement("div",{className:Is.a.kase+" case_list_case"},C.createElement(Ds,Object.assign({key:a.uuid},a,{onRemove:t.list.handleRemoveCase,onChange:t.list.handleUpdateCase,operators:t.list.props.operators,classifier:t.list.props.classifier})))})),qs=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(g.a)(this,a),(n=t.call(this,e)).sortableList=Object(zs.SortableContainer)((function(e){var t=e.items;return C.createElement("div",{className:Is.a.case_list},t.map((function(e,t){return C.createElement(Ms,{key:"item-".concat(t),index:t,value:{item:e,list:Object(f.a)(n)},disabled:t===n.state.currentCases.length-1,shouldCancelStart:function(e){return console.log(e),!0}})})))})),Object(E.react)(Object(f.a)(n),{include:[/^handle/]});var o=n.props.cases;return n.hasEmptyCase(o)||o.push(n.createEmptyCase()),n.state={currentCases:o,valid:!0},n}return Object(v.a)(a,[{key:"createEmptyCase",value:function(){var e=(this.props.operators||Ss)[0];if(this.state&&this.state.currentCases&&this.state.currentCases.length>0){var t=Os(this.state.currentCases[this.state.currentCases.length-1].kase.type);t.operands>0&&(e=t)}return function(e){var t=te();return{uuid:t,kase:{uuid:t,type:e.type,arguments:[""],category_uuid:null},categoryName:"",valid:!0}}(e)}},{key:"handleUpdate",value:function(e){var t=this,a={},n=!1;e.hasOwnProperty("caseProps")&&(a.currentCases=[e.caseProps],n=!0,e.caseProps.valid||(a.valid=!1));var o=[];e.hasOwnProperty("removeCase")&&(o=[{currentCases:[e.removeCase]}],n=!0),this.setState((function(e){var n=ta(e,a,o);return t.props.onCasesUpdated(n.currentCases),n}),(function(){n&&(t.hasEmptyCase(t.state.currentCases)||t.handleUpdate({caseProps:t.createEmptyCase()}))}))}},{key:"hasEmptyCase",value:function(e){return null!=e.find((function(e){return 0===e.categoryName.trim().length}))}},{key:"handleRemoveCase",value:function(e){return this.handleUpdate({removeCase:{uuid:e}})}},{key:"handleUpdateCase",value:function(e){this.handleUpdate({caseProps:e})}},{key:"handleSortEnd",value:function(e){var t=this,a=e.oldIndex,n=e.newIndex;this.setState((function(e){var o=e.currentCases;return{currentCases:ws()(o,a,n===t.state.currentCases.length-1?n-1:n)}}),(function(){t.props.onCasesUpdated(t.state.currentCases)}))}},{key:"render",value:function(){return C.createElement("div",{className:Is.a.case_list_container+" "+(this.state.currentCases.length>5?Is.a.scrolling:""),tabIndex:0},C.createElement(this.sortableList,{items:this.state.currentCases,onSortEnd:this.handleSortEnd,shouldCancelStart:function(e){return!(e.target instanceof HTMLElement)||!e.target.dataset.draggable}}))}}]),a}(C.Component);qs.contextTypes={config:jt};var Vs,Bs=a(148),Gs=a.n(Bs),Hs=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t=[],a={value:""};if(kr(e.originalNode)===Ue.wait_for_digits){var n=e.originalNode.node.router;n&&(To(e.originalNode.node)&&(t=Ao(n.cases,e.originalNode)),a={value:n.result_name||""})}return{cases:t,resultName:a,valid:!0}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"getOperators",value:function(){return Ss.filter((function(e){return e.type===De.has_beginning||0===e.type.indexOf("has_number")}))}},{key:"handleUpdateResultName",value:function(e){var t=ua(Te.t("forms.result_name","Result Name"),e,[ya,ga]);this.setState({resultName:t,valid:this.state.valid&&!Et(t)})}},{key:"handleCasesUpdated",value:function(e){this.setState({cases:e})}},{key:"handleSave",value:function(){this.state.valid&&(this.props.updateRouter(function(e,t){var a=Io(t.cases,!1,e.originalNode.node),n=a.cases,o=a.exits,l=a.categories,u=a.defaultCategory,c=a.caseConfig,d={};t.resultName.value&&(d.result_name=t.resultName.value);var p=Object(k.a)({type:s.switch,default_category_uuid:u,categories:l,cases:n,operand:"@input.text",wait:{type:i.msg,hint:{type:r.digits}}},d);return jo(e.originalNode.node.uuid,p,o,Ue.wait_for_response,[],{cases:c})}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"renderEdit",value:function(){var e=this.props.typeConfig,t=this.getOperators();return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("p",{className:Gs.a.lead_in},"If the keypad entry before the # symbol.."),C.createElement(qs,{"data-spec":"cases",cases:this.state.cases,onCasesUpdated:this.handleCasesUpdated,operators:t}),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component);!function(e){e.args="args",e.min="min",e.max="max",e.exit="exit"}(Vs||(Vs={}));var Ws,Ks=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t=[],a={value:""},n="@input.text";if(e.originalNode&&kr(e.originalNode)===Ue.split_by_expression){var o=e.originalNode.node.router;o&&(To(e.originalNode.node)&&(t=Ao(o.cases,e.originalNode)),a={value:o.result_name||""}),n=o.operand}return{cases:t,resultName:a,operand:{value:n},valid:!0}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdate",value:function(e){var t={};e.hasOwnProperty("operand")&&(t.operand=ua(Te.t("forms.operand","Operand"),e.operand,[ca])),e.hasOwnProperty("cases")&&(t.cases=e.cases),e.hasOwnProperty("resultName")&&(t.resultName=ua(Te.t("forms.result_name","Result Name"),e.resultName,[ya,ga]));var a=ta(this.state,t);return this.setState(a),a.valid}},{key:"handleUpdateResultName",value:function(e){this.handleUpdate({resultName:e})}},{key:"handleOperandUpdated",value:function(e){this.handleUpdate({operand:e})}},{key:"handleCasesUpdated",value:function(e){this.setState({cases:e})}},{key:"handleSave",value:function(){this.state.cases.find((function(e){return!e.valid}))||this.handleUpdate({resultName:this.state.resultName.value,operand:this.state.operand.value})&&(this.props.updateRouter(function(e,t){var a=Io(t.cases,!1,e.originalNode.node),n=a.cases,o=a.exits,i=a.defaultCategory,r=a.caseConfig,l=a.categories,u={};t.resultName.value&&(u.result_name=t.resultName.value);var c=Object(k.a)({type:s.switch,default_category_uuid:i,categories:l,cases:n,operand:t.operand.value},u);return jo(e.originalNode.node.uuid,c,o,Ue.split_by_expression,[],{cases:r})}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"renderEdit",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("p",null,"If the expression..."),C.createElement(Aa,{name:Te.t("forms.operand","Operand"),showLabel:!1,autocomplete:!0,onChange:this.handleOperandUpdated,entry:this.state.operand}),C.createElement(qs,{"data-spec":"cases",cases:this.state.cases,onCasesUpdated:this.handleCasesUpdated}),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component),Ys=a(104),Xs=a.n(Ys),Zs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return[].concat(Object(ve.a)(So(e)),Object(ve.a)(gr.map((function(e){return{name:e.path,id:e.scheme,type:je.Scheme}}))))};!function(e){e.args="args",e.min="min",e.max="max",e.exit="exit"}(Ws||(Ws={}));var Qs=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e,t){var a=[],n={value:""},o=null,s=kr(e.originalNode);if(e.originalNode&&s===Ue.split_by_contact_field){var i=e.originalNode.node.router;i&&(To(e.originalNode.node)&&(a=Ao(i.cases,e.originalNode)),n={value:i.result_name||""});var r=e.originalNode.ui.config.operand;if(t.fields&&r.id in t.fields.items){var l=t.fields.items[r.id].name;o={key:r.id,label:l,type:r.type}}o||(o=Zs().find((function(e){return e.id===r.id})))}return o||(o=Nt),{cases:a,resultName:n,field:{value:o},valid:!0}}(n.props.nodeSettings,n.props.assetStore),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdate",value:function(e){var t={};e.hasOwnProperty("field")&&(t.field=ua(Te.t("forms.field","Field"),e.field,[ca])),e.hasOwnProperty("cases")&&(t.cases=e.cases),e.hasOwnProperty("resultName")&&(t.resultName=ua(Te.t("forms.result_name","Result Name"),e.resultName,[ya,ga]));var a=ta(this.state,t);return this.setState(a),a.valid}},{key:"handleUpdateResultName",value:function(e){this.handleUpdate({resultName:e})}},{key:"handleFieldChanged",value:function(e){this.handleUpdate({field:e[0]})}},{key:"handleCasesUpdated",value:function(e){this.setState({cases:e})}},{key:"handleSave",value:function(){this.state.cases.find((function(e){return!e.valid}))||this.state.valid&&(this.props.updateRouter(function(e,t){var a=Io(t.cases,!1,e.originalNode.node),n=a.cases,o=a.exits,i=a.defaultCategory,r=a.caseConfig,l=a.categories,u={};t.resultName.value&&(u.result_name=t.resultName.value);var c="@input.text",d=t.field.value,p={id:d.id,type:d.type,name:d.name};d.type===je.Scheme?c="@(default(urn_parts(urns.".concat(d.id,').path, ""))'):d.type===je.ContactProperty?c="@contact.".concat(d.id):d.key&&(c="@fields.".concat(d.key),p={id:d.key,name:d.label,type:je.Field});var m=Object(k.a)({type:s.switch,default_category_uuid:i,cases:n,categories:l,operand:c},u);return jo(e.originalNode.node.uuid,m,o,Ue.split_by_contact_field,[],{operand:p,cases:r})}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"renderEdit",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("div",{className:Xs.a.lead_in},"If the contact's",C.createElement("div",{className:"".concat(Xs.a.field_select," select-small")},C.createElement(Wt,{name:Te.t("forms.contact_field","Contact Field"),style:Rt.small,assets:this.props.assetStore.fields,additionalOptions:Zs(this.context.config.flowType),valueKey:"id",getName:xr,entry:this.state.field,searchable:!0,sortFunction:Nr,onChange:this.handleFieldChanged}))),C.createElement(qs,{"data-spec":"cases",cases:this.state.cases,onCasesUpdated:this.handleCasesUpdated}),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component);Qs.contextTypes={assetService:jt,config:jt};var Js,$s=function(e){var t=[],a=Po(e);return a&&(t=a.cases.map((function(e){return{name:a.categories.find((function(t){return t.uuid===e.category_uuid})).name,uuid:e.arguments[0]}}))),t},ei=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.name,a=e.uuid;return{uuid:a,kase:{uuid:te(),type:De.has_group,arguments:[a,t],category_uuid:""},categoryName:t,valid:!0}}))},ti=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t={groups:{value:[]},resultName:{value:""},valid:!1};return kr(e.originalNode)===Ue.split_by_groups&&(t.groups.value=$s(e.originalNode.node),t.resultName={value:e.originalNode.node.router.result_name||""},t.valid=!0),t}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleGroupsChanged",value:function(e){this.handleUpdate({groups:e})}},{key:"handleUpdateResultName",value:function(e){this.handleUpdate({resultName:e})}},{key:"handleUpdate",value:function(e){var t={};e.hasOwnProperty("groups")&&(t.groups=ua(Te.t("forms.groups","Groups"),e.groups,[ca])),e.hasOwnProperty("resultName")&&(t.resultName=ua(Te.t("forms.result_name","Result Name"),e.resultName,[ya,ga]));var a=ta(this.state,t);return this.setState(a),a.valid}},{key:"handleSave",value:function(){this.state.valid&&(this.props.updateRouter(function(e,t){var a=ei(t.groups.value),n=Io(a,!1,e.originalNode.node),o=n.cases,i=n.exits,r=n.defaultCategory,l=n.caseConfig,u=n.categories,c={type:s.switch,cases:o,categories:u,default_category_uuid:r,operand:"@contact.groups",result_name:t.resultName.value};return jo(e.originalNode.node.uuid,c,i,Ue.split_by_groups,[],{cases:l})}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("p",null,Oo),C.createElement(Wt,{name:Te.t("forms.groups","Groups"),assets:this.props.assetStore.groups,entry:this.state.groups,searchable:!0,onChange:this.handleGroupsChanged,multi:!0}),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}}]),a}(C.Component);ti.contextTypes={endpoints:jt,assetService:jt},function(e){e[e.Category=0]="Category",e[e.Case=1]="Case"}(Js||(Js={}));var ai=function(e,t){return e.originalNode.node.router.cases.find((function(e){return e.uuid===t}))},ni=function(e,t){var a=[],n=e.originalNode.node.router.categories;t===Js.Case&&(n=function(e){var t=kr(e);return t===Ue.wait_for_response||t===Ue.split_by_expression}(e.originalNode)?e.originalNode.node.router.cases:[]);var o,s=Object(N.a)(n);try{var i=function(){var t=o.value,n=e.localizations.filter((function(e){return e.getObject().uuid===t.uuid})),s=Object(S.a)(n,1)[0];s.isLocalized()?a.push(s.getObject()):a.push({uuid:t.uuid})};for(s.s();!(o=s.n()).done;)i()}catch(r){s.e(r)}finally{s.f()}return a},oi=a(42),si=a.n(oi),ii=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(g.a)(this,a),n=t.call(this,e);var o=ni(e.nodeSettings,Js.Category),s=ni(e.nodeSettings,Js.Case);return n.state={categories:o,cases:s,valid:!0},Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdate",value:function(e){var t={};e.hasOwnProperty("category")&&(t.categories=[e.category]),e.hasOwnProperty("kase")&&(t.cases=[e.kase]);var a=ta(this.state,t);return this.setState(a),a.valid}},{key:"handleUpdateCategoryName",value:function(e,t){return e.name=t,this.handleUpdate({category:e})}},{key:"handleUpdateCaseArgument",value:function(e,t){return e.arguments=[t],this.handleUpdate({kase:e})}},{key:"handleSave",value:function(){var e=this.state.categories.map((function(e){return e.name?{uuid:e.uuid,translations:{name:e.name}}:{uuid:e.uuid}}));e.push.apply(e,Object(ve.a)(this.state.cases.map((function(e){return e.arguments?{uuid:e.uuid,translations:{arguments:e.arguments}}:{uuid:e.uuid}})))),this.props.updateLocalizations(this.props.language.id,e),this.props.onClose(!1)}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"renderCases",value:function(){var e=this;return this.state.cases.map((function(t){var a=ai(e.props.nodeSettings,t.uuid),n=Os(a.type).verboseName;if(a.arguments){var o=Object(S.a)(a.arguments,1)[0],s="";t.arguments&&t.arguments.length>0&&(s=t.arguments[0]);var i=Te.t("forms.translation","Translation");return C.createElement("div",{key:"translate_".concat(t.uuid),"data-spec":"operator-field",className:si.a.translating_operator_container},C.createElement("div",{"data-spec":"verbose-name",className:si.a.translating_operator},n),C.createElement("div",{"data-spec":"argument-to-translate",className:si.a.translating_from},o),C.createElement("div",{className:si.a.translating_to},C.createElement(Aa,{"data-spec":"localize-case",name:t.uuid,placeholder:"".concat(e.props.language.name," ").concat(i),showLabel:!1,onChange:function(a){return e.handleUpdateCaseArgument(t,a)},entry:{value:s}})))}return null}))}},{key:"renderCategories",value:function(){var e=this;return this.state.categories.map((function(t){var a,n,o=(a=e.props.nodeSettings,n=t.uuid,a.originalNode.node.router.categories.find((function(e){return e.uuid===n}))),s="".concat(e.props.language.name," Translation");return t.name||(t.name=""),C.createElement("div",{key:t.uuid,className:si.a.translating_category},C.createElement("div",{"data-spec":"category-name",className:si.a.translating_from},o.name),C.createElement("div",{className:si.a.translating_to},C.createElement(Aa,{"data-spec":"localize-category",name:t.name,placeholder:s,showLabel:!1,entry:{value:t.name},onChange:function(a){return e.handleUpdateCategoryName(t,a)}})))}))}},{key:"render",value:function(){var e=this,t=en(this.props.nodeSettings),a=[];return!!this.state.cases.find((function(t){var a=ai(e.props.nodeSettings,t.uuid);return a.arguments&&a.arguments.length>0}))&&a.push({name:"Rule Translations",body:C.createElement(C.Fragment,null,C.createElement("p",{"data-spec":"instructions"},"Sometimes languages need special rules to route things properly. If a translation is not provided, the original rule will be used."),C.createElement("div",{className:si.a.translating_list_container+" "+(this.state.cases.length>5?si.a.scrolling:""),tabIndex:0},C.createElement("div",{className:si.a.translating_item_list},this.renderCases())))}),C.createElement(ge,{title:"".concat(this.props.language.name," Category Names"),headerClass:t.type,buttons:this.getButtons(),tabs:a},C.createElement("p",{"data-spec":"instructions"},"When category names are referenced later in the flow, the appropriate language for the category will be used. If no translation is provided, the original text will be used."),C.createElement("div",{className:si.a.translating_list_container+" "+(this.state.categories.length>5?si.a.scrolling:""),tabIndex:0},C.createElement("div",{className:si.a.translating_item_list},this.renderCategories())),_t(this.props))}}]),a}(C.Component),ri=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e,a){var n=9===a?0:a+1,o=t.find((function(e){return e.arguments[0]===""+n}))||{uuid:te(),arguments:[""+n],type:De.has_number_eq,category_uuid:""};return{uuid:o.uuid,kase:o,categoryName:e,valid:!0}})).filter((function(e){return e.categoryName.trim().length>0}))},li=a(76),ui=a.n(li),ci=a(15),di=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){for(var t={value:""},a=[],n=0;n<10;n++)a.push("");if(kr(e.originalNode)===Ue.wait_for_menu){var o,s=e.originalNode.node.router,i=Object(N.a)(s.cases);try{var r=function(){var t=o.value,n=parseInt(t.arguments[0],10)-1;-1===n&&(n=a.length-1),a[n]=e.originalNode.node.router.categories.find((function(e){return e.uuid===t.category_uuid})).name};for(i.s();!(o=i.n()).done;)r()}catch(l){i.e(l)}finally{i.f()}t={value:s.result_name||""}}return{resultName:t,menu:a,valid:!0}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdateResultName",value:function(e){var t=ua(Te.t("forms.result_name","Result Name"),e,[ya,ga]);this.setState({resultName:t,valid:this.state.valid&&!Et(t)})}},{key:"handleSave",value:function(){this.props.updateRouter(function(e,t){var a={};t.resultName.value&&(a.result_name=t.resultName.value);var n=[];kr(e.originalNode)===Ue.wait_for_menu&&(n=e.originalNode.node.router.cases);var o=ri(t.menu,n),l=Io(o,!1,e.originalNode.node),u=l.cases,c=l.exits,d=l.defaultCategory,p=l.caseConfig,m=l.categories,h=Object(k.a)({type:s.switch,operand:"@input.text",default_category_uuid:d,cases:u,categories:m,wait:{type:i.msg,hint:{type:r.digits,count:1}}},a);return jo(e.originalNode.node.uuid,h,c,Ue.wait_for_response,[],{cases:p})}(this.props.nodeSettings,this.state)),this.props.onClose(!1)}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleMenuChanged",value:function(e,t){var a=ci(this.state.menu,Object(x.a)({},e,{$set:t}));this.setState({menu:a})}},{key:"renderOption",value:function(e){var t=this;return C.createElement("div",{key:"menuoption-"+e,className:ui.a.menu_option},C.createElement("div",{className:ui.a.digit},9===e?0:e+1),C.createElement("div",{className:ui.a.category},C.createElement(Aa,{name:"Menu "+e,entry:{value:this.state.menu[e]},onChange:function(a){t.handleMenuChanged(e,a)}})))}},{key:"renderMenu",value:function(){for(var e=[],t=0;t<10;t++)e.push(this.renderOption(t));return e}},{key:"renderEdit",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("div",{className:ui.a.menu},this.renderMenu()),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component);di.contextTypes={assetService:jt};var pi,mi=ae(2,11).map((function(e){return{value:e+"",name:e+" buckets"}})),hi=function(e){var t=mi.find((function(t){return t.value===e+""}));return t||(t={name:"".concat(e," Buckets"),value:e+""}),t},_i=function(e,t){return e.concat(ae(e.length,t).map((function(e){return{uuid:te(),name:"Bucket ".concat(e+1),exit_uuid:null}})))},gi=a(66),vi=a.n(gi);!function(e){e.args="args",e.min="min",e.max="max",e.exit="exit"}(pi||(pi={}));var fi=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t={value:""},a=2,n=[];e.originalNode&&kr(e.originalNode)===Ue.split_by_random&&(t={value:e.originalNode.node.router.result_name||""},a=e.originalNode.node.exits.length,n=e.originalNode.node.router.categories);return{categories:n=_i(n,a),resultName:t,bucketChoice:{value:hi(a)},valid:!0}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdateResultName",value:function(e){var t=ua(Te.t("forms.result_name","Result Name"),e,[ya,ga]);this.setState({resultName:t,valid:this.state.valid&&!Et(t)})}},{key:"handleBucketsChanged",value:function(e){var t=parseInt(e.value,10),a=this.state.categories.concat([]);a=a.slice(0,t),a=_i(a,t);var n={bucketChoice:{value:e}},o=ta(this.state,n);return this.setState(Object(k.a)({},o,{categories:a})),o.valid}},{key:"handleSave",value:function(){this.state.categories.find((function(e){return 0===e.name.trim().length}))||(this.props.updateRouter(function(e,t){var a={};t.resultName.value&&(a.result_name=t.resultName.value);var n=kr(e.originalNode)===Ue.split_by_random?e.originalNode.node.exits:[],o=parseInt(t.bucketChoice.value.value,10);n.splice(o,n.length-o),t.categories.forEach((function(e,t){if(t<n.length)e.exit_uuid=n[t].uuid;else{var a={uuid:te(),destination_uuid:null};e.exit_uuid=a.uuid,n.push(a)}}));var i=Object(k.a)({type:s.random,categories:t.categories},a);return jo(e.originalNode.node.uuid,i,n,Ue.split_by_random,[],null)}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleBucketNameChanged",value:function(e,t){var a=this.state.categories;a.find((function(t){return t.uuid===e.uuid})).name=t,this.setState({categories:a})}},{key:"renderBucketNames",value:function(){var e=this;return this.state.categories.map((function(t){return C.createElement(Aa,{key:t.uuid,__className:vi.a.bucket_name,name:t.uuid,entry:{value:t.name,validationFailures:0===t.name.trim().length?[{message:"Bucket name is required"}]:[]},onChange:function(a){e.handleBucketNameChanged(t,a)}})}))}},{key:"renderEdit",value:function(){var e=this.props.typeConfig,t=mi.concat([]);return-1===mi.indexOf(this.state.bucketChoice.value)&&t.push(this.state.bucketChoice.value),C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("div",{className:vi.a.options},C.createElement("div",{className:vi.a.lead_in},"Split them randomly into one of"),C.createElement("div",{className:vi.a.bucket_select},C.createElement(Oa,{key:"buckets_select",style:Rt.small,name:Te.t("forms.buckets","Buckets"),entry:this.state.bucketChoice,onChange:this.handleBucketsChanged,options:t}))),C.createElement("div",{className:vi.a.bucket_list},this.renderBucketNames()),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component);fi.contextTypes={assetService:jt};var yi,bi=a(77),ki=a.n(bi),Ei=[{value:"60",name:Te.t("forms.timeout_1 minute","1 minute")},{value:"120",name:Te.t("forms.timeout_2 minutes","2 minutes")},{value:"180",name:Te.t("forms.timeout_3 minutes","3 minutes")},{value:"240",name:Te.t("forms.timeout_4 minutes","4 minutes")},{value:"300",name:Te.t("forms.timeout_5 minutes","5 minutes")},{value:"600",name:Te.t("forms.timeout_10 minutes","10 minutes")},{value:"900",name:Te.t("forms.timeout_15 minutes","15 minutes")},{value:"3600",name:Te.t("forms.timeout_1 hour","1 hour")},{value:"7200",name:Te.t("forms.timeout_2 hours","2 hours")},{value:"10800",name:Te.t("forms.timeout_3 hours","3 hours")},{value:"21600",name:Te.t("forms.timeout_6 hours","6 hours")},{value:"43200",name:Te.t("forms.timeout_12 hours","12 hours")},{value:"64800",name:Te.t("forms.timeout_18 hours","18 hours")},{value:"86400",name:Te.t("forms.timeout_1 day","1 day")},{value:"172800",name:Te.t("forms.timeout_2 days","2 days")},{value:"259200",name:Te.t("forms.timeout_3 days","3 days")},{value:"604800",name:Te.t("forms.timeout_1 week","1 week")}],Ci=Ei[4],wi=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),n=t.call(this,e),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"getSelected",value:function(e){var t,a=Object(N.a)(Ei.entries());try{for(a.s();!(t=a.n()).done;){var n=Object(S.a)(t.value,2),o=n[0];if(n[1].value===""+e)return Ei[o]}}catch(s){a.e(s)}finally{a.f()}return null}},{key:"isChecked",value:function(){return this.props.timeout>0}},{key:"getInstructions",value:function(){var e=Te.t("forms.continue_when_no_response","Continue when there is no response");return this.isChecked()?"".concat(e," for"):"".concat(e,"...")}},{key:"handleChecked",value:function(){this.props.timeout>0?this.props.onChanged(0):this.props.onChanged(parseInt(Ci.value))}},{key:"handleTimeoutChanged",value:function(e){this.props.onChanged(parseInt(e.value))}},{key:"render",value:function(){return C.createElement("div",{className:ki.a.timeout_control_container},C.createElement("div",{className:ki.a.left_section},C.createElement(Ha,{name:Te.t("forms.timeout","Timeout"),checked:this.isChecked(),description:this.getInstructions(),checkboxClassName:ki.a.checkbox,onChange:this.handleChecked})),Y(this.isChecked())(C.createElement("div",{className:ki.a.drop_down},C.createElement(Gt,{name:Te.t("forms.timeout","Timeout"),style:Rt.small,value:this.getSelected(this.props.timeout),options:Ei,onChange:this.handleTimeoutChanged}))))}}]),a}(C.Component);!function(e){e.args="args",e.min="min",e.max="max",e.exit="exit"}(yi||(yi={}));var Ni=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t=[],a={value:"Result"},n=0;if(e.originalNode&&kr(e.originalNode)===Ue.wait_for_response){var o=e.originalNode.node.router;o&&(To(e.originalNode.node)&&(t=Ao(o.cases,e.originalNode)),a={value:o.result_name||""}),e.originalNode.node.router.wait&&e.originalNode.node.router.wait.timeout&&(n=e.originalNode.node.router.wait.timeout.seconds||0)}return{cases:t,resultName:a,timeout:n,valid:!0}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdateResultName",value:function(e){var t=ua(Te.t("forms.result_name","Result Name"),e,[ya,ga]),a=!!this.state.cases.find((function(e){return!e.valid}));this.setState({resultName:t,valid:!a&&!Et(t)})}},{key:"handleUpdateTimeout",value:function(e){this.setState({timeout:e})}},{key:"handleCasesUpdated",value:function(e){var t=e.find((function(e){return!e.valid})),a=Et(this.state.resultName);this.setState({cases:e,valid:!t&&!a})}},{key:"handleSave",value:function(){this.state.valid&&(this.props.updateRouter(function(e,t){var a=Io(t.cases,t.timeout>0,e.originalNode.node),n=a.cases,o=a.exits,r=a.defaultCategory,l=a.timeoutCategory,u=a.caseConfig,c=a.categories,d={};t.resultName.value&&(d.result_name=t.resultName.value);var p={type:i.msg};t.timeout>0&&(p.timeout={seconds:t.timeout,category_uuid:l});var m=Object(k.a)({type:s.switch,default_category_uuid:r,cases:n,categories:c,operand:"@input.text",wait:p},d);return jo(e.originalNode.node.uuid,m,o,Ue.wait_for_response,[],{cases:u})}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"renderEdit",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons(),gutter:C.createElement(wi,{timeout:this.state.timeout,onChanged:this.handleUpdateTimeout})},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("div",null,xo),C.createElement(qs,{"data-spec":"cases",cases:this.state.cases,onCasesUpdated:this.handleCasesUpdated}),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component),Si=function(e){var t=e.originalAction||e.originalNode.node.actions.length>0&&e.originalNode.node.actions[0];if(t.type===Ue.call_resthook)return t},xi=a(149),Oi=a.n(xi),ji=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).options=[],n.state=function(e){var t={value:null},a={value:"Result"},n=!1,o=Si(e);o&&o.type===Ue.call_resthook&&(t={value:{resthook:o.resthook}},a={value:o.result_name},n=!0);return{resthook:t,resultName:a,valid:n}}(e.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.assetStore.resthooks?this.props.assetStore.resthooks.items:{};this.options=Object.keys(e).map((function(t){return{name:e[t].name,value:t}}))}},{key:"handleUpdateResultName",value:function(e){var t=ua(Te.t("forms.result_name","Result Name"),e,[ca,ya,ga]);this.setState({resultName:t,valid:this.state.valid&&!Et(t)})}},{key:"handleResthookChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={resthook:ua(Te.t("forms.resthook","Resthook"),e[0],[pa(t)])},n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleSave",value:function(){this.handleResthookChanged([this.state.resthook.value],!0)&&(this.props.updateRouter(function(e,t){var a=te(),n=Si(e);n&&(a=n.uuid);var o={uuid:a,resthook:t.resthook.value.resthook,type:Ue.call_resthook,result_name:t.resultName.value};return Lo(o,e.originalNode,!1)}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:"Ok",onClick:this.handleSave},secondary:{name:"Cancel",onClick:function(){return e.props.onClose(!0)}}}}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement(Wt,{name:Te.t("forms.resthook","Resthook"),placeholder:Te.t("forms.resthook_to_call","Select the resthook to call"),assets:this.props.assetStore.resthooks,entry:this.state.resthook,searchable:!0,onChange:this.handleResthookChanged,nameKey:"resthook",valueKey:"resthook"}),C.createElement("div",{className:Oi.a.result_name},hs(this.state.resultName,this.handleUpdateResultName)),_t(this.props))}}]),a}(C.PureComponent),Ti=[{value:"0",name:"first"},{value:"1",name:"second"},{value:"2",name:"third"},{value:"3",name:"fourth"},{value:"4",name:"fifth"},{value:"5",name:"sixth"},{value:"6",name:"seventh"},{value:"7",name:"eighth"},{value:"8",name:"ninth"},{value:"9",name:"tenth"},{value:"10",name:"11th"},{value:"11",name:"12th"},{value:"12",name:"13th"},{value:"13",name:"14th"},{value:"14",name:"15th"},{value:"15",name:"16th"},{value:"16",name:"17th"},{value:"17",name:"18th"},{value:"18",name:"19th"},{value:"19",name:"20th"}],Ai=[{value:" ",name:"spaces"},{value:".",name:"periods"},{value:"+",name:"plusses"}],Ri=function(e){return Ai.find((function(t){return t.value===e}))},Ui=a(45),Di=a.n(Ui),Pi=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).options=[],n.state=function(e,t){var a=[],n={value:""},o=null,s=1,i=" ",r=!1,l=kr(e.originalNode);if(e.originalNode&&l===Ue.split_by_run_result||l===Ue.split_by_run_result_delimited){var u=e.originalNode.node.router;u&&(To(e.originalNode.node)&&(a=Ao(u.cases,e.originalNode)),n={value:u.result_name||""});var c=e.originalNode.ui.config;c&&c.operand&&(o=c.operand.id in t.results.items?t.results.items[c.operand.id]:null),l===Ue.split_by_run_result_delimited&&(s=c.index,i=c.delimiter,r=!0)}return{cases:a,resultName:n,result:{value:o},shouldDelimit:r,fieldNumber:s,delimiter:i,valid:!0}}(n.props.nodeSettings,n.props.assetStore),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.assetStore.results.items;this.options=Object.keys(e).map((function(t){return{name:e[t].name,value:t}}))}},{key:"handleUpdate",value:function(e){var t={};e.hasOwnProperty("cases")&&(t.cases=e.cases),e.hasOwnProperty("resultName")&&(t.resultName=ua(Te.t("forms.result_name","Result Name"),e.resultName,[ya,ga]));var a=ta(this.state,t);return this.setState(a),a.valid}},{key:"handleUpdateResultName",value:function(e){this.handleUpdate({resultName:e})}},{key:"handleCasesUpdated",value:function(e){this.handleUpdate({cases:e})}},{key:"handleResultChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={result:ua(Te.t("forms.result_to_split_on","Result to split on"),e[0],[pa(t)])},n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleSave",value:function(){this.state.cases.find((function(e){return!e.valid}))||this.handleResultChanged([this.state.result.value],!0)&&(this.props.updateRouter(function(e,t){var a=Io(t.cases,!1,e.originalNode.node),n=a.cases,o=a.exits,i=a.defaultCategory,r=a.caseConfig,l=a.categories,u={};t.resultName.value&&(u.result_name=t.resultName.value);var c=Ue.split_by_run_result,d=t.result.value,p="@results.".concat(d.id),m={operand:{name:d.name,id:d.id,type:je.Result},cases:r};t.shouldDelimit&&(m.index=t.fieldNumber,m.delimiter=t.delimiter,p="@(field(results.".concat(d.id,", ").concat(t.fieldNumber,', "').concat(t.delimiter,'"))'),c=Ue.split_by_run_result_delimited);var h=Object(k.a)({type:s.switch,default_category_uuid:i,categories:l,cases:n,operand:p},u);return jo(e.originalNode.node.uuid,h,o,c,[],m)}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleShouldDelimitChanged",value:function(e){this.setState({shouldDelimit:e})}},{key:"handleFieldNumberChanged",value:function(e){this.setState({fieldNumber:parseInt(e.value,10)})}},{key:"handleDelimiterChanged",value:function(e){this.setState({delimiter:e.value})}},{key:"renderField",value:function(){return C.createElement("div",{className:Di.a.non_delimited},C.createElement("div",{className:Di.a.lead_in},"If the flow result"),C.createElement("div",{className:Di.a.result_select},C.createElement(Wt,{entry:this.state.result,style:Rt.small,name:Te.t("forms.flow_result","Flow Result"),placeholder:"Select Result",searchable:!1,assets:this.props.assetStore.results,onChange:this.handleResultChanged,additionalOptions:this.options})))}},{key:"renderFieldDelimited",value:function(){return C.createElement("div",{className:Di.a.delimited},C.createElement("div",{className:Di.a.lead_in},"If the"),C.createElement("div",{className:Di.a.field_number},C.createElement(Oa,{key:"field_number_select",style:Rt.small,name:Te.t("forms.field_number","Field Number"),entry:{value:(e=this.state.fieldNumber,Ti.find((function(t){return t.value===""+e})))},onChange:this.handleFieldNumberChanged,options:Ti})),C.createElement("div",{className:Di.a.lead_in_sub},"field of"),C.createElement("div",{className:Di.a.result_select_delimited},C.createElement(Wt,{entry:this.state.result,style:Rt.small,name:Te.t("forms.flow_result","Flow Result"),placeholder:Te.t("forms.select_result","Select Result"),searchable:!1,assets:this.props.assetStore.results,onChange:this.handleResultChanged,additionalOptions:this.options})),C.createElement("div",{className:Di.a.lead_in_sub},"delimited by"),C.createElement("div",{className:Di.a.delimiter},C.createElement(Oa,{key:"delimiter_select",style:Rt.small,name:Te.t("forms.delimiter","Delimiter"),entry:{value:Ri(this.state.delimiter)},onChange:this.handleDelimiterChanged,options:Ai})));var e}},{key:"render",value:function(){var e=this.props.typeConfig,t={name:"Advanced",body:C.createElement("div",{className:Di.a.should_delimit},C.createElement(Ha,{name:Te.t("forms.delimit","Delimit"),title:Te.t("forms.delimit_result","Delimit Result"),checked:this.state.shouldDelimit,description:Te.t("forms.delimit_result_description","Evaluate your rules against a delimited part of your result"),onChange:this.handleShouldDelimitChanged})),checked:this.state.shouldDelimit};return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons(),tabs:[t]},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),this.state.shouldDelimit?this.renderFieldDelimited():this.renderField(),C.createElement(qs,{"data-spec":"cases",cases:this.state.cases,onCasesUpdated:this.handleCasesUpdated}),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}}]),a}(C.Component),zi=a(67),Fi=a.n(zi),Ii=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t={};if(kr(e.originalNode)===Ue.split_by_subflow||e.originalAction&&e.originalAction.type===Ue.enter_flow){var a=e.originalAction;return a&&a.type===Ue.enter_flow||(a=e.originalNode.node.actions.find((function(e){return e.type===Ue.enter_flow}))),e.originalNode.node.actions.forEach((function(e){if(e.type===Ue.set_run_result){var a=e;t[a.name]={value:a.value}}})),{flow:{value:a.flow},params:t,valid:!0}}return{flow:{value:null},params:{},valid:!1}}(e.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.flow.value&&it(this.props.assetStore.flows,this.state.flow.value.uuid).then((function(t){t&&e.handleFlowChanged([{name:t.name,uuid:t.id,parent_refs:t.content.parent_refs}])}))}},{key:"handleFlowChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e[0],n={flow:ua(Te.t("forms.flow","Flow"),a,[pa(t)])},o={};if(a&&a.parent_refs){var s,i=Object(N.a)(a.parent_refs);try{for(i.s();!(s=i.n()).done;){var r=s.value;this.state.params[r]?o[r]=Object(k.a)({},this.state.params[r]):o[r]={value:""}}}catch(u){i.e(u)}finally{i.f()}n.params=o}var l=ta(this.state,n);return this.setState(l),l.valid}},{key:"handleSave",value:function(){var e=this;this.handleFlowChanged([this.state.flow.value],!0);var t=Object.keys(this.state.params).find((function(t){return Et(e.state.params[t])}));this.state.valid&&!t&&(this.props.updateRouter(function(e,t){var a,n,o,i={uuid:(e.originalAction||e.originalNode.node.actions.length>0&&e.originalNode.node.actions[0]).uuid||te(),type:Ue.enter_flow,flow:{uuid:t.flow.value.uuid,name:t.flow.value.name}};if(kr(e.originalNode)===Ue.split_by_subflow){a=e.originalNode.node.exits;var r=e.originalNode.node.router;n=r.cases,o=r.categories}else a=[{uuid:te(),destination_uuid:null},{uuid:te(),destination_uuid:null}],o=[{uuid:te(),name:d.Complete,exit_uuid:a[0].uuid},{uuid:te(),name:d.Expired,exit_uuid:a[1].uuid}],n=[{uuid:te(),type:De.has_only_text,arguments:["completed"],category_uuid:o[0].uuid},{uuid:te(),arguments:["expired"],type:De.has_only_text,category_uuid:o[1].uuid}];var l=[];Object.keys(t.params).forEach((function(e){var a=t.params[e]&&t.params[e].value||"";if(a.trim().length>0){var n={uuid:te(),name:e,value:a,type:Ue.set_run_result};l.push(n)}})),l.push(i);var u={type:s.switch,operand:"@child.status",cases:n,categories:o,default_category_uuid:o[o.length-1].uuid};return jo(e.originalNode.node.uuid,u,a,Ue.split_by_subflow,l)}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"handleShouldExclude",value:function(e){return function(e){switch(e.type){case"message":return Ae.MESSAGING;case"voice":return Ae.VOICE;case"background":return Ae.MESSAGING_BACKGROUND;case"survey":return Ae.MESSAGING_OFFLINE}}(e)!==this.context.config.flowType}},{key:"handleParamChanged",value:function(e,t){var a=Object(k.a)({},this.state.params);a[t]={value:e},this.setState({params:a})}},{key:"render",value:function(){var e=this,t=this.props.typeConfig,a=[],n=this.state.flow.value,o=!!Object.keys(this.state.params).find((function(t){return Et(e.state.params[t])}));return n&&n.parent_refs&&n.parent_refs.length>0&&a.push({name:Te.t("forms.enter_flow_parameters_tab","Parameters"),body:C.createElement("div",null,C.createElement("p",{className:Fi.a.info},C.createElement(ke.a,{i18nKey:"forms.enter_flow_parameters_summary",values:{flow:this.state.flow.value.name,url:this.context.config.endpoints.editor+"/"+this.state.flow.value.id}},C.createElement("a",{target:"_",href:this.context.config.endpoints.editor+"/"+this.state.flow.value.id},"[[flow]]")," ","expects the following parameters to be set by this flow. These can be set using a"," ",C.createElement("span",null,"Save Flow Result")," action or directly below.")),C.createElement("table",{className:Fi.a.params},C.createElement("tbody",null,n.parent_refs.map((function(t){return C.createElement("tr",{key:"param_"+t,className:Fi.a.param},C.createElement("td",{className:Fi.a.param_name},t),C.createElement("td",{className:Fi.a.param_input},C.createElement(Aa,{name:t,showLabel:!1,placeholder:t,onChange:function(a){e.handleParamChanged(a,t)},entry:e.state.params[t],autocomplete:!0})))}))))),hasErrors:o,checked:!!Object.keys(this.state.params).find((function(t){return e.state.params[t]&&e.state.params[t].value.trim().length>0}))}),C.createElement(ge,{title:t.name,headerClass:t.type,buttons:this.getButtons(),tabs:a},C.createElement(Qt,{__className:"",initialType:t,onChange:this.props.onTypeChange}),C.createElement(Wt,{name:Te.t("forms.flow","Flow"),placeholder:Te.t("forms.select_flow","Select the flow to start"),assets:this.props.assetStore.flows,entry:this.state.flow,searchable:!0,shouldExclude:this.handleShouldExclude,onChange:this.handleFlowChanged}),_t(this.props))}}]),a}(C.PureComponent);Ii.contextTypes={config:jt};var Li,Mi=a(150),qi=a.n(Mi),Vi=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t={value:"Result"};if(e.originalNode&&e.originalNode.ui.type===Ue.wait_for_response){var a=e.originalNode.node.router;a&&(t={value:a.result_name||""})}return{resultName:t,valid:!0}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdateResultName",value:function(e){var t=ua(Te.t("forms.result_name","Result Name"),e,[ya,ga]);this.setState({resultName:t,valid:this.state.valid&&!Et(t)})}},{key:"handleSave",value:function(){this.state.valid&&(this.props.updateRouter(function(e,t,a){var n=Io([],!1,e.originalNode.node),o=n.exits,l=n.defaultCategory,u=n.caseConfig,c=n.categories,d={};t.resultName.value&&(d.result_name=t.resultName.value);var p="@input.text",m={type:i.msg};switch(a.type){case Ue.wait_for_audio:m.hint={type:r.audio},p="@input";break;case Ue.wait_for_image:m.hint={type:r.image},p="@input";break;case Ue.wait_for_location:m.hint={type:r.location},p="@input";break;case Ue.wait_for_video:m.hint={type:r.video},p="@input"}var h=Object(k.a)({type:s.switch,default_category_uuid:l,cases:[],categories:c,wait:m,operand:p},d);return jo(e.originalNode.node.uuid,h,o,Ue.wait_for_response,[],{cases:u})}(this.props.nodeSettings,this.state,this.props.typeConfig)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"renderEdit",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("div",{className:qi.a.result_name},hs(this.state.resultName,this.handleUpdateResultName)),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component),Bi=a(39),Gi=a.n(Bi),Hi=(Te.t("errors.http_header_missing_name","HTTP headers must have a name"),Te.t("forms.webhook_header_name","Header Name")),Wi=Te.t("forms.value","Value"),Ki=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(g.a)(this,a);var o=(n=t.call(this,e)).props.entry.value,s=o.name||"",i=o.value||"";return n.state={name:{value:s},value:{value:i}},Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"getHeader",value:function(){return{name:this.state.name.value,value:this.state.value.value,uuid:this.props.entry.value.uuid}}},{key:"handleChangeName",value:function(e){var t=this,a=ua(Te.t("forms.header_name","Header name"),e,[ha]);this.setState({name:{value:a.value}},(function(){return t.props.onChange(t.getHeader(),kt(t.state.value).concat(kt(a)))}))}},{key:"handleChangeValue",value:function(e){var t=this;this.setState({value:{value:e}},(function(){var e=ua(Te.t("forms.header_name","Header name"),t.state.name.value,[ha]);t.props.onChange(t.getHeader(),kt(t.state.value).concat(kt(e)))}))}},{key:"handleRemove",value:function(){this.props.onRemove(this.getHeader())}},{key:"getRemoveIco",value:function(){return C.createElement("div",{className:Gi.a.remove_ico,onClick:this.handleRemove,"data-spec":"remove-icon"},C.createElement("span",{className:"fe-x"}))}},{key:"render",value:function(){var e=this.getRemoveIco();return C.createElement(Lt,{name:Te.t("forms.webhook_header","Header"),entry:this.props.entry},C.createElement("div",{className:Gi.a.header,"data-spec":"header-container"},C.createElement("div",{className:Gi.a.header_name,"data-spec":"name-container"},C.createElement(Aa,{placeholder:Hi,name:Hi,onChange:this.handleChangeName,entry:this.state.name})),C.createElement("div",{className:Gi.a.header_value,"data-spec":"value-container"},C.createElement(Aa,{placeholder:Wi,name:Wi,onChange:this.handleChangeValue,entry:this.state.value,autocomplete:!0})),e))}}]),a}(C.Component);!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.HEAD="HEAD",e.PATCH="PATCH"}(Li||(Li={}));var Yi={value:Li.GET,name:Li.GET},Xi=[Yi,{value:Li.POST,name:Li.POST},{value:Li.PUT,name:Li.PUT},{value:Li.DELETE,name:Li.DELETE},{value:Li.HEAD,name:Li.HEAD},{value:Li.PATCH,name:Li.PATCH}],Zi=function(e){var t=e.originalAction||e.originalNode.node.actions.length>0&&e.originalNode.node.actions[0];if(t.type===Ue.call_webhook)return t},Qi=function(e){return e===Li.GET?"":'@(json(object(\n  "contact", object(\n    "uuid", contact.uuid, \n    "name", contact.name, \n    "urn", contact.urn\n  ),\n  "flow", object(\n    "uuid", run.flow.uuid, \n    "name", run.flow.name\n  ),\n  "results", foreach_value(results, extract_object, "value", "category")\n)))'},Ji=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t={headers:[],resultName:{value:"Result"},method:{value:Yi},url:{value:""},body:{value:Qi(Li.GET)},valid:!1};if(kr(e.originalNode)===Ue.split_by_webhook){var a,n=Zi(e),o=Object(N.a)(Object.keys(n.headers||[]).sort());try{for(o.s();!(a=o.n()).done;){var s=a.value;t.headers.push({value:{uuid:te(),value:n.headers[s],name:s}})}}catch(i){o.e(i)}finally{o.f()}t.resultName={value:n.result_name},t.url={value:n.url},t.method={value:{name:n.method,value:n.method}},t.body={value:n.body},t.valid=!0}else t.headers.push({value:{uuid:te(),name:"Accept",value:"application/json"}});return t.headers.push({value:{uuid:te(),name:"",value:""}}),t}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdate",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},o=!1,s=[];if(e.hasOwnProperty("method")){n.method={value:e.method};var i=this.state.method.value.value,r=e.method.value;if(i!==r){var l=this.state.headers.find((function(e){return"content-type"===e.value.name.toLowerCase()}));if(n.body={value:Qi(r)},i===Li.GET&&r!==Li.GET){if(!l){var u=te(),c=this.state.headers.length>0?this.state.headers[this.state.headers.length-1]:null;c&&!c.value.name&&(u=c.value.uuid),e.header={uuid:u,name:"Content-Type",value:"application/json"}}}else i!==Li.GET&&r===Li.GET&&l&&(s=[{headers:[{value:l.value}]}])}}e.hasOwnProperty("url")&&(n.url=ua(Te.t("forms.url","URL"),e.url,[pa(a),ma(va,-1===e.url.indexOf("@"))])),e.hasOwnProperty("resultName")&&(n.resultName=ua(Te.t("forms.result_name","Result Name"),e.resultName,[pa(a),ya,ga])),e.hasOwnProperty("body")&&(n.body={value:e.body}),e.hasOwnProperty("header")&&(n.headers=[{value:e.header,validationFailures:e.validationFailures}],o=!0),e.hasOwnProperty("removeHeader")&&(s=[{headers:[{value:e.removeHeader}]}],o=!0);var d=ta(this.state,n,s);return this.setState(d,(function(){if(o){var e,a=!0,n=Object(N.a)(t.state.headers);try{for(n.s();!(e=n.n()).done;){if(""===e.value.value.name.trim()){a=!1;break}}}catch(s){n.e(s)}finally{n.f()}a&&t.handleCreateHeader()}})),d.valid}},{key:"handleUpdateResultName",value:function(e){return this.handleUpdate({resultName:e})}},{key:"handleMethodUpdate",value:function(e){return this.handleUpdate({method:e})}},{key:"handleUrlUpdate",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.handleUpdate({url:e},a)}},{key:"handleHeaderRemoved",value:function(e){return this.handleUpdate({removeHeader:e})}},{key:"handleHeaderUpdated",value:function(e,t){return this.handleUpdate({header:e,validationFailures:t})}},{key:"handleCreateHeader",value:function(){return this.handleUpdate({header:{uuid:te(),name:"",value:""}})}},{key:"handleBodyUpdate",value:function(e){return this.handleUpdate({body:e})}},{key:"handleSave",value:function(){this.handleUpdate({url:this.state.url.value,resultName:this.state.resultName.value},!0)&&(this.props.updateRouter(function(e,t){var a,n={},o=Object(N.a)(t.headers);try{for(o.s();!(a=o.n()).done;){var s=a.value;0!==s.value.name.trim().length&&(n[s.value.name]=s.value.value)}}catch(u){o.e(u)}finally{o.f()}var i=te(),r=Zi(e);r&&(i=r.uuid);var l={uuid:i,headers:n,type:Ue.call_webhook,url:t.url.value,body:t.body.value,method:t.method.value.value,result_name:t.resultName.value};return Lo(l,e.originalNode,!1)}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"renderEdit",value:function(){var e=this,t=this.props.typeConfig,a=this.state.headers.map((function(t,a,n){return C.createElement("div",{key:"header_".concat(t.value.uuid)},C.createElement(Ki,{entry:t,onRemove:e.handleHeaderRemoved,onChange:e.handleHeaderUpdated,index:a}))})),n=[];n.push({name:Te.t("forms.http_headers","HTTP Headers"),hasErrors:!!this.state.headers.find((function(e){return Et(e)})),body:C.createElement(C.Fragment,null,C.createElement("p",{className:Gi.a.info},C.createElement(ke.a,{i18nKey:"forms.webhook_header_summary"},"Add any additional headers below that you would like to send along with your request.")),a),checked:this.state.headers.length>1});var o=this.state.method.value.value,s=this.state.method.value.name+" "+Te.t("body","Body");return n.push({name:s,body:C.createElement("div",{key:"post_body",className:Gi.a.body_form},C.createElement("h4",null,s),C.createElement("p",null,C.createElement(ke.a,{i18nKey:"forms.webhook_body_summary",values:{method:this.state.method.value.name}},"Modify the body of the [[method]] request that will be sent to your webhook.")),C.createElement(Aa,{__className:Gi.a.req_body,name:s,showLabel:!1,entry:this.state.body,onChange:this.handleBodyUpdate,helpText:C.createElement(ke.a,{i18nKey:"forms.webhook_body_summary",values:{method:this.state.method.value.name}},"Modify the body of the [[method]] request that will be sent to your webhook."),autocomplete:!0,textarea:!0})),checked:this.state.body.value!==Qi(o)}),C.createElement(ge,{title:t.name,headerClass:t.type,buttons:this.getButtons(),tabs:n},C.createElement(Qt,{__className:"",initialType:t,onChange:this.props.onTypeChange}),C.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},C.createElement("div",{className:Gi.a.method},C.createElement(Oa,{key:"method_select",name:Te.t("forms.method","Method"),entry:this.state.method,onChange:this.handleMethodUpdate,options:Xi})),C.createElement("div",{className:Gi.a.url},C.createElement(Aa,{name:Te.t("forms.url","URL"),placeholder:Te.t("forms.enter_a_url","Enter a URL"),entry:this.state.url,onChange:this.handleUrlUpdate,autocomplete:!0}))),C.createElement("div",{className:Gi.a.instructions},C.createElement("p",null,C.createElement(ke.a,{i18nKey:"forms.webhook_help"},"If your server responds with JSON, each property will be added to the Flow.")),C.createElement("pre",{className:Gi.a.code},'{ "product": "Solar Charging Kit", "stock level": 32 }'),C.createElement("p",null,C.createElement(ke.a,{i18nKey:"forms.webhook_example"},"This response would add ",C.createElement("span",{className:Gi.a.example},"@webhook.product")," and"," ",C.createElement("span",{className:Gi.a.example},'@webhook["stock level"]')," for use in the flow."))),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component),$i=function(e,t){var a=e.classifier;return bt({id:a.uuid,name:a.name,type:je.Classifier},t.config.endpoints)};$i.contextTypes={config:jt};var er=$i,tr=function(e){var t=e.originalAction||e.originalNode.node.actions.length>0&&e.originalNode.node.actions[0];if(t.type===Ue.call_classifier)return t},ar=function(e,t){var a=te(),n=Io([].concat(Object(ve.a)(t.cases),Object(ve.a)(t.hiddenCases)),!1,e.originalNode.node,"Failure");!function(e,t){var a=e.cases.findIndex((function(e){return e.type===t.type&&(a=e.arguments,n=t.arguments,a.every((function(e,t){return e===n[t]})));var a,n}));if(a>=0){if(a===e.cases.length-1)return;var n=e.cases.splice(a,1),o=Object(S.a)(n,1)[0];e.cases.push(o)}else{var s={uuid:te()},i={uuid:te(),name:t.name,exit_uuid:s.uuid},r={uuid:te(),type:t.type,arguments:t.arguments,category_uuid:i.uuid};e.categories.push(i),e.cases.push(r),e.exits.splice(e.exits.length-1,0,s)}}(n,{type:De.has_category,arguments:["Success","Skipped"],name:"Other"});var o=tr(e);o&&(a=o.uuid);var i=t.resultName.value,r="_"+i+" Classification",l={uuid:a,type:Ue.call_classifier,result_name:r,input:t.operand.value,classifier:{uuid:t.classifier.value.uuid,name:t.classifier.value.name}},u={cases:n.cases,operand:"@results.".concat(q(r)),categories:n.categories,type:s.switch,default_category_uuid:n.defaultCategory,result_name:i};return jo(e.originalNode.node.uuid,u,n.exits,Ue.split_by_intent,[l])},nr=a(151),or=a.n(nr),sr=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).dialog=void 0,n.state=function(e){var t={value:"Result"},a=[],n="@input.text",o={value:null},s=[];if(kr(e.originalNode)===Ue.split_by_intent){var i=e.originalNode.node.router;To(e.originalNode.node)&&(s=(a=Ao(i.cases,e.originalNode)).filter((function(e){return Os(e.kase.type).visibility===nt})),a=a.filter((function(e){return Os(e.kase.type).visibility!==nt}))),t={value:i.result_name||"Result"};var r=tr(e);o={value:r.classifier},n=r.input}return{hiddenCases:s,resultName:t,classifier:o,operand:{value:n},cases:a,valid:!0}}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n.state.classifier.value&&it(n.props.assetStore.classifiers,n.state.classifier.value.uuid).then((function(e){e&&n.handleUpdate({classifier:Object(k.a)({},n.state.classifier.value,{},e.content)})})),n}return Object(v.a)(a,[{key:"handleUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};e.hasOwnProperty("resultName")&&(a.resultName=ua(Te.t("forms.result_name","Result Name"),e.resultName,[pa(t),ca,ya,ga])),e.hasOwnProperty("classifier")&&(a.classifier=ua(Te.t("forms.classifier","Classifier"),e.classifier,[pa(t)]));var n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleCasesUpdated",value:function(e){var t=e.find((function(e){return!e.valid}));this.setState({cases:e,valid:!t})}},{key:"handleUpdateResultName",value:function(e){return this.handleUpdate({resultName:e})}},{key:"handleSave",value:function(){this.state.cases.find((function(e){return!e.valid}))||this.handleUpdate({resultName:this.state.resultName.value,classifier:this.state.classifier.value},!0)&&(this.props.updateRouter(ar(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"handleClassifierUpdated",value:function(e){this.handleUpdate({classifier:e[0]})}},{key:"handleOperandUpdated",value:function(e){this.setState({operand:ua(Te.t("forms.operand","Operand"),e,[ca])})}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"renderEdit",value:function(){var e=this,t=this.props.typeConfig,a=[{name:"Classifier Input",checked:"@input.text"!==this.state.operand.value,body:C.createElement(C.Fragment,null,C.createElement("p",null,"Enter an expression to use as the input to your classifier. To classify the last response from the contact use ",C.createElement("code",null,"@input.text"),"."),C.createElement(Aa,{name:Te.t("forms.operand","Operand"),showLabel:!1,autocomplete:!0,onChange:this.handleOperandUpdated,entry:this.state.operand}))}];return C.createElement(ge,{title:t.name,headerClass:t.type,buttons:this.getButtons(),tabs:a,ref:function(t){e.dialog=t}},C.createElement(Qt,{__className:"",initialType:t,onChange:this.props.onTypeChange}),C.createElement("p",null,C.createElement("span",null,"Run "),C.createElement("span",{className:or.a.link,onClick:function(){e.dialog.showTab(0)}},"@input.text"===this.state.operand.value?"the last response":this.state.operand.value),C.createElement("span",null," through the classifier...")),C.createElement(Wt,{key:"select_classifier",name:Te.t("forms.classifier","Classifier"),placeholder:"Select the classifier to use",assets:this.props.assetStore.classifiers,onChange:this.handleClassifierUpdated,entry:this.state.classifier}),Y(!!this.state.classifier.value)(C.createElement(qs,{"data-spec":"cases",cases:this.state.cases,onCasesUpdated:this.handleCasesUpdated,operators:Ns,classifier:this.state.classifier.value})),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component),ir=function(){return gr.filter((function(e){return!e.excludeFromSplit})).map((function(e){return{value:e.scheme,name:e.name}}))},rr=function(e){var t=[],a=Po(e),n=ir();return a&&(t=a.cases.map((function(e){if(e.arguments){var t=Object(S.a)(e.arguments,1)[0];return n.find((function(e){return e.value===t}))}return null})).filter((function(e){return null!==e}))),t},lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){var a=e.value,n=e.name,o=t.find((function(e){return e.arguments[0]===a})),s=o?o.uuid:te();return{uuid:te(),kase:{uuid:s,type:De.has_only_phrase,arguments:[a],category_uuid:""},categoryName:n,valid:!0}}))},ur=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state=function(e){var t={schemes:{value:[]},resultName:{value:""},valid:!1};return kr(e.originalNode)===Ue.split_by_scheme&&(t.schemes.value=rr(e.originalNode.node),t.resultName={value:e.originalNode.node.router.result_name||""},t.valid=!0),t}(n.props.nodeSettings),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleSchemesChanged",value:function(e){this.handleUpdate({schemes:e})}},{key:"handleUpdateResultName",value:function(e){this.handleUpdate({resultName:e})}},{key:"handleUpdate",value:function(e){var t={};e.hasOwnProperty("schemes")&&(t.schemes=ua(Te.t("forms.split_by_scheme","Channel types"),e.schemes,[ca])),e.hasOwnProperty("resultName")&&(t.resultName=ua(Te.t("forms.result_name","Result Name"),e.resultName,[ya,ga]));var a=ta(this.state,t);return this.setState(a),a.valid}},{key:"handleSave",value:function(){this.handleSchemesChanged(this.state.schemes.value),this.state.valid&&(this.props.updateRouter(function(e,t){var a=[];kr(e.originalNode)===Ue.split_by_scheme&&(a=Po(e.originalNode.node).cases);var n=lr(t.schemes.value,a),o=Io(n,!1,e.originalNode.node),i=o.cases,r=o.exits,l=o.defaultCategory,u=o.caseConfig,c=o.categories,d={type:s.switch,cases:i,categories:c,default_category_uuid:l,operand:"@(urn_parts(contact.urn).scheme)",result_name:t.resultName.value};return jo(e.originalNode.node.uuid,d,r,Ue.split_by_scheme,[],{cases:u})}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"render",value:function(){var e=this.props.typeConfig;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),C.createElement("p",null,Te.t("forms.split_by_scheme_summary","The contact's URN is the address they used to reach you such as their phone number or a Facebook ID. Select which URN types to split by below.")),C.createElement(Oa,{key:"channel_type_select",name:Te.t("forms.channel_type","Channel Type"),placeholder:Te.t("forms.split_by_channel_placeholder","Select the channels to split by"),entry:this.state.schemes,onChange:this.handleSchemesChanged,options:ir(),multi:!0,hideError:!0}),hs(this.state.resultName,this.handleUpdateResultName),_t(this.props))}}]),a}(C.Component);ur.contextTypes={endpoints:jt,assetService:jt};var cr=function(e){var t=e.originalAction||e.originalNode.node.actions.length>0&&e.originalNode.node.actions[0];if(t.type===Ue.open_ticket)return t},dr=a(152),pr=a.n(dr),mr=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(g.a)(this,a),n=t.call(this,e);var o=Object.values(n.props.assetStore.ticketers.items),s=1===o.length?o[0]:null;return n.state=function(e,t){var a=t?{value:{uuid:t.id,name:t.name}}:{value:null},n={value:"@run.flow.name"},o={value:"@results"},s={value:"Result"},i={value:null},r={value:null};if(kr(e.originalNode)===Ue.split_by_ticket){var l=cr(e);a={value:l.ticketer},n={value:l.subject},o={value:l.body},r={value:l.topic},i={value:l.assignee},s={value:l.result_name}}return{assignee:i,topic:r,ticketer:a,subject:n,body:o,resultName:s,valid:!0}}(n.props.nodeSettings,s),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};e.hasOwnProperty("assignee")&&(a.assignee=ua(Te.t("forms.assignee","Assignee"),e.assignee,[pa(t)])),e.hasOwnProperty("topic")&&(a.topic=ua(Te.t("forms.topic","Topic"),e.topic,[pa(t)])),e.hasOwnProperty("ticketer")&&(a.ticketer=ua(Te.t("forms.ticketer","Ticketer"),e.ticketer,[pa(t)])),e.hasOwnProperty("subject")&&(a.subject=ua(Te.t("forms.subject","Subject"),e.subject,[])),e.hasOwnProperty("body")&&(a.body=ua(Te.t("forms.body","Body"),e.body,[pa(t)])),e.hasOwnProperty("resultName")&&(a.resultName=ua(Te.t("forms.result_name","Result Name"),e.resultName,[pa(t)]));var n=ta(this.state,a);return this.setState(n),n.valid}},{key:"handleTicketerUpdate",value:function(e){this.handleUpdate({ticketer:e[0]})}},{key:"handleAssigneeUpdate",value:function(e){this.handleUpdate({assignee:e})}},{key:"handleTopicUpdate",value:function(e){this.handleUpdate({topic:e})}},{key:"handleSubjectUpdate",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.handleUpdate({subject:e},a)}},{key:"handleBodyUpdate",value:function(e){return this.handleUpdate({body:e})}},{key:"handleResultNameUpdate",value:function(e){var t=ua(Te.t("forms.result_name","Result Name"),e,[ca,ya,ga]);this.setState({resultName:t,valid:this.state.valid&&!Et(t)})}},{key:"handleSave",value:function(){this.handleUpdate({ticketer:this.state.ticketer.value,subject:this.state.subject.value,body:this.state.body.value,resultName:this.state.resultName.value},!0)&&(this.props.updateRouter(function(e,t){var a=te(),n=cr(e);n&&(a=n.uuid);var o={uuid:a,type:Ue.open_ticket,ticketer:{uuid:t.ticketer.value.uuid,name:t.ticketer.value.name},body:t.body.value,topic:t.topic.value,assignee:t.assignee.value,result_name:t.resultName.value};return Lo(o,e.originalNode,!0)}(this.props.nodeSettings,this.state)),this.props.onClose(!1))}},{key:"getButtons",value:function(){var e=this;return{primary:{name:Te.t("buttons.ok","Ok"),onClick:this.handleSave},secondary:{name:Te.t("buttons.cancel","Cancel"),onClick:function(){return e.props.onClose(!0)}}}}},{key:"renderEdit",value:function(){var e=this.props.typeConfig,t=Object.keys(this.props.assetStore.ticketers.items).length>1||this.props.issues.length>0;return C.createElement(ge,{title:e.name,headerClass:e.type,buttons:this.getButtons()},C.createElement(Qt,{__className:"",initialType:e,onChange:this.props.onTypeChange}),t?C.createElement("div",null,C.createElement("p",null,C.createElement("span",null,"Open ticket via... ")),C.createElement(Wt,{key:"select_ticketer",name:Te.t("forms.ticketer","Ticketer"),placeholder:"Select the ticketing service to use",assets:this.props.assetStore.ticketers,onChange:this.handleTicketerUpdate,entry:this.state.ticketer})):"",C.createElement("div",{style:{display:"flex",width:"100%",marginTop:"0.5em"}},C.createElement("div",{style:{flexBasis:250}},C.createElement(Gt,{key:"select_topic",name:Te.t("forms.topic","Topic"),endpoint:this.context.config.endpoints.topics,onChange:this.handleTopicUpdate,value:this.state.topic.value,createPrefix:Te.t("forms.topic_prefix","Create Topic: "),searchable:!0})),C.createElement("div",{style:{flexGrow:1,marginLeft:"0.5em"}},C.createElement(Gt,{key:"select_assignee",name:Te.t("forms.assignee","Assignee"),placeholder:"Assign to (Optional)",valueKey:"email",endpoint:this.context.config.endpoints.users,onChange:this.handleAssigneeUpdate,clearable:!0,value:this.state.assignee.value,getName:function(e){return e.first_name||e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.email||""}}))),C.createElement("div",{className:pr.a.body},C.createElement(Aa,{name:Te.t("forms.body","Body"),placeholder:Te.t("forms.enter_a_body","Enter a body"),entry:this.state.body,onChange:this.handleBodyUpdate,autocomplete:!0,textarea:!0})),hs(this.state.resultName,this.handleResultNameUpdate),_t(this.props))}},{key:"render",value:function(){return this.renderEdit()}}]),a}(C.Component);mr.contextTypes={config:jt};var hr=function(e,t){var a=e.ticketer,n=e.subject,o=e.topic,s=-1===a.name.indexOf(t.config.brand);return C.createElement("div",null,C.createElement("div",null,n||(o?o.name:null)),s?C.createElement("div",{style:{fontSize:"80%"}},"Using ",C.createElement("span",{style:{fontWeight:400}},a.name)):null)};hr.contextTypes={config:jt};var _r=hr,gr=[{scheme:"tel",name:Te.t("schemes.phone.name","SMS"),path:Te.t("schemes.phone.path","Phone Number")},{scheme:"whatsapp",name:Te.t("schemes.whatsapp.name","WhatsApp"),path:Te.t("schemes.whatsapp.path","WhatsApp Number")},{scheme:"facebook",name:Te.t("schemes.facebook.path","Facebook"),path:Te.t("schemes.facebook.path","Facebook ID")},{scheme:"twitterid",name:Te.t("schemes.twitterid.name","Twitter"),path:Te.t("schemes.twitterid.path","Twitter ID")},{scheme:"telegram",name:Te.t("schemes.telegram.name","Telegram"),path:Te.t("schemes.telegram.path","Telegram ID")},{scheme:"viber",name:Te.t("schemes.viber.name","Viber"),path:Te.t("schemes.viber.path","Viber ID")},{scheme:"line",name:Te.t("schemes.line.name","Line"),path:Te.t("schemes.line.path","Line ID")},{scheme:"wechat",name:Te.t("schemes.wechat.name","Wechat"),path:Te.t("schemes.wechat.path","Wechat ID")},{scheme:"fcm",name:Te.t("schemes.firebase.name","Firebase"),path:Te.t("schemes.firebase.path","Firebase ID")},{scheme:"jiochat",name:Te.t("schemes.jiojach.name","Jiochat"),path:Te.t("schemes.jiochat.path","Jiochat ID")},{scheme:"freshchat",name:Te.t("schemes.freschat.name","Freshchat"),path:Te.t("schemes.freshchat.path","Freshchat ID")},{scheme:"mailto",name:Te.t("schemes.email.name","Email"),path:Te.t("schemes.email.path","Email Address"),excludeFromSplit:!0},{scheme:"twitter",name:Te.t("schemes.twitter.name","Twitter"),path:Te.t("schemes.twitter.path","Twitter Handle"),excludeFromSplit:!0},{scheme:"ext",name:Te.t("schemes.external.name","External"),path:Te.t("schemes.external.path","External ID")}],vr=[{type:Ue.missing,name:"Missing",description:" ** Unsupported ** ",component:fn,visibility:nt},{type:Ue.say_msg,name:Te.t("actions.play_message.name","Play Message"),description:Te.t("actions.play_message.description","Play a message"),form:On,localization:vn,localizeableKeys:["text","audio_url"],component:xn,visibility:$e},{type:Ue.wait_for_menu,name:Te.t("actions.wait_for_menu.name","Wait for Menu Selection"),description:Te.t("actions.wait_for_menu.description","Wait for menu selection"),form:di,localization:ii,localizeableKeys:["exits"],visibility:$e},{type:Ue.wait_for_digits,name:Te.t("actions.wait_for_digits.name","Wait for Digits"),description:Te.t("actions.wait_for_digits.description","Wait for multiple digits"),form:Hs,localization:ii,localizeableKeys:["exits","cases"],visibility:$e},{type:Ue.wait_for_audio,name:Te.t("actions.wait_for_audio.name","Wait for Audio"),description:Te.t("actions.wait_for_audio.description","Wait for an audio recording"),form:Vi,localization:ii,localizeableKeys:["exits"],visibility:[Ae.MESSAGING_OFFLINE,Ae.VOICE]},{type:Ue.wait_for_dial,name:Te.t("actions.wait_for_dial.name","Wait for Forwarded Call"),description:Te.t("actions.wait_for_dial.description","Wait for forwarded call to someone else"),form:Es,visibility:$e},{type:Ue.send_msg,name:Te.t("actions.send_msg.name","Send Message"),description:Te.t("actions.send_msg.description","Send the contact a message"),form:Zn,localization:vn,localizeableKeys:["text","quick_replies","templating.variables"],component:Wn,massageForDisplay:function(e){e.quick_replies=e.quick_replies||[]}},{type:Ue.wait_for_response,name:Te.t("actions.wait_for_response.name","Wait for Response"),description:Te.t("actions.wait_for_response.description","Wait for the contact to respond"),form:Ni,localization:ii,localizeableKeys:["categories","cases"],aliases:[s.switch],visibility:Je},{type:Ue.send_broadcast,name:Te.t("actions.send_broadcast.name","Send Broadcast"),description:Te.t("actions.send_broadcast.description","Send somebody else a message"),form:Dn,localization:an,localizeableKeys:["text"],component:Un},{type:Ue.add_input_labels,name:Te.t("actions.add_input.name","Add Labels"),description:Te.t("actions.add_input.description","Label the incoming message"),form:ka,component:Ut,visibility:tt},{type:Ue.add_contact_urn,name:Te.t("actions.add_contact_urn.name","Add URN"),description:Te.t("actions.add_contact_urn.description","Add a URN for the contact"),form:Da,component:xa},{type:Ue.add_contact_groups,name:Te.t("actions.add_contact_groups.name","Add to Group"),description:Te.t("actions.add_contact_groups.description","Add the contact to a group"),form:Ia,component:qa},{type:Ue.remove_contact_groups,name:Te.t("actions.remove_contact_groups.name","Remove from Group"),description:Te.t("actions.remove_contact_groups.description","Remove the contact from a group"),form:Qa,component:qa},{type:Ue.set_contact_field,aliases:[Ue.set_contact_name,Ue.set_contact_language,Ue.set_contact_channel,Ue.set_contact_status],name:Te.t("actions.set_contact_field.name","Update Contact"),description:Te.t("actions.set_contact_field.description","Update the contact"),form:rs,component:Eo},{type:Ue.send_email,name:Te.t("actions.send_email.name","Send Email"),description:Te.t("actions.send_email.description","Send an email"),form:Vn,localization:an,localizeableKeys:["subject","body"],component:Pn,visibility:et},{type:Ue.set_run_result,name:Te.t("actions.set_run_result.name","Save Flow Result"),description:Te.t("actions.set_run_result.description","Save a result for this flow"),form:eo,component:Qn},{type:Ue.play_audio,name:Te.t("actions.play_audio.name","Play Recording"),description:Te.t("actions.play_audio.description","Play a contact recording"),form:bn,component:yn,visibility:$e},{type:Ue.call_webhook,name:Te.t("actions.call_webhook.name","Call Webhook"),description:Te.t("actions.call_webhook.description","Call a webhook"),form:Ji,localization:ii,localizeableKeys:["exits"],component:za,aliases:[Ue.split_by_webhook],visibility:et},{type:Ue.call_resthook,name:Te.t("actions.call_resthook.name","Call Zapier"),description:Te.t("actions.call_resthook.description","Call Zapier"),form:ji,localization:ii,localizeableKeys:["exits"],component:Pa,aliases:[Ue.split_by_resthook],filter:Pe.HAS_RESTHOOK,visibility:et},{type:Ue.enter_flow,name:Te.t("actions.enter_flow.name","Enter a Flow"),description:Te.t("actions.enter_flow.description","Enter another flow"),form:Ii,localization:ii,localizeableKeys:["exits"],component:ao,aliases:[Ue.split_by_subflow]},{type:Ue.start_session,name:Te.t("actions.start_session.name","Start Somebody Else"),description:Te.t("actions.start_session.description","Start somebody else in a flow"),localization:ii,localizeableKeys:["exits"],form:_o,component:ro,visibility:et},{type:Ue.open_ticket,name:Te.t("actions.open_ticket.name","Open Ticket"),description:Te.t("actions.open_ticket.description","Open a ticket with a human agent"),form:mr,localization:ii,localizeableKeys:["exits"],component:_r,aliases:[Ue.split_by_ticket],visibility:et,filter:Pe.HAS_TICKETER},{type:Ue.transfer_airtime,name:Te.t("actions.transfer_airtime.name","Send Airtime"),description:Te.t("actions.transfer_airtime.description","Send the contact airtime"),form:ks,localization:ii,localizeableKeys:["exits"],component:fo,aliases:[Ue.split_by_airtime],visibility:et,filter:Pe.HAS_AIRTIME},{type:Ue.wait_for_image,name:Te.t("actions.wait_for_image.name","Wait for Image"),description:Te.t("actions.wait_for_image.description","Wait for an image"),form:Vi,localization:ii,localizeableKeys:["exits"],visibility:at},{type:Ue.wait_for_video,name:Te.t("actions.wait_for_video.name","Wait for Video"),description:Te.t("actions.wait_for_video.description","Wait for a video"),form:Vi,localization:ii,localizeableKeys:["exits"],visibility:at},{type:Ue.wait_for_location,name:Te.t("actions.wait_for_location.name","Wait for Location"),description:Te.t("actions.wait_for_location.description","Wait for location GPS coordinates"),form:Vi,localization:ii,localizeableKeys:["exits"],visibility:at},{type:Ue.split_by_intent,name:Te.t("actions.split_by_intent.name","Split by Intent"),description:Te.t("actions.split_by_intent.description","Split by intent"),form:sr,localization:ii,localizeableKeys:["exits"],component:er,aliases:[Ue.call_classifier],visibility:et,filter:Pe.HAS_CLASSIFIER},{type:Ue.split_by_expression,name:Te.t("actions.split_by_expression.name","Split by Expression"),description:Te.t("actions.split_by_expression.description","Split by a custom expression"),localization:ii,localizeableKeys:["exits","cases"],form:Ks},{type:Ue.split_by_contact_field,name:Te.t("actions.split_by_contact_field.name","Split by Contact Field"),description:Te.t("actions.split_by_contact_field.description","Split by a contact field"),localization:ii,localizeableKeys:["exits","cases"],form:Qs},{type:Ue.split_by_run_result,aliases:[Ue.split_by_run_result_delimited],name:Te.t("actions.split_by_run_result.name","Split by Flow Result"),description:Te.t("actions.split_by_run_result.description","Split by a result in the flow"),localization:ii,localizeableKeys:["exits","cases"],form:Pi},{type:Ue.split_by_random,name:Te.t("actions.split_by_random.name","Split Randomly"),description:Te.t("actions.split_by_random.description","Split by random chance"),localization:ii,localizeableKeys:["exits"],form:fi},{type:Ue.split_by_groups,name:Te.t("actions.split_by_groups.name","Split by Group Membership"),description:Te.t("actions.split_by_groups.description","Split by group membership"),localization:ii,localizeableKeys:["exits"],form:ti},{type:Ue.split_by_scheme,name:Te.t("actions.split_by_scheme.name","Split by URN Type"),description:Te.t("actions.split_by_scheme.description","Split by URN type"),localization:ii,localizeableKeys:["exits"],form:ur}],fr=function(e){var t={};return e.filter((function(e){if("missing"===e.type)return!1;var a=e.name;return!t[a]&&(t[a]=!0)}))}(vr),yr=vr.reduce((function(e,t){return e[t.type]=t,t.aliases&&t.aliases.forEach((function(a){return e[a]=t})),e}),{}),br=function(e){var t=yr[e];return t||(t=yr.missing),t},kr=function(e){var t=e.node.router&&e.node.router.wait;if(t&&t.hint)switch(t.hint.type){case r.digits:return 1===t.hint.count?Ue.wait_for_menu:Ue.wait_for_digits;case r.audio:return Ue.wait_for_audio;case r.image:return Ue.wait_for_image;case r.location:return Ue.wait_for_location;case r.video:return Ue.wait_for_video}return e.ui.type!==Ue.split_by_contact_field||e.ui.config.operand.name?e.ui.type:Ue.split_by_expression},Er=function(e,t){return!!(e.filters||[]).find((function(e){return e===t}))},Cr=function(e,t){var a={type:Ue.set_contact_name,valid:!1,name:{value:""},channel:{value:null},language:{value:null},status:{value:as},field:{value:Nt},fieldValue:{value:""}};if(e.originalAction){var n=e.originalAction.type;if(br(n)===br(Ue.set_contact_field))switch(a.type=n,n){case Ue.set_contact_field:var o=e.originalAction;return a.field={value:{key:o.field.key,label:o.field.name}},a.fieldValue={value:o.value},a.valid=!0,a;case Ue.set_contact_channel:var s=e.originalAction;return a.field={value:St},a.channel={value:s.channel?s.channel:Fe},a.valid=!0,a;case Ue.set_contact_language:var i=e.originalAction;return a.field={value:xt},a.valid=!0,a.language={value:i.language?{iso:i.language,name:Sr(i.language,t.languages.items)}:Fe},a;case Ue.set_contact_status:var r=e.originalAction;return a.field={value:Ot},a.valid=!0,a.status={value:is.find((function(e){return e.value===r.status}))},a;case Ue.set_contact_name:var l=e.originalAction;return a.valid=!0,a.name={value:l.name},a}}return a},wr=function(e,t){var a=t.field.value;return t.type===Ue.set_contact_field?{uuid:vt(e,Ue.set_contact_field),type:t.type,field:{name:a.label,key:a.key},value:t.fieldValue.value}:t.type===Ue.set_contact_channel?t.channel.value.type===Fe.type?{uuid:vt(e,Ue.set_contact_channel),type:t.type}:{uuid:vt(e,Ue.set_contact_channel),type:t.type,channel:{uuid:t.channel.value.uuid,name:t.channel.value.name}}:t.type===Ue.set_contact_language?t.language.value.type===Fe.type?{uuid:vt(e,Ue.set_contact_language),type:t.type}:{uuid:vt(e,Ue.set_contact_language),type:t.type,language:t.language.value.iso}:t.type===Ue.set_contact_status?{uuid:vt(e,Ue.set_contact_status),type:t.type,status:t.status.value.value}:t.type===Ue.set_contact_name?{uuid:vt(e,Ue.set_contact_name),type:t.type,name:t.name.value}:void 0},Nr=function(e,t){var a=e.type||"",n=t.type||"",o=e.name||e.label||"",s=t.name||t.label||"";if(e.id===Nt.id&&t.id!==Nt.id)return-1;if(t.id===Nt.id&&e.id!==Nt.id)return 1;if(a===n)return o.localeCompare(s);if(a===je.Scheme)return 1;if(n===je.Scheme)return-1;if(a!==n){if(a===je.ContactProperty)return-1;if(n===je.ContactProperty)return 1}return o.localeCompare(s)},Sr=function(e,t){var a=e;return t&&a in t&&(a=t[a].name),a},xr=function(e){return e.label||e.name},Or=a(105),jr=a.n(Or),Tr={dragStartTime:0,dragDownPosition:null,dragActive:!1,dragNodeUUID:null,dragGroup:!1,dragSelection:null},Ar={currentRevision:null,simulating:!1,translating:!1,language:null,fetchingFlow:!1,dragStartTime:0,dragDownPosition:null,dragActive:!1,dragNodeUUID:null,dragGroup:!1,dragSelection:null,ghostNode:null,debug:null,warnings:{},popped:null,activity:{segments:{},nodes:{}},liveActivity:{segments:{},nodes:{}},activityInterval:5e3,visible:!0,scrollToNode:null,scrollToAction:null},Rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.UPDATE_EDITOR_STATE:return t.payload.editorState;default:return e}},Ur=function(){},Dr=null,Pr=!1,zr=0,Fr=0,Ir=Te.t("errors.network","Hmm, we ran into a problem trying to save your changes. It could just be that your internet connection is not working well at the moment. Please wait a minute or so and try again."),Lr=Te.t("errors.server","Hmm, we ran into a problem trying to save your changes. If this problem persists, take note of the change you are trying to make and contact support."),Mr=function(e){window.setInterval((function(){Fr<zr&&(new Date).getTime()-zr>6e4&&e(Vr({modalMessage:{title:"Uh oh, we couldn't save your changes",body:Ir},saving:!1}))}),5e3)},qr=function(e,t,a){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;zr=(new Date).getTime(),Dr&&window.clearTimeout(Dr);var o=a(),s=o.flowContext,i=s.definition,r=s.nodes,l=s.assetStore,u=s.issues,c=o.editorState.currentRevision;t(Vr({saving:!0}));var d=yl(i,r,!0);d.revision=c,Dr=Pr?window.setTimeout((function(){Ur()}),1e3):window.setTimeout((function(){Pr=!0,ot(e,d).then((function(e){var a=e.revision;i.revision=a.revision,t(Me(i)),t(Ve(Sl(u,e.issues))),e.metadata&&t(Be(e.metadata));var n=Wo(l,a);t(Ge(n)),t(Vr({currentRevision:a.revision,saving:!1,activityInterval:5e3})),Fr=(new Date).getTime(),Pr=!1}),(function(e){var a=Ir;e.response&&500===e.response.status&&(a=Lr),e.response&&e.response.data&&e.response.data.description&&(a=e.response.data.description),t(Vr({modalMessage:{title:"Uh oh, we couldn't save your changes",body:a},saving:!1})),Pr=!1}))}),n)}},Vr=function(e){return function(t,a){var n=a().editorState,o=ea()(n,{$merge:e});return t(function(e){return{type:ye.UPDATE_EDITOR_STATE,payload:{editorState:e}}}(o)),o}},Br=function(){return function(e,t){Ur(0)}},Gr=function(e,t){return function(a,n){var o=e.definition,s=n(),i=s.flowContext.issues;s.editorState.fetchingFlow||a(Vr({fetchingFlow:!0})),o.localization=o.localization||{},o._ui=o._ui||{nodes:{},languages:[],stickies:{}};var r,l=0,u=Object(N.a)(o.nodes);try{for(u.s();!(r=u.n()).done;){var c=r.value;o._ui.nodes[c.uuid]||(o._ui.nodes[c.uuid]={position:{left:0,top:l},type:El(c)},l+=150)}}catch(_){u.e(_)}finally{u.f()}var d,p,m=wl(o);Nl(t.fields.items,m.fields),Nl(t.groups.items,m.groups),Nl(t.labels.items,m.labels),Nl(t.results.items,m.results),o.language&&(d=t.languages.items[o.language]),d||(d=Ie,a(Vr({language:Ie})),Nl(t.languages.items,{base:Ie})),e.issues?a(Ve(Sl(i,e.issues))):a(Ve({})),a((p=d,{type:ye.UPDATE_BASE_LANGUAGE,payload:{baseLanguage:p}})),a(Be(e.metadata)),a(Me(function(e){return Vo(e,{nodes:[],_ui:{$merge:{nodes:{}}}})}(o))),a(qe(m.renderNodeMap)),a(Ge(t)),a(Vr({language:d,fetchingFlow:!1}));var h=document.querySelector("temba-store");h&&h.setKeyedAssets("results",Object.keys(t.results.items))}},Hr=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(Ye.a)(Ke.a.mark((function n(o,s){var i,r;return Ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o(Vr({fetchingFlow:!0})),i=s(),r=i.flowContext.assetStore,Object.keys(r).length){n.next=6;break}return n.next=5,dt(e);case 5:r=n.sent;case 6:xl(e.activity,o,s,t),window.triggerActivityUpdate=function(){xl(e.activity,o,s,t)},pt(r.revisions).then((function(e){var t=e.definition?e:{definition:e,metadata:{issues:[]}};o(Gr(t,r)),o(Vr({currentRevision:t.definition.revision})),Ur=qr(r.revisions.endpoint,o,s),a&&Ur(0),Mr(o)})).catch((function(e){console.error(e)}));case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Wr=function(e,t){return function(a,n){var o=n().flowContext.assetStore,s=ea()(o,Object(x.a)({},e,{items:{$merge:Object(x.a)({},t.id,t)}})),i=document.querySelector("temba-store");i&&i.setKeyedAssets(e,Object.keys(s[e])),a(Ge(s))}},Kr=function(e){return function(t,a){var n=a(),o=n.flowContext.baseLanguage,s=n.editorState,i=s.translating,r=s.language;jr()(e,o)?t(Vr({translating:!1})):i||t(Vr({translating:!0})),jr()(e,r)||t(Vr({language:e}))}},Yr=function(e,t){return function(a,n){var o=function(e,t,a){var n=e;return n.localization[t]||(n=Vo(n,{localization:Object(x.a)({},t,Z({}))})),a.forEach((function(e){var a=e.translations,o=e.uuid;if(a){for(var s={},i=0,r=Object.keys(a);i<r.length;i++){var l=r[i],u=a[l];Array.isArray(u)?s[l]=u:s[l]=[u]}n=Vo(n,{localization:Object(x.a)({},t,Object(x.a)({},o,Z(s)))})}else n=Vo(n,{localization:Object(x.a)({},t,J([o]))})})),n}(n().flowContext.definition,e,t);return a(Me(o)),Ur(),o}},Xr=function(e,t,a){return function(n,o){var s=o().flowContext.nodes,i=Ko(s,e,t,a);return n(qe(i)),Ur(),i}},Zr=function(e,t){return function(a,n){return a(Xr(e,t,null))}},Qr=function(e,t){return function(a,n){var o=e.split(":"),s=Object(S.a)(o,2),i=s[0],r=s[1];return a(Xr(i,r,t))}},Jr=function(e){return function(t,a){var n=a().flowContext,o=n.nodes,s=n.assetStore;if(e.router&&e.router.result_name){var i=Go(e.router.result_name,s,{nodeUUID:e.uuid});t(Ge(i))}var r=Zo(o,e.uuid);return t(qe(r)),Ur(),r}},$r=function(e,t){return function(a,n){var o=n().flowContext,s=o.nodes,i=o.assetStore,r=s[e];if(t.type===Ue.set_run_result){var l=Go(t.name,i,{nodeUUID:e,actionUUID:t.uuid});a(Ge(l))}if(1===r.node.actions.length){var u=a(Jr(r.node));return Ur(),u}var c=function(e,t,a){var n=ml(e,t),o=_l(n.node,a);return Vo(e,Object(x.a)({},t,{node:{actions:ee([[o,1]])}}))}(s,e,t.uuid);return a(qe(c)),Ur(),c}},el=function(e,t){return function(a,n){var o=function(e,t,a){var n=ml(e,t),o=n.node.actions,s=_l(n.node,a);if(0===s)throw new Error("Cannot move an action at the top upwards");var i=o[s],r=o[s-1];return Vo(e,Object(x.a)({},t,{node:{actions:ee([[s-1,2,i,r]])}}))}(n().flowContext.nodes,e,t.uuid);return a(qe(o)),Ur(),o}},tl=function(e){return function(t){t(function(e){return{type:ye.UPDATE_TYPE_CONFIG,payload:{typeConfig:e}}}(e))}},al=function(){return function(e,t){e(Vr({ghostNode:null})),e(na(null))}},nl=function(e,t){return function(a,n){var o=n(),s=o.nodeEditor,i=s.userAddingAction,r=s.settings,l=o.flowContext,u=l.nodes,c=l.contactFields,d=l.assetStore;if(null==r||null==r.originalNode)throw new Error("Need originalNode in settings to update an action");var p=r.originalNode,m=r.originalAction,h=d;if(m&&m.type===Ue.set_run_result){var _=m.name;h=Go(_,h,{nodeUUID:p.node.uuid,actionUUID:e.uuid})}var g=u,v=null;if(!(null===p||!p.ghost)){var f={node:{uuid:te(),actions:[e],exits:[{uuid:te(),destination_uuid:null}]},ui:{position:p.ui.position,type:Ue.execute_actions},inboundConnections:p.inboundConnections};g=Yo(u,f),v=f.node.uuid}else v=p.node.uuid,g=i?function(e,t,a){return ml(e,t),Vo(e,Object(x.a)({},t,{node:{actions:$([a])}}))}(u,p.node.uuid,e):p.node.hasOwnProperty("router")?Xo(u,p.node.uuid,e):function(e,t,a,n){var o=ml(e,t),s=n?_l(o.node,n.uuid):0;return Vo(e,Object(x.a)({},t,{node:{actions:Object(x.a)({},s,Z(a))}}))}(u,p.node.uuid,e,m);(a(qe(g)),a(oa(!1)),e.type===Ue.set_run_result)&&(h=function(e,t,a){if(e){var n=Ho(e,t.results.items,a);return Vo(t,{results:{items:{$set:n}}})}}(e.name,h,{nodeUUID:v,actionUUID:e.uuid}),a(Ge(h)));if(e.type===Ue.set_contact_field){var y=e.field;a(function(e){return{type:ye.UPDATE_CONTACT_FIELDS,payload:{contactFields:e}}}(Object(k.a)({},c,Object(x.a)({},y.key,y.name))))}return Ur(0),t&&t(a,n),g}},ol=function(e){return function(t,a){var n=a().flowContext.nodes,o={uuid:te(),type:Ue.send_msg,text:""};t(na({originalNode:ml(n,e.uuid),originalAction:o,showAdvanced:!1})),Ur(),t(oa(!0)),t(tl(br(Ue.send_msg))),t(Vr(Tr))}},sl=function(e){return function(t,a){var n=a().flowContext,o=n.nodes,s=n.definition,i=o,r=s,l=!1,u=!1;return e.forEach((function(e){e in i?(i=Zo(i,e,!0),l=!0):e in r._ui.stickies&&(r=$o(r,e,null),u=!0)})),l&&t(qe(i)),u&&t(Me(r)),(u||l)&&Ur(),o}},il=function(e){return function(t,a){var n=a().flowContext,o=n.nodes,s=n.definition,i=o,r=!1,l=!1;for(var u in e)i[u]?(i=Qo(i,u,e[u]),r=!0):s._ui.stickies[u]&&(s=Jo(s,u,e[u]),l=!0);var c=!1;return r&&(c=!0,t(qe(i))),l&&(c=!0,t(Me(s))),c&&Ur(),i}},rl=function(e,t){return function(a,n){for(var o=n().flowContext,s=o.nodes,i=o.assetStore,r=e.sourceId.split(":"),l=Object(S.a)(r,2),u=l[0],c=l[1],d=s[u],p=Object.keys(i.results?i.results.items:{}),m=p.length+1,h="result_".concat(m);ne(p,h);)m++,h="result_".concat(m);var _=kl(d,c,m,t);_.inboundConnections=Object(x.a)({},c,u),a(Vr({ghostNode:_}))}},ll=function(e,t){return function(a,n){var o=n().flowContext.definition,s=$o(o,e,t);a(Me(s)),Ur()}},ul=function(e){return function(t,a){var n,o,s=a(),i=s.flowContext,r=i.nodes,l=i.assetStore,u=s.nodeEditor.settings,c=u.originalNode,d=u.originalAction,p=r;if(c){var m=c.ui.position;e.ui.position=m,e.inboundConnections=c.inboundConnections}if(c.ghost){e.inboundConnections=c.inboundConnections;var h=c.ui.position,_=h.left,g=h.top;e.ui.position={left:_,top:g},e.node=Bo(e.node)}if(qo(e.node)){var v=l,f=qo(c.node);f&&(v=Go(f,v,{nodeUUID:c.node.uuid})),v=function(e,t){var a=e;a||(a={results:{items:{},type:je.Result}}),a.results||(a.results={items:{},type:je.Result});var n=qo(t);if(n){var o=Ho(n,e.results.items,{nodeUUID:t.uuid});return Vo(e,{results:{items:{$set:o}}})}return e}(v,e.node),t(Ge(v))}if(c&&d&&!c.ghost&&!Po(c.node)){var y=c.node.actions.find((function(e){return e.uuid===d.uuid}));if(y)return e.ui.position.top=c.ui.position.top,t((n=e,o={nodeUUID:c.node.uuid,actionUUID:y.uuid},function(e,t){var a=t().flowContext.nodes,s=a[o.nodeUUID],i=a;i=Zo(i,s.node.uuid,!1),n.node=Bo(n.node);var r,l,u=_l(s.node,o.actionUUID),c=u>0?Object(ve.a)(s.node.actions.slice(0,u)):[],d=s.node.actions.slice(u+1,s.node.actions.length),p=s.ui.position,m=p.left,h=p.top;return c.length>0?(r={node:{uuid:te(),actions:c,exits:[{uuid:te(),destination_uuid:null}]},ui:{position:{left:m,top:h}},inboundConnections:Object(k.a)({},s.inboundConnections)},i=Yo(i,r),h+=F,n.inboundConnections=Object(x.a)({},r.node.exits[0].uuid,r.node.uuid),n.ui.position.top+=F):n.inboundConnections=Object(k.a)({},s.inboundConnections),i=Yo(i,n),d.length>0?(l={node:{uuid:te(),actions:d,exits:[{uuid:te(),destination_uuid:s.node.exits[0].destination_uuid}]},ui:{position:{left:m,top:h}},inboundConnections:Object(x.a)({},n.node.exits[0].uuid,n.node.uuid)},i=Yo(i,l)):i=Ko(i,n.node.uuid,n.node.exits[0].uuid,s.node.exits[0].destination_uuid),e(qe(i)),Ur(),i}));var b=Po(e.node);if(b){var E=b.categories.find((function(e){return e.uuid===b.default_category_uuid}));e.node.exits.find((function(e){return e.uuid===E.exit_uuid})).destination_uuid=c.node.exits[0].destination_uuid}e.inboundConnections=Object(x.a)({},c.node.exits[0].uuid,c.node.uuid),e.node=Bo(e.node),e.ui.position.top+=F,p=Yo(p,e)}else p=Yo(p,e);return t(qe(p)),Ur(0),p}},cl=function(e){return function(t,a){var n=a(),o=n.flowContext.definition.localization,s=n.editorState,i=s.language,r=s.translating,l=e.originalNode,u=e.originalAction,c=l.node;if(e.localizations=[],r){var d,p=u;if(!p&&c.actions.length>0&&(p=c.actions[c.actions.length-1]).type!==Ue.send_msg&&p.type!==Ue.send_broadcast)return;var m=o[i.id];(d=e.localizations).push.apply(d,Object(ve.a)(fl(c,p,i,m)))}!u&&c.actions.length>0&&(u=c.actions[c.actions.length-1]);var h=en(e);t(tl(h)),t(na(e)),t(Vr(Tr))}},dl=function(e){return function(t,a){var n=a().flowContext.definition;n._ui.translation_filters=e,t(Me(n)),Ur()}},pl=null,ml=function(e,t){var a=e[t];if(!a)throw new Error("Cannot find node "+t);return a},hl=function(e,t){var a,n=Object(N.a)(e.exits.entries());try{for(n.s();!(a=n.n()).done;){var o=Object(S.a)(a.value,2),s=o[0];if(o[1].uuid===t)return s}}catch(i){n.e(i)}finally{n.f()}throw new Error("Cannot find exit "+t)},_l=function(e,t){var a,n=Object(N.a)(e.actions.entries());try{for(n.s();!(a=n.n()).done;){var o=Object(S.a)(a.value,2),s=o[0];if(o[1].uuid===t)return s}}catch(i){n.e(i)}finally{n.f()}throw new Error("Cannot find action "+t)},gl=function(e){var t=kr(e);return function(e){return!(!e.node.router||!e.node.router.wait)}(e)||t===Ue.split_by_expression||t===Ue.split_by_subflow},vl=function e(t,a,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=t[a],i=t[n];if(a===n)throw new Error("Flow loop detected, can't point to self");if(!gl(i)&&!gl(s))if(0!==o.length){if(n===o[0])throw new Error("Flow loop detected, route through a wait first");o.push(n);var r,l=Object(N.a)(i.node.exits);try{for(l.s();!(r=l.n()).done;){var u=r.value;u.destination_uuid&&e(t,n,u.destination_uuid,o)}}catch(m){l.e(m)}finally{l.f()}}else{o.push(a);var c,d=Object(N.a)(i.node.exits);try{for(d.s();!(c=d.n()).done;){var p=c.value;p.destination_uuid&&e(t,i.node.uuid,p.destination_uuid,o)}}catch(m){d.e(m)}finally{d.f()}}},fl=function(e,t,a,n){var o=[];e.router&&e.router.type===s.switch&&e.router.cases.forEach((function(e){return o.push(A.translate(e,a,n))}));if(t&&(o.push(A.translate(t,a,n)),t.type===Ue.send_msg)){var i=t;i.templating&&o.push(A.translate(i.templating,a,n))}return e.router&&e.router.categories.forEach((function(e){e.name&&o.push(A.translate(e,a,n))})),o},yl=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=bl(t),o=[];n.forEach((function(e){return o.push(e.node)}));for(var s={},i=0,r=Object.keys(t);i<r.length;i++){var l=r[i];s[l]=t[l].ui}var u=Object(k.a)({},e,{nodes:o});return a&&(u._ui={nodes:s,stickies:e._ui.stickies,languages:e._ui.languages,translation_filters:e._ui.translation_filters}),u},bl=function(e){var t=[];return Object.keys(e).forEach((function(a){t.push(e[a])})),t.sort((function(e,t){var a=e.ui.position.top-t.ui.position.top;return 0===a&&(a=e.ui.position.left-t.ui.position.left),a}))},kl=function(e,t,a,n){var o,l,u={uuid:te(),actions:[],exits:[{uuid:te(),destination_uuid:null}]},c=Ue.execute_actions;if(!e||(l=e)&&l.node.router||n===Ae.MESSAGING_BACKGROUND){var d=n===Ae.VOICE?Ue.say_msg:Ue.send_msg,p={uuid:te(),text:"",type:d};u.actions.push(p)}else{var m=[{uuid:te(),name:io.All_Responses,exit_uuid:u.exits[0].uuid}],h={type:i.msg};c=Ue.wait_for_response,n===Ae.VOICE&&(h.hint={type:r.digits,count:1}),u.router={type:s.switch,result_name:(o=a,"Result ".concat(o)),default_category_uuid:m[0].uuid,categories:m,wait:h,cases:[]}}var _={};return e&&(_=Object(x.a)({},t,e.node.uuid)),{node:u,ui:{position:{left:0,top:0},type:c},inboundConnections:_,ghost:!0}},El=function(e){if(e.router){if(1===e.actions.length){if(e.actions[0].type===Ue.call_webhook)return Ue.split_by_webhook;if(e.actions[0].type===Ue.transfer_airtime)return Ue.split_by_airtime;if(e.actions[0].type===Ue.call_resthook)return Ue.split_by_resthook;if(e.actions[0].type===Ue.enter_flow)return Ue.split_by_subflow}if(e.router.wait)return Ue.wait_for_response;if(e.router.type===s.random)return Ue.split_by_random;var t=Po(e);return t&&"@contact.groups"===t.operand?Ue.split_by_groups:Ue.split_by_expression}return Ue.execute_actions},Cl=function(e){var t,a={},n=Object(N.a)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;a[o.id]=o}}catch(s){n.e(s)}finally{n.f()}return a},wl=function(e){var t,a,n={},o=e.nodes,s=e._ui,i={},r={},l={},u={},c={},d=Object(N.a)(o);try{for(d.s();!(t=d.n()).done;){var p=t.value;p.actions||(p.actions=[]);var m={node:p,ui:s.nodes[p.uuid],inboundConnections:{}};n[p.uuid]=m;var h=qo(p);if(h&&(c=Ho(h,c,{nodeUUID:p.uuid})),kr(m)===Ue.split_by_groups){var _,g=Po(p),v=Object(N.a)(g.cases);try{var f=function(){var e=_.value,t=e.arguments[0],a=g.categories.find((function(t){return t.uuid===e.category_uuid}));a&&t&&(r[t]={name:a.name,id:t,type:je.Group})};for(v.s();!(_=v.n()).done;)f()}catch(M){v.e(M)}finally{v.f()}}var y,b=Object(N.a)(p.actions);try{for(b.s();!(y=b.n()).done;){var k=y.value;if((a=k.type)===Ue.add_contact_groups||a===Ue.remove_contact_groups||a===Ue.send_broadcast){var E=k.groups;if(E){var C,w=Object(N.a)(E);try{for(w.s();!(C=w.n()).done;){var S=C.value;S.uuid&&(r[S.uuid]={name:S.name,id:S.uuid,type:je.Group})}}catch(M){w.e(M)}finally{w.f()}}}else if(k.type===Ue.set_contact_field){var x=k;l[x.field.key]={name:x.field.name,id:x.field.key,type:je.Field}}else if(k.type===Ue.add_input_labels){var O,j=Object(N.a)(k.labels);try{for(j.s();!(O=j.n()).done;){var T=O.value;u[T.uuid]={name:T.name,id:T.uuid,type:je.Label}}}catch(M){j.e(M)}finally{j.f()}}else if(k.type===Ue.set_run_result){var A=k,R=q(A.name);R in c?c[R].references.push({nodeUUID:p.uuid,actionUUID:k.uuid}):c[R]={name:A.name,id:R,type:je.Result,references:[{nodeUUID:p.uuid,actionUUID:k.uuid}]}}}}catch(M){b.e(M)}finally{b.f()}var U,D=Object(N.a)(p.exits);try{for(D.s();!(U=D.n()).done;){var P=U.value;if(P.destination_uuid){var z=i[P.destination_uuid];z||(z={}),z[P.uuid]=p.uuid,i[P.destination_uuid]=z}}}catch(M){D.e(M)}finally{D.f()}}}catch(M){d.e(M)}finally{d.f()}for(var F=0,I=Object.keys(i);F<I.length;F++){var L=I[F];n[L].inboundConnections=i[L]}return{renderNodeMap:n,groups:r,fields:l,labels:u,results:c,warnings:{}}},Nl=function(e,t){Object.keys(t).forEach((function(a){e[a]=e[a]||t[a]}))},Sl=function(e,t){for(var a=(t||[]).filter((function(e){return e.type!==o.LEGACY_EXTRA})).reduce((function(e,t){var a=e[t.node_uuid]||[];return a.push(t),e[t.node_uuid]=a,e}),{}),n=0,s=Object.entries(a);n<s.length;n++){var i=Object(S.a)(s[n],2),r=i[0],l=i[1];JSON.stringify(e[r])===JSON.stringify(l)&&(a[r]=e[r])}return a},xl=function e(t,a,n,o){var s=n().editorState,i=s.simulating,r=s.activityInterval;s.visible?function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(n,o){return Ze.a.get("".concat(e,"?flow=").concat(t),{headers:a}).then((function(e){return n(e.data)})).catch((function(e){return o(e)}))}))}(t,o).then((function(s){if(s){var l={liveActivity:s,activityInterval:Math.min(3e5,r+200)};i||(l.activity=s),a(Vr(l)),pl&&window.clearTimeout(pl),pl=window.setTimeout((function(){e(t,a,n,o)}),r)}})):(pl&&window.clearTimeout(pl),pl=window.setTimeout((function(){e(t,a,n,o)}),1e3))},Ol=a(106),jl=a.n(Ol),Tl=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).ele=void 0,Object(E.react)(Object(f.a)(n),{include:[/^handle/,"ref"]}),n.state={},n}return Object(v.a)(a,[{key:"ref",value:function(e){return this.ele=e}},{key:"componentDidMount",value:function(){var e=this;if(this.ele&&this.props.updateDimensions){var t=this.ele.clientWidth||this.props.position.right-this.props.position.left,a=this.ele.clientHeight||this.props.position.bottom-this.props.position.top;this.setState({width:t,height:a},(function(){e.props.updateDimensions(e.props.uuid,{width:t,height:a})}))}}},{key:"shouldComponentUpdate",value:function(e,t,a){return e.position.left!==this.props.position.left||e.position.top!==this.props.position.top||e.position.right!==this.props.position.right||e.position.bottom!==this.props.position.bottom||e.idx!==this.props.idx||e.selected!==this.props.selected||e.config!==this.props.config}},{key:"componentDidUpdate",value:function(e,t){var a=this;se((function(){if(a.ele&&a.ele.clientWidth&&a.ele.clientHeight&&(a.state.width!==a.ele.clientWidth||a.state.height!==a.ele.clientHeight)&&a.props.updateDimensions){var e=a.ele.clientHeight,t=a.ele.clientWidth;a.setState({width:t,height:e},(function(){a.props.updateDimensions(a.props.uuid,{width:t,height:e})}))}}))}},{key:"handleMouseUp",value:function(e){3!==e.nativeEvent.which&&this.props.onDragStop&&this.props.onDragStop()}},{key:"handleMouseDown",value:function(e){var t,a;(this.props.selected||"TEXTAREA"!==e.target.tagName.toUpperCase())&&(3!==e.nativeEvent.which&&this.props.onDragStart&&this.props.onDragStart(this.props.uuid,(t=e.pageX-this.props.position.left,a=e.pageY-this.props.position.top,{left:t,top:a})))}},{key:"render",value:function(){var e=this,t=[jl.a.draggable];this.props.selected&&t.push(jl.a.selected);return C.createElement("div",{"data-testid":"draggable_"+this.props.uuid,onTransitionEnd:function(){e.props.onAnimated&&e.props.onAnimated(e.props.uuid)},ref:this.ref,className:t.join(" "),style:{left:this.props.position.left,top:this.props.position.top},onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},this.props.elementCreator(this.props))}}]),a}(C.Component),Al=a(15),Rl=function(e,t,a){return!(!e.bottom||!t.bottom)&&(e.bottom+=a,!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top))},Ul=function(e,t,a){for(var n=function(e){var t=[];return Object.keys(e).forEach((function(a){t.push(Object(k.a)({},e[a],{uuid:a}))})),t.sort((function(e,t){var a=e.top-t.top;return 0===a&&(a=e.left-t.left),a}))}(e),o=function(e){var o=n[e];if(e+1<n.length)for(var s=function(e){var s=n[e];if(Rl(o,s,a)){if(e+1<n.length){var i=n[e+1];if(Rl(s,i,a))return{v:{v:[o,s,i]}}}return t.find((function(e){return s.uuid===e}))&&!t.find((function(e){return o.uuid===e}))?{v:{v:[s,o]}}:{v:{v:[o,s]}}}},i=e+1;i<n.length;i++){var r=s(i);if("object"===typeof r)return r.v}},s=0;s<n.length;s++){var i=o(s);if("object"===typeof i)return i.v}return[]},Dl=function(e,t){return M({top:t,left:e.left,bottom:t+(e.bottom-e.top),right:e.right})},Pl=a(78),zl=a.n(Pl),Fl=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(g.a)(this,a),(n=t.call(this,e)).ele=void 0,n.isScrolling=void 0,n.reflowTimeout=void 0,n.lastX=void 0,n.lastY=void 0,n.justSelected=!1,n.onDragThrottled=oe(n.props.onDragging,300),n.onMouseThrottled=oe(n.handleMouseMove.bind(Object(f.a)(n)),10);var o=document.documentElement.clientHeight,s={};return n.props.draggables.forEach((function(e){s[e.uuid]=e.position,e.position.bottom&&(o=Math.max(o,e.position.bottom+300))})),n.state={height:o,dragDownPosition:null,dragUUID:null,dragGroup:!1,dragSelection:null,uuid:n.props.uuid,selected:{},positions:s},Object(E.react)(Object(f.a)(n),{include:[/^handle/,/^render/,/^mark/,/^do/,/^ensure/]}),n}return Object(v.a)(a,[{key:"handleWindowResize",value:function(){var e=document.documentElement.clientHeight;this.setState({height:Math.max(e,this.state.height)})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize),document.addEventListener("keydown",this.handleKeyDown),this.props.onLoaded()}},{key:"handleKeyDown",value:function(e){this.state.selected&&"Backspace"===e.key&&(Object.keys(this.state.selected).length>0&&this.props.onRemoveNodes(Object.keys(this.state.selected)))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=!1,o=Object(k.a)({},this.state.positions);this.props.draggables.forEach((function(e){a.state.positions[e.uuid]||(o=ea()(o,{$merge:Object(x.a)({},e.uuid,e.position)}),n=!0)})),Object.keys(o).forEach((function(e){a.props.draggables.find((function(t){return t.uuid===e}))||(o=ea()(o,{$unset:[[e]]}),n=!0)})),n&&this.setState({positions:o})}},{key:"renderSelectionBox",value:function(){var e=this.state.dragSelection;if(e&&e.startX&&e.startY&&e.currentX&&e.currentY){var t=Math.min(e.startX,e.currentX),a=Math.min(e.startY,e.currentY),n=Math.max(e.startX,e.currentX)-t,o=Math.max(e.startY,e.currentY)-a;if(this.state.dragSelection&&this.state.dragSelection.startX)return w.a.createElement("div",{className:zl.a.drag_selection,style:{left:t,top:a,width:n,height:o}})}return null}},{key:"isClickOnCanvas",value:function(e){return 3!==e.nativeEvent.which&&"canvas"===e.target.id}},{key:"handleMouseDown",value:function(e){if(3!==e.nativeEvent.which&&this.props.mutable){var t=this.ele.getBoundingClientRect();if(this.justSelected=!1,this.isClickOnCanvas(e)){var a=e.pageX-t.left,n=e.pageY-t.top-window.scrollY;this.setState({dragSelection:{startX:a,startY:n,currentX:a,currentY:n}})}}}},{key:"handleMouseMove",value:function(e){if(this.props.mutable){if(this.props.draggingNew)return this.lastX=e.pageX,this.lastY=e.pageY,this.updateStateWithScroll(e.clientY,e.pageY),void(this.state.dragUUID&&this.updatePositions(e.pageX,e.pageY,e.clientY,!1));if(this.state.dragSelection&&this.state.dragSelection.startX){var t=this.state.dragSelection;if(t&&t.startX&&t.startY&&t.currentX&&t.currentY){var a=Math.min(t.startX,t.currentX),n=Math.min(t.startY,t.currentY),o=Math.max(t.startX,t.currentX),s=Math.max(t.startY,t.currentY),i=function(e,t){for(var a={},n=0,o=Object.keys(e);n<o.length;n++){var s=o[n],i=e[s];Rl(t,i,0)&&(a[s]=i)}return a}(this.state.positions,{left:a,top:n,right:o,bottom:s}),r=this.ele.getBoundingClientRect();this.setState({dragSelection:{startX:t.startX,startY:t.startY,currentX:e.pageX-r.left,currentY:e.pageY-r.top-window.scrollY}}),this.setState({selected:i}),Object.keys(i).length>0&&(this.justSelected=!0)}}this.state.dragUUID&&this.updatePositions(e.pageX,e.pageY,e.clientY,!1)}}},{key:"scrollCanvas",value:function(e){var t=this;if(!this.isScrolling){this.isScrolling=!0;var a=e;window.scrollY+e<0&&(a=0),this.isScrolling=window.setInterval((function(){t.lastX&&t.lastY&&(t.updatePositions(t.lastX,t.lastY+a,0,!1),window.scrollBy(0,a))}),30)}}},{key:"handleMouseUpCapture",value:function(e){this.props.mutable&&3!==e.nativeEvent.which&&(this.lastX=null,this.lastY=null,this.state.dragUUID&&this.setState({dragDownPosition:null,dragSelection:null,dragUUID:null}),this.justSelected||(this.props.mergeEditorState({dragActive:!1}),this.setState({selected:{}})),this.state.dragSelection&&this.state.dragSelection.startX&&this.setState({dragSelection:{startX:void 0,startY:void 0,currentX:void 0,currentY:void 0}}),this.justSelected=!1)}},{key:"handleUpdateDimensions",value:function(e,t){if(t.width&&t.height){var a=this.state.positions[e];a||(a=this.props.draggables.find((function(t){return t.uuid===e})).position);var n={left:a.left,top:a.top,right:a.left+t.width,bottom:a.top+t.height};n.bottom===a.bottom&&n.right===a.right||this.setState((function(t){return{positions:ea()(t.positions,{$merge:Object(x.a)({},e,n)}),height:Math.max(n.bottom+300,t.height)}}),this.markReflow)}}},{key:"ensureCanvasHeight",value:function(){var e=this,t=this.state.height;Object.keys(this.state.positions).forEach((function(a){var n=e.state.positions[a].bottom+300;n>t&&(t=n)})),t>this.state.height&&this.setState({height:t})}},{key:"doReflow",value:function(){var e=Object(k.a)({},this.state.positions);delete e[this.state.dragUUID];var t=function(e,t){for(var a=e,n=[],o=0,s=Ul(e,n,t);s.length>0&&o<100;){if(o++,s.length){var i=s,r=Object(S.a)(i,3),l=r[0],u=r[1],c=r[2];if(a=Al(a,Object(x.a)({},u.uuid,Z(Dl(u,l.bottom+F)))),n.push(u.uuid),c){var d=l.bottom+F;d+=u.bottom-u.top,a=Al(a,Object(x.a)({},c.uuid,Z(Dl(c,d)))),n.push(c.uuid)}}s=Ul(a,n,t)}return{positions:a,changed:n}}(e,5),a=t.positions,n=t.changed;n&&(this.setState({positions:a}),n&&this.props.onUpdatePositions(n.reduce((function(e,t){return e[t]=a[t],e}),{}))),this.props.onDragging(n)}},{key:"markReflow",value:function(){var e=this;this.reflowTimeout&&clearTimeout(this.reflowTimeout),this.reflowTimeout=setTimeout((function(){e.state.dragUUID||e.doReflow()}),200)}},{key:"updateStateWithScroll",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.documentElement.clientHeight;this.setState((function(e){return Object(k.a)({},n,{height:Math.max(t+300,e.height)})}),(function(){a.isScrolling||0===e?0!==e&&e>100&&e+100<o&&(window.clearInterval(a.isScrolling),a.isScrolling=null):e+100>o?a.scrollCanvas(15):e<100&&a.scrollCanvas(-15)}))}},{key:"updatePositions",value:function(e,t,a,n){if(this.state.dragUUID){var o=this.state.dragUUID;this.lastX=e,this.lastY=t;var s=this.props.dragActive?this.state.selected[o]:this.state.positions[o],i=this.ele.getBoundingClientRect();if(this.state.dragDownPosition){var r=e-i.left-this.state.dragDownPosition.left-s.left,l=t-i.top-this.state.dragDownPosition.top-s.top-window.scrollY,u=0;if(this.props.dragActive){var c={left:r,top:l},d=this.state,p=Object.keys(d.selected),m={};p.forEach((function(e){var t=function(e,t){var a=e.right-e.left,n=e.bottom-e.top,o=e.top+t.top,s=e.left+t.left;return a&&n?{left:s,top:o,right:s+a,bottom:o+n}:{top:o,left:s}}(d.selected[e],c);n&&(t=M(t)),t&&t.bottom>u&&(u=t.bottom),m[e]=t})),m=ea()(d.positions,{$merge:m}),this.updateStateWithScroll(a,u,{positions:m}),p.length<=5?this.props.onDragging(p):this.onDragThrottled(p)}else if(Math.abs(r)+Math.abs(l)>wc){var h=this.state.selected;this.state.dragUUID in h||(h=Object(x.a)({},o,this.state.positions[o])),this.props.mergeEditorState({dragActive:!0}),this.setState({selected:h})}}}}},{key:"handleDragStart",value:function(e,t){var a=this.ele.getBoundingClientRect();this.setState({dragUUID:e,dragDownPosition:{left:t.left-a.left,top:t.top-a.top-window.scrollY}})}},{key:"getSelectedPositions",value:function(){var e=this;return Object.keys(this.state.selected).reduce((function(t,a){return t[a]=e.state.positions[a],t}),{})}},{key:"handleDragStop",value:function(){this.state.dragUUID&&this.updatePositions(this.lastX,this.lastY,0,!0),this.props.onUpdatePositions(this.getSelectedPositions()),this.setState({dragUUID:null,dragDownPosition:null,dragSelection:null}),this.markReflow(),this.props.mergeEditorState({dragActive:!1})}},{key:"handleAnimated",value:function(e){this.props.onDragging([e])}},{key:"handleDoubleClick",value:function(e){if(this.isClickOnCanvas(e)){var t=this.ele.getBoundingClientRect();this.props.onDoubleClick(L(e.pageX-t.left,e.pageY-t.top-window.scrollY))}}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{id:"canvas-container",className:zl.a.canvas_container,onMouseDown:this.handleMouseDown,onMouseMove:this.onMouseThrottled,onMouseUp:this.handleMouseUpCapture,onDoubleClick:this.handleDoubleClick},w.a.createElement("div",{className:zl.a.canvas_background},w.a.createElement("div",{"data-testid":"canvas",style:{height:this.state.height},id:"canvas",ref:function(t){e.ele=t},className:zl.a.canvas},this.props.newDragElement,this.props.draggables.map((function(t,a){var n=e.state.positions[t.uuid]||t.position;return w.a.createElement(Tl,{onAnimated:e.handleAnimated,key:"draggable_"+t.uuid,uuid:t.uuid,updateDimensions:e.handleUpdateDimensions,position:n,idx:t.idx,selected:!!e.state.selected[t.uuid],elementCreator:t.elementCreator,onDragStart:e.handleDragStart,onDragStop:e.handleDragStop,dragOnAdd:t.dragOnAdd,config:t.config})})),this.renderSelectionBox())))}}]),a}(w.a.PureComponent),Il=a(88),Ll=a.n(Il),Ml=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).ele=void 0,Object(E.react)(Object(f.a)(n),{include:[/^handle/,/^get/]}),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.handleScrollIntoView()}},{key:"componentDidUpdate",value:function(e){e.count!==this.props.count&&this.handleScrollIntoView()}},{key:"handleScrollIntoView",value:function(){var e=this;this.ele&&this.props.count>0&&this.props.keepVisible&&window.setTimeout((function(){window.scrollTo({top:e.ele.getBoundingClientRect().top-200+window.scrollY,behavior:"smooth"})}),200)}},{key:"handleMouseEvent",value:function(e,t){e.preventDefault(),e.stopPropagation(),t&&t()}},{key:"handleMouseEnter",value:function(e){this.handleMouseEvent(e,this.props.onMouseEnter)}},{key:"handleMouseLeave",value:function(e){this.handleMouseEvent(e,this.props.onMouseLeave)}},{key:"handleClick",value:function(e){this.handleMouseEvent(e,this.props.onClick)}},{key:"render",value:function(){var e=this,t=this.props.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return C.createElement("div",{ref:function(t){e.ele=t},className:Ll.a.counter+" "+this.props.containerStyle+" "+(this.props.onClick?Ll.a.clickable:"")+" "+(this.props.count>0?Ll.a.visible:""),onClick:this.handleClick,"data-spec":"counter-outter"},C.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:this.props.countStyle,"data-spec":"counter-inner"},t))}}]),a}(C.Component),ql=a(46),Vl=a.n(ql),Bl=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).confirmationTimeout=void 0,n.state={confirmingRemoval:!1},n.handleConfirmRemoval=n.handleConfirmRemoval.bind(Object(f.a)(n)),n}return Object(v.a)(a,[{key:"componentWillUnmount",value:function(){this.confirmationTimeout&&window.clearTimeout(this.confirmationTimeout)}},{key:"handleMouseUpCapture",value:function(e){e&&(e.preventDefault(),e.stopPropagation())}},{key:"handleConfirmRemoval",value:function(e){var t=this;e&&(e.preventDefault(),e.stopPropagation()),this.setState({confirmingRemoval:!0}),this.confirmationTimeout=window.setTimeout((function(){return t.setState({confirmingRemoval:!1})}),2e3)}},{key:"getMoveArrow",value:function(){return this.props.showMove&&this.context.config.mutable?C.createElement("div",Object.assign({className:Vl.a.up_button},G(this.props.onMoveUp,this.props.shouldCancelClick,this.handleMouseUpCapture),{"data-testid":"move-icon"}),C.createElement("span",{className:"fe-arrow-up"})):C.createElement("div",{className:Vl.a.up_button,"data-spec":"move"})}},{key:"getRemove",value:function(){var e=C.createElement("div",{className:Vl.a.remove_button,"data-testid":"remove-icon"});return this.props.showRemoval&&this.context.config.mutable&&(e=C.createElement("div",Object.assign({className:Vl.a.remove_button},G(this.handleConfirmRemoval,this.props.shouldCancelClick,this.handleMouseUpCapture),{"data-testid":"remove-icon"}),C.createElement("span",{className:"fe-x"}))),e}},{key:"getConfirmationEl",value:function(){var e;return this.state.confirmingRemoval&&this.context.config.mutable&&(e=C.createElement("div",{className:Vl.a.remove_confirm,"data-spec":"confirmation"},C.createElement("div",{className:Vl.a.up_button,"data-spec":"move"}),C.createElement("div",{className:Vl.a.titletext},Te.t("removal_confirmation","Remove?")),C.createElement("div",Object.assign({className:Vl.a.remove_button},G(this.props.onRemoval,this.props.shouldCancelClick,this.handleMouseUpCapture),{"data-testid":"confirm-removal"}),C.createElement("span",{className:"fe-x"})))),e}},{key:"render",value:function(){var e=this.getConfirmationEl(),t=this.getMoveArrow(),a=this.getRemove();return C.createElement("div",{className:Vl.a.titlebar,"data-spec":"titlebar-container"},C.createElement("div",{className:"".concat(this.props.__className," ").concat(Vl.a.normal),"data-spec":"titlebar"},t,C.createElement("div",{className:Vl.a.titletext},this.props.title),a),e)}}]),a}(C.Component);Bl.contextTypes={config:jt};var Gl=a(30),Hl=a(89),Wl=a.n(Hl),Kl=Pt.a.bind(Wl.a),Yl=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).ele=void 0,n.handleScroll=void 0,n.state={pulse:!1},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.handleScrollCompleted.bind(this),a=null;this.handleScroll=function(){null!==a&&window.clearTimeout(a),a=window.setTimeout((function(){t(),window.removeEventListener("scroll",e.handleScroll)}),50)},window.addEventListener("scroll",this.handleScroll),this.handleScrollIntoView()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScrollCompleted",value:function(){this.setState({pulse:!0})}},{key:"handleScrollIntoView",value:function(){if(this.ele){var e=this.ele.getBoundingClientRect().top-200+window.scrollY;if(e!==window.scrollY)window.innerHeight+window.scrollY>=document.body.scrollHeight-2&&e>window.scrollY?this.handleScrollCompleted():window.setTimeout((function(){window.scrollTo({top:e,behavior:"smooth"})}),0);else this.handleScrollCompleted()}}},{key:"render",value:function(){var e,t=this,a=Kl((e={},Object(x.a)(e,Wl.a.wrapper,!0),Object(x.a)(e,Wl.a.pulse,this.state.pulse),e));return C.createElement("div",{className:a,ref:function(e){t.ele=e}},this.props.children)}}]),a}(C.Component),Xl=Pt.a.bind(Object(k.a)({},pe.a,{},$a.a)),Zl=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),n=t.call(this,e),Object(E.react)(Object(f.a)(n),{include:[/^on/,/^handle/]}),n}return Object(v.a)(a,[{key:"handleActionClicked",value:function(e){var t=e.target,a=t&&t.attributes&&"true"===t.getAttribute("data-advanced");this.props.onOpenNodeEditor({originalNode:this.props.renderNode,originalAction:this.props.action,showAdvanced:a})}},{key:"handleRemoval",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.props.removeAction(this.props.renderNode.node.uuid,this.props.action)}},{key:"handleMoveUp",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.props.moveActionUp(this.props.renderNode.node.uuid,this.props.action)}},{key:"getAction",value:function(){return this.props.translating?H(this.props.action,this.props.localization,this.props.language).getObject():this.props.action}},{key:"getClasses",value:function(){var e,t=[],a=!1;if(this.props.translating&&(this.props.action.type!==Ue.send_msg&&this.props.action.type!==Ue.send_broadcast&&this.props.action.type!==Ue.say_msg||t.push("text"),this.props.action.type===Ue.send_email&&t.push("subject"),0!==t.length)){var n=H(this.props.action,this.props.localization,this.props.language);if(n.isLocalized()){var o,s=Object(N.a)(t);try{for(s.s();!(o=s.n()).done;){if(!(o.value in n.localizedKeys)){a=!0;break}}}catch(r){s.e(r)}finally{s.f()}}else a=!0}var i=this.props.translating&&0===t.length;return Xl((e={},Object(x.a)(e,$a.a.action,!0),Object(x.a)(e,$a.a.has_router,this.props.renderNode.node.hasOwnProperty("router")&&null!==this.props.renderNode.node.router),Object(x.a)(e,$a.a.translating,this.props.translating),Object(x.a)(e,$a.a.not_localizable,i),Object(x.a)(e,$a.a.missing_localization,a),Object(x.a)(e,$a.a.localized,!i&&!a),e))}},{key:"render",value:function(){var e=this,t=br(this.props.action.type).name,a=this.getClasses(),n=this.getAction(),o=pe.a[this.props.action.type]||pe.a.missing,s=$a.a[this.props.action.type]||$a.a.missing,i=!this.props.translating,r=!this.props.first&&!this.props.translating;tn(this.props.issues,this.props.translating,this.props.language)&&(o=pe.a.missing);var l=this.context.config.mutable?G(this.handleActionClicked,(function(){return e.props.selected})):{},u=C.createElement(C.Fragment,null,C.createElement(Bl,{__className:o,title:t,onRemoval:this.handleRemoval,showRemoval:i,showMove:r,onMoveUp:this.handleMoveUp,shouldCancelClick:function(){return e.props.selected}}),C.createElement("div",{className:$a.a.body+" "+s,"data-spec":"action-body"},this.props.render(n,this.context.config.endpoints)));return C.createElement("div",{id:"action-".concat(this.props.action.uuid),className:a,"data-spec":"action-container"},C.createElement("div",{className:$a.a.overlay,"data-spec":"action-overlay"}),C.createElement("div",Object.assign({},l,{"data-spec":"interactive-div"}),this.props.scrollToAction&&this.props.scrollToAction===this.props.action.uuid?C.createElement(Yl,{pulseAfterScroll:!0},u):u))}}]),a}(C.Component);Zl.contextTypes={config:jt};var Ql,Jl=Object(Gl.b)((function(e){var t=e.flowContext,a=t.assetStore,n=t.definition.localization,o=e.editorState,s=o.language,i=o.translating;return{scrollToAction:o.scrollToAction,assetStore:a,language:s,translating:i,localization:n}}),(function(e){return Object(fe.bindActionCreators)({onOpenNodeEditor:cl,removeAction:$r,moveActionUp:el},e)}),null,{forwardRef:!0})(Zl),$l=a(58),eu=a.n($l),tu=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={visible:!1},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.setTimeout((function(){e.state.visible||e.setState({visible:!0})}),100)}},{key:"render",value:function(){return C.createElement("div",{className:eu.a.drag_helper+" "+(this.state.visible?eu.a.visible:"")},C.createElement("div",{className:eu.a.arrow},C.createElement("div",{className:eu.a.tail}),C.createElement("div",{className:eu.a.head})),C.createElement("div",{className:eu.a.help_text},C.createElement(ke.a,{i18nKey:"drag_helper"},"To connect nodes, ",C.createElement("span",{className:eu.a.bold},"drag")," from the red circle.")))}}]),a}(C.Component),au=function(e){return e.uuid+":"+e.destination_uuid},nu=a(153),ou=a.n(nu),su=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},iu=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={color:su(e.color)},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return C.createElement("div",{className:ou.a.loading,style:{width:this.props.size*this.props.units*2,height:this.props.size}},ae(0,this.props.units).map((function(t){return C.createElement("div",{key:"ball_".concat(t),style:{borderRadius:e.props.square?"0":"50%",width:e.props.size,height:e.props.size,margin:e.props.size/3,animationDelay:"-".concat(1-t*(1/e.props.units),"s"),background:"rgba(".concat(e.state.color.r,",").concat(e.state.color.g,",").concat(e.state.color.b,", ").concat(1-t*(1/e.props.units),")")}})})))}}]),a}(C.Component),ru=a(154),lu=a(27),uu=a.n(lu),cu=a(38),du=a.n(cu),pu=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).el=null,n.portalRoot=null,n.el=document.createElement("div"),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.setTimeout((function(){e.portalRoot=document.getElementById(e.props.id||"portal-root"),e.portalRoot&&e.portalRoot.appendChild(e.el)}),100)}},{key:"componentWillUnmount",value:function(){this.portalRoot&&this.el.remove()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.id&&e.id!==this.props.id&&window.setTimeout((function(){t.portalRoot=document.getElementById(t.props.id||"portal-root"),t.portalRoot.appendChild(t.el)}),100)}},{key:"render",value:function(){return du.a.createPortal(this.props.children,this.el)}}]),a}(C.Component),mu=(te(),function(){var e=new Date,t=e.getMinutes(),a=""+t;return t<10&&(a="0"+t),Math.abs(12-e.getHours())+":"+a}),hu=function(e){return!!["msg_created","msg_received","ivr_created"].find((function(t){return t===e.type}))},_u=function(e){return!!["msg_created","ivr_created"].find((function(t){return t===e.type}))},gu=a(155),vu=a.n(gu),fu=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e={content:{marginLeft:"auto",marginRight:"auto",marginTop:"40px",bottom:"initial",padding:"none",borderRadius:"none",outline:"none",width:this.props.width?this.props.width:"700px",border:"none"}};return C.createElement(vu.a,{ariaHideApp:!1,isOpen:this.props.show,onAfterOpen:this.props.onModalOpen,onRequestClose:this.props.onClose,style:e,shouldCloseOnOverlayClick:!1,contentLabel:"Modal"},this.props.children)}}]),a}(C.Component),yu=a(23),bu=a.n(yu),ku=a(125);!function(e){e[e.MT=0]="MT",e[e.MO=1]="MO"}(Ql||(Ql={}));var Eu,Cu=function(e){return e===Ql.MO?bu.a.msg_received:bu.a.send_msg},wu=function(e){return C.createElement("div",{className:bu.a.error},C.createElement("span",null,"Error: ",e))},Nu=function(e){return C.createElement("div",{key:e,className:bu.a.info},C.createElement("span",{dangerouslySetInnerHTML:{__html:e}}))},Su=function(e,t,a){var n=t||[];return C.createElement("div",{className:Cu(a)},n.map((function(t){return C.createElement("div",{key:e+t},function(e){var t=e.indexOf(":");if(t>-1){var a=e.substr(0,t),n=e.substr(t+1);if(a.startsWith("audio"))return C.createElement("div",{className:bu.a.audio_attachment},C.createElement("div",{className:bu.a.media_player},C.createElement(Cn,{url:n})),C.createElement("div",{className:bu.a.audio_text},"Audio Recording"));if(a.startsWith("image"))return C.createElement("img",{src:n,alt:"Attachment"});if(a.startsWith("application"))return C.createElement("div",{onClick:function(){window.open(n)},style:{cursor:"pointer",textDecoration:"none",padding:"10px 12px",background:"#e6e6e6",color:"#666"}},C.createElement("div",{style:{display:"flex",alignItems:"center"}},C.createElement("div",{className:"fe-document-file-pdf",style:{textDecoration:"none",fontSize:"20px"}}),C.createElement("div",{style:{marginLeft:"5px",lineHeight:"16px"}},Te.t("document","Document"))));if(a.startsWith("geo"))return C.createElement("img",{src:ku,alt:"Attachment"});if(a.startsWith("video"))return C.createElement("div",{className:bu.a.video_attachment},C.createElement("video",{controls:!0,src:n}))}return null}(t))})),e?e.trim().split("\n").map((function(e,t){return C.createElement("div",{key:te(),className:bu.a.msg_text},e)})):null)},xu=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={detailsVisible:!1},n.showDetails=n.showDetails.bind(Object(f.a)(n)),n.getButtons=n.getButtons.bind(Object(f.a)(n)),n}return Object(v.a)(a,[{key:"getButtons",value:function(){var e=this;return{primary:{name:"Ok",onClick:function(){e.setState({detailsVisible:!1})}}}}},{key:"showDetails",value:function(){this.setState({detailsVisible:!0})}},{key:"renderGroupsChanged",value:function(){var e=[];if(this.props.groups_added){var t=Te.t("simulator.added_to_group","Added to");e.push(t+" "+this.renderValueList(this.props.groups_added.map((function(e){return e.name}))))}if(this.props.groups_removed){var a=Te.t("simulator.removed_from_group","Removed from");e.push(a+" "+this.renderValueList(this.props.groups_removed.map((function(e){return e.name}))))}return Nu(e.join(". "))}},{key:"renderLabelsAdded",value:function(){var e=Te.t("simulator.input_labels_added","Message labeled with");return Nu(e+" "+this.renderValueList(this.props.labels.map((function(e){return e.name}))))}},{key:"renderEmailSent",value:function(){var e=this.props.to||this.props.addresses;return this.renderClickable(C.createElement("div",{className:bu.a.info+" "+bu.a.email},C.createElement(ke.a,{i18nKey:"simulator.sent_email.summary",values:{recipients:this.renderValueList(e),subject:this.props.subject}},'Sent email to [[recipients]] with subject "[[subject]]"')),C.createElement(ge,{title:Te.t("simulator.sent_email.title","Email Details"),headerClass:Ue.send_email,buttons:this.getButtons(),noPadding:!0},C.createElement("div",{className:bu.a.email_details},C.createElement("div",{className:bu.a.to},Te.t("email.to","To"),": ",this.renderValueList(e)),C.createElement("div",{className:bu.a.subject},Te.t("email.subject","Subject"),": ",this.props.subject),C.createElement("div",{className:bu.a.body},this.props.body))))}},{key:"renderHTTPRequest",value:function(e,t){return this.renderClickable(C.createElement("div",{className:bu.a.info+" "+bu.a.webhook},C.createElement("span",null,"Called ",t.url)),C.createElement(ge,{title:Te.t("simulator.httplog_dialog","HTTP Request Details"),headerClass:e,buttons:this.getButtons(),noPadding:!0},C.createElement("div",{className:bu.a.webhook_details},C.createElement("div",{className:""},t.request),C.createElement("div",{className:bu.a.response},t.response))))}},{key:"renderWebhook",value:function(e){var t=this;return this.props.http_logs?C.createElement(C.Fragment,null,this.props.http_logs.map((function(a){return t.renderHTTPRequest(e,a)}))):this.props.url?this.renderHTTPRequest(e,this.props):void 0}},{key:"renderClickable",value:function(e,t){return C.createElement("div",{key:this.props.step_uuid},C.createElement("div",{className:bu.a.has_detail,onClick:this.showDetails},e),C.createElement(fu,{show:this.state.detailsVisible},C.createElement("div",{className:bu.a.event_viewer},t)))}},{key:"renderClassification",value:function(){var e=this;return C.createElement("table",{className:bu.a.classification},C.createElement("tbody",null,(this.props.extra.intents||[]).map((function(e){return C.createElement("tr",{key:e.name+e.confidence},C.createElement("td",null,e.name),C.createElement("td",null,"intent"),C.createElement("td",null,e.confidence.toFixed(3)))})),Object.keys(this.props.extra.entities||[]).map((function(t){return e.props.extra.entities[t].map((function(e){return t!==e.value?C.createElement("tr",{key:e.value+e.confidence},C.createElement("td",null,e.value),C.createElement("td",null,t),C.createElement("td",null,e.confidence.toFixed(3))):null}))}))))}},{key:"renderLogEvent",value:function(){if(this.props.extra&&this.props.extra.intents)return this.renderClassification();switch(this.props.type){case"msg_received":return Su(this.props.msg.text,this.props.msg.attachments,Ql.MO);case"msg_created":case"ivr_created":return Su(this.props.msg.text,this.props.msg.attachments,Ql.MT);case"error":case"failure":return wu(this.props.text);case"msg_wait":return Nu(Te.t("simulator.msg_wait","Waiting for reply"));case"contact_groups_changed":return this.renderGroupsChanged();case"contact_urns_changed":return Nu("Added a URN for the contact");case"contact_field_changed":var e=this.getValue(this.props.value);return Nu(""!==e?Te.t("simulator.contact_field_changed",'Set contact "[[field]]" to "[[value]]"',{field:this.props.field.name,value:this.getValue(this.props.value)}):Te.t("simulator.contact_field_cleared",'Cleared contact "[[field]]"',{field:this.props.field.name}));case"run_result_changed":return Nu(Te.t("simulator.run_result_changed",'Set result "[[field]]" to "[[value]]"',{field:this.props.name,value:this.getValue(this.props.value)}));case"contact_name_changed":return Nu(Te.t("simulator.contact_name_changed",'Set contact name to "[[name]]"',{name:this.props.name}));case"email_created":case"email_sent":return this.renderEmailSent();case"broadcast_created":return Su(this.props.translations[this.props.base_language].text,this.props.msg?this.props.msg.attachments:[],Ql.MT);case"resthook_called":return Nu(Te.t("simulator.resthook_called",'Triggered flow event "[[resthook]]"',{resthook:this.props.resthook}));case"service_called":if("classifier"===this.props.service)return this.renderWebhook(Ue.call_classifier);break;case"webhook_called":return this.renderWebhook(Ue.call_webhook);case"flow_entered":return Nu(Te.t("simulator.flow_entered",'Entered flow "[[flow]]"',{flow:this.props.flow.name}));case"session_triggered":return Nu(Te.t("simulator.session_triggered",'Started somebody else in "[[flow]]"',{flow:this.props.flow.name}));case"contact_language_changed":return Nu(Te.t("simulator.contact_language_changed",'Set preferred language to "[[language]]"',{language:this.props.language}));case"contact_status_changed":return Nu(Te.t("simulator.contact_status_changed",'Set status to "[[status]]"',{status:this.props.status}));case"info":return Nu(this.props.text);case"input_labels_added":return this.renderLabelsAdded();case"environment_refreshed":return null;case"ticket_opened":return Nu(Te.t("simulator.ticket_opened",'Ticket opened with topic "[[topic]]"',{topic:this.props.ticket.topic.name}));case"airtime_transferred":var t=this.props;return C.createElement(C.Fragment,null,this.renderWebhook(Ue.transfer_airtime),Nu(Te.t("simulator.airtime_transferred","Transferred [[amount]] [[currency]] to [[recipient]]",{amount:t.actual_amount,currency:t.currency,recipient:(a=t.recipient,a.split(":")[1])})))}var a;return console.log("Simulator render missing",this.props),null}},{key:"render",value:function(){return C.createElement("div",{className:bu.a.evt},this.renderLogEvent())}},{key:"renderValueList",value:function(e){var t="",a="";return e.forEach((function(e){t+="".concat(a,'"').concat(e,'"'),a=", "})),t}},{key:"getValue",value:function(e){return e?"string"===typeof e?e:e.text:""}}]),a}(C.Component),Ou=a(32),ju=a.n(Ou),Tu=Pt.a.bind(ju.a),Au=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={opened:{},expression:null,messageVisible:!1,showEmpty:!1,message:null},Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleHide",value:function(){this.props.onClose()}},{key:"isOpen",value:function(e){var t,a=this.state.opened,n=Object(N.a)(e);try{for(n.s();!(t=n.n()).done;){if(!(a=a[t.value]))return!1}}catch(o){n.e(o)}finally{n.f()}return!0}},{key:"handleCopyPath",value:function(e,t){var a,n=this,o="@"+[].concat(Object(ve.a)(t),[e]).join(".");a=o,navigator.clipboard.writeText(a),this.setState({expression:o,messageVisible:!0,message:null},(function(){window.setTimeout((function(){n.state.expression===o&&n.setState({messageVisible:!1})}),1500)}))}},{key:"handleToggleHide",value:function(){var e=this,t=this.state.showEmpty?Te.t("context_explorer.hide_empty","Showing keys with values"):Te.t("context_explorer.show_empty","Showing all keys");this.setState({showEmpty:!this.state.showEmpty,message:t,expression:null,messageVisible:!0},(function(){window.setTimeout((function(){e.state.message===t&&e.setState({messageVisible:!1})}),1e3)}))}},{key:"handlePathClick",value:function(e,t){for(var a=Object(k.a)({},this.state.opened),n=[].concat(Object(ve.a)(t),[e]),o=a;n.length>0;){var s=n.shift(),i=!1;if(0===n.length&&o[s]&&(i=!0),i)delete o[s];else{var r=o[s]||{};o[s]=r}o=o[s]}this.setState({opened:a})}},{key:"renderContextNode",value:function(e,t,a){var n,o,s=this;if(!e)return null;var i=[].concat(Object(ve.a)(a),[e]),r=typeof t,l="object"!==r?t:"",u=t&&"object"===r&&Object.keys(t).length>0;t&&t.hasOwnProperty("__default__")&&(l=t.__default__,1===Object.keys(t).length&&(u=!1));var c=this.isOpen(i),d=Tu((n={},Object(x.a)(n,ju.a.arrow_right,!0),Object(x.a)(n,ju.a.has_children,u),Object(x.a)(n,ju.a.open,c),n)),p=Tu((o={},Object(x.a)(o,ju.a.key,!0),Object(x.a)(o,ju.a.has_children,u),o)),m=Array.isArray(t)?"[".concat(t.length,"]"):null;return C.createElement("div",{key:e+a.length},C.createElement("div",{className:ju.a.row,style:{marginLeft:10*a.length+"px"},onClick:function(t){t.shiftKey?s.handleCopyPath(e,a):u&&s.handlePathClick(e,a)}},C.createElement("div",{className:d},"\u203a"),C.createElement("div",{className:p},e,C.createElement("div",{className:ju.a.key_summary},m),C.createElement("div",{className:ju.a.clipboard+" fe-clipboard-empty",onClick:function(t){t.stopPropagation(),s.handleCopyPath(e,a)}})),C.createElement("div",{className:ju.a.str_value},l)),c?this.renderProperties(t,i):null)}},{key:"renderProperties",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e?C.createElement(C.Fragment,null,Object.keys(e).map((function(n){return"__default__"!==n?t.renderContextNode(n,e[n],a):null}))):null}},{key:"render",value:function(){var e,t=this,a=this.props.contents;this.props.contents&&!this.state.showEmpty&&(a=function e(t){return"object"===typeof t&&Object.keys(t).forEach((function(a){!t[a]||1===Object.keys(t[a]).length&&t[a].hasOwnProperty("__default__")?delete t[a]:(e(t[a]),null!==t[a]&&"object"===typeof t[a]&&0===Object.keys(t[a]).length&&delete t[a])})),t}(JSON.parse(JSON.stringify(this.props.contents))));var n=null;(this.state.message||this.state.expression)&&(this.state.message?n=this.state.message:this.state.expression&&(n=C.createElement(ke.a,{i18nKey:"context_explorer.copied_expression",values:{expression:this.state.expression}},"Copied ",C.createElement("span",{className:ju.a.expression},"[[expression]]")," to clipboard")));var o=Tu((e={},Object(x.a)(e,ju.a.message,!0),Object(x.a)(e,ju.a.visible,this.state.messageVisible),e));return C.createElement("div",{className:ju.a.context_explorer+" "+(this.props.visible?ju.a.visible:"")},C.createElement("div",{className:o},n),C.createElement("div",{className:ju.a.panel},this.renderProperties(a)),C.createElement("div",{className:ju.a.footer},C.createElement("div",{className:ju.a.empty_toggle,onClick:function(){t.handleToggleHide()}},C.createElement("div",{className:this.state.showEmpty?"fe-eye":"fe-eye-crossed"}))))}}]),a}(C.Component),Ru=a(13),Uu=a.n(Ru),Du=a(44),Pu=a.n(Du),zu=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).poppedEle=void 0,n.state={width:260},Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"componentDidUpdate",value:function(){this.state.width,this.poppedEle.offsetWidth}},{key:"handlePoppedRef",value:function(e){return this.poppedEle=e}},{key:"handleTabClick",value:function(){this.props.onShow()}},{key:"handleClose",value:function(){this.props.onHide()}},{key:"render",value:function(){return C.createElement("div",{className:"pop_wrapper "+Pu.a.pop_wrapper+" "+(this.props.visible?Pu.a.visible:""),style:{right:-this.state.width,top:this.props.top}},C.createElement("div",{className:Pu.a.tab_wrapper},C.createElement("div",{className:Pu.a.tab,style:{background:this.props.color},onClick:this.handleTabClick},C.createElement("div",{className:Pu.a.icon},C.createElement("span",{className:this.props.icon})),C.createElement("div",{className:Pu.a.label},this.props.label))),C.createElement("div",{ref:this.handlePoppedRef,className:Pu.a.popped+" "+(this.props.custom?Pu.a.custom:""),style:{borderColor:this.props.color,top:this.props.popTop||0,right:this.props.visible?40+this.state.width:0}},C.createElement("div",{className:Pu.a.header,style:{background:this.props.color}},C.createElement("div",{className:Pu.a.close+" fe-x",onClick:this.handleClose}),C.createElement("div",{className:Pu.a.header_label},this.props.header)),C.createElement("div",{className:Pu.a.body,style:{background:this.props.color}},this.props.children)))}}]),a}(C.Component),Fu="fb3787ab-2eda-48a0-a2bc-e2ddadec1286",Iu=["tel:+12065551212"],Lu=a(125),Mu="https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_image_a.jpg",qu="https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_image_b.jpg",Vu="https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_image_c.jpg",Bu="https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_video_a.mp4",Gu="https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_video_a_thumb.jpg";!function(e){e.audio="audio",e.images="images",e.videos="videos",e.location="location",e.digit="digit",e.digits="digits",e.quickReplies="quickReplies"}(Eu||(Eu={}));var Hu=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e,n){var o;return Object(g.a)(this,a),(o=t.call(this,e)).debug=[],o.flows=[],o.currentFlow=void 0,o.inputBox=void 0,o.drawerEle=void 0,o.bottom=void 0,o.state={active:!1,visible:!1,events:[],segments:[],contact:{uuid:Fu,urns:Iu,fields:{},groups:[]},keypadEntry:"",drawerHeight:0,channel:te(),time:mu(),waitingForHint:!1,drawerOpen:!1,attachmentOptionsVisible:!1,contextExplorerVisible:!1,sprinting:!1},o.bottomRef=o.bottomRef.bind(Object(f.a)(o)),o.inputBoxRef=o.inputBoxRef.bind(Object(f.a)(o)),o.currentFlow=o.props.definition.uuid,Object(E.react)(Object(f.a)(o),{include:[/^on/,/^get/,/^handle/]}),o}return Object(v.a)(a,[{key:"bottomRef",value:function(e){return this.bottom=e}},{key:"inputBoxRef",value:function(e){this.inputBox=e}},{key:"updateActivity",value:function(){if(this.state.session){var e,t,a={},n={},o={},s=Object(N.a)(this.state.segments);try{for(s.s();!(t=s.n()).done;){var i=t.value,r=i.exit_uuid+":"+i.destination_uuid,l=a[r]||0;a[r]=l+1;var u=i.operand||"";u.length>100&&(u=u.substring(0,97)+"...");var c=o[r]||[];c.unshift({contact:{uuid:Fu,name:"+1 (206) 555 1212"},operand:i.operand,time:i.time}),c.length>5&&c.pop(),o[r]=c}}catch(g){s.e(g)}finally{s.f()}var d,p=Object(N.a)(this.state.session.runs);try{for(p.s();!(d=p.n()).done;){var m=d.value;if("active"===m.status||"waiting"===m.status){var h=null;if(m.path.length>0&&(h=m.path[m.path.length-1]),h){var _=n[h.node_uuid]||0;n[h.node_uuid]=_+1}e=m.flow_uuid}}}catch(g){p.e(g)}finally{p.f()}this.props.mergeEditorState({activity:{segments:a,nodes:n,recentContacts:o}}),e&&e!==this.currentFlow&&(this.currentFlow=e)}}},{key:"updateEvents",value:function(e,t,a){var n=this;if(e&&e.length>0){for(var o=[],s=null,i=!1;e.length>0&&!i;){var r=e.shift();hu(r)&&(i=!0,_u(r)&&r.msg.quick_replies&&(s=r.msg.quick_replies)),o.push(r)}var l={events:ea()(this.state.events,{$push:o})};null!==s&&(l.quickReplies=s),this.scrollToBottom(),this.setState(l,(function(){0===e.length?a():window.setTimeout((function(){n.updateEvents(e,t,a)}),200)}))}else a()}},{key:"updateRunContext",value:function(e,t){var a=this,n=this.state.active||e.events&&e.events.length>0;this.setState({quickReplies:[]},(function(){if(!e.events||0===e.events.length&&t){var o=e.session.runs,s=o[o.length-1],i=s.path[s.path.length-1];e.events=[{msg:{uuid:te(),urn:a.state.contact.urns[0],text:t.text,attachments:t.attachments},type:"msg_created",created_on:(new Date).toISOString(),step_uuid:i.uuid}]}var r="waiting"===e.session.status,l=null;if(r){var u,c=Object(N.a)(e.events);try{for(c.s();!(u=c.n()).done;){var d=u.value;d.type.endsWith("_wait")&&(l=d)}}catch(p){c.e(p)}finally{c.f()}}a.updateEvents(e.events,e.session,(function(){var t=a.state.events;!r&&n&&(t=ea()(a.state.events,{$push:[{type:"info",text:Te.t("simulator.flow_exited","Exited flow"),created_on:new Date}]}));var o=l&&void 0!==l.hint,s=null;if(o)switch(l.hint.type){case"audio":s=Eu.audio;break;case"video":s=Eu.videos;break;case"image":s=Eu.images;break;case"location":s=Eu.location;break;case"digits":s=Eu.digit,1!==l.hint.count&&(s=Eu.digits);break;default:console.log("Unknown hint",l.hint.type)}var i=o;!s&&a.hasQuickReplies()&&(s=Eu.quickReplies,i=!0),a.setState({active:r,context:e.context,sprinting:!1,session:e.session,events:t,segments:a.state.segments.concat(e.segments||[]),drawerOpen:i,drawerType:s,waitingForHint:o},(function(){a.updateActivity(),a.handleFocusUpdate()}))}))}))}},{key:"startFlow",value:function(){var e=this,t=(new Date).toISOString(),a={uuid:Fu,urns:Iu,fields:{},groups:[],created_on:t};this.props.language&&(a.language=this.props.language.id),this.setState({sprinting:!0,drawerOpen:!1,attachmentOptionsVisible:!1,events:[],segments:[]},(function(){var n={contact:e.state.contact,flow:yl(e.props.definition,e.props.nodes,!1),trigger:{type:"manual",environment:{date_format:"DD-MM-YYYY",time_format:"hh:mm",timezone:"America/New_York",languages:[]},contact:a,flow:{uuid:e.props.definition.uuid,name:e.props.definition.name},params:{},triggered_on:t}};Ze.a.post(mt(e.context.config.endpoints.simulateStart),JSON.stringify(n,null,2)).then((function(t){e.updateRunContext(t.data)}))}))}},{key:"resume",value:function(e,t){var a=this;(e||t)&&("\\debug"!==e?"\\recalc"!==e?this.setState({sprinting:!0,attachmentOptionsVisible:!1,drawerOpen:!1},(function(){var n=(new Date).toISOString(),o={text:e,uuid:te(),urn:a.state.session.contact.urns[0],attachments:t?[t]:[]},s={flow:yl(a.props.definition,a.props.nodes,!1),session:a.state.session,resume:{type:"msg",msg:o,resumed_on:n,contact:a.state.session.contact}};Ze.a.post(mt(a.context.config.endpoints.simulateResume),JSON.stringify(s,null,2)).then((function(e){a.updateRunContext(e.data,o)})).catch((function(e){e.response.status;var t=ea()(a.state.events,{$push:[{type:"error",text:e.response.status>499?"Server error, try again later":e.response.data.error}]});a.setState({events:t})}))})):console.log("recal.."):console.log(JSON.stringify(this.debug,null,2)))}},{key:"onReset",value:function(e){this.startFlow()}},{key:"scrollToBottom",value:function(e){var t=this,a=e||0;this.bottom&&window.setTimeout((function(){t.bottom&&t.bottom.scrollIntoView(!1)}),a)}},{key:"componentDidUpdate",value:function(e,t){var a=this;null!==this.drawerEle&&(t.drawerHeight===this.drawerEle.clientHeight&&t.drawerOpen===this.state.drawerOpen||this.setState({drawerHeight:this.drawerEle.clientHeight},(function(){a.scrollToBottom(800)})))}},{key:"onKeyUp",value:function(e){if("Enter"===e.key){var t=e.target,a=t.value;t.value="",this.resume(a)}}},{key:"onToggle",value:function(){var e=this,t=!this.state.visible;this.props.onToggled(t,ze.SIMULATOR),this.props.mergeEditorState({simulating:t}),this.setState({visible:t,contextExplorerVisible:!1},(function(){e.state.visible?(e.updateActivity(),0===e.state.events.length&&e.startFlow(),e.handleFocusUpdate()):window.setTimeout((function(){e.props.mergeEditorState({activity:e.props.liveActivity})}),500)}))}},{key:"handleFocusUpdate",value:function(){this.inputBox&&this.inputBox.focus()}},{key:"sendAttachment",value:function(e){var t=this;this.setState({drawerOpen:!1,attachmentOptionsVisible:!1},(function(){window.setTimeout((function(){t.resume(null,e)}),200)}))}},{key:"getImageDrawer",value:function(){var e=this;return w.a.createElement("div",{className:Uu.a.drawer_items},w.a.createElement("div",{className:Uu.a.drawer_item,onClick:function(){e.sendAttachment("image/jpeg:"+Mu)}},w.a.createElement("img",{src:Mu,alt:"Attachment"})),w.a.createElement("div",{className:Uu.a.drawer_item,onClick:function(){e.sendAttachment("image/jpeg:"+qu)}},w.a.createElement("img",{src:qu,alt:"Attachment"})),w.a.createElement("div",{className:Uu.a.drawer_item,onClick:function(){e.sendAttachment("image/jpeg:"+Vu)}},w.a.createElement("img",{src:Vu,alt:"Attachment"})))}},{key:"getLocationDrawer",value:function(){var e=this;return w.a.createElement("div",{className:Uu.a.map_thumb,onClick:function(){e.sendAttachment("geo:2.904194,-79.003418")}},w.a.createElement("img",{src:Lu,alt:"Attachment"}))}},{key:"getAudioDrawer",value:function(){var e=this;return w.a.createElement("div",{className:Uu.a.audio_picker,onClick:function(){e.sendAttachment("audio/mp3:https://s3.amazonaws.com/floweditor-assets.temba.io/simulator/sim_audio_a.mp3")}},w.a.createElement("div",{className:Uu.a.audio_icon+" fe-mic"}),w.a.createElement("div",{className:Uu.a.audio_message},"Upload Audio"))}},{key:"getVideoDrawer",value:function(){var e=this;return w.a.createElement("div",{className:Uu.a.drawer_items},w.a.createElement("div",{className:Uu.a.drawer_item,onClick:function(){e.sendAttachment("video/mp4:"+Bu)}},w.a.createElement("img",{src:Gu,alt:"Attachment"})),w.a.createElement("div",{className:Uu.a.drawer_item,onClick:function(){e.sendAttachment("video/mp4:"+Bu)}},w.a.createElement("img",{src:Gu,alt:"Attachment"})),w.a.createElement("div",{className:Uu.a.drawer_item,onClick:function(){e.sendAttachment("video/mp4:"+Bu)}},w.a.createElement("img",{src:Gu,alt:"Attachment"})))}},{key:"getQuickRepliesDrawer",value:function(){var e=this;return w.a.createElement("div",{className:Uu.a.quick_replies},this.state.quickReplies.map((function(t){return w.a.createElement("div",{className:Uu.a.quick_reply,onClick:function(){e.resume(t)},key:"reply_".concat(t)},t)})))}},{key:"handleKeyPress",value:function(e,t){t?"#"===e?(this.resume(this.state.keypadEntry),this.setState({keypadEntry:""})):this.setState((function(t){return{keypadEntry:t.keypadEntry+=e}})):this.resume(e)}},{key:"getKeyRow",value:function(e,t){var a=this;return w.a.createElement("div",{className:Uu.a.row},e.map((function(e){return w.a.createElement("div",{key:"btn_"+e,onClick:function(){a.handleKeyPress(e,t)},className:Uu.a.key},e)})))}},{key:"getKeypadDrawer",value:function(e){return w.a.createElement("div",{className:Uu.a.keypad},e?w.a.createElement("div",{className:Uu.a.keypad_entry},this.state.keypadEntry):null,w.a.createElement("div",{className:Uu.a.keys},this.getKeyRow(["1","2","3"],e),this.getKeyRow(["4","5","6"],e),this.getKeyRow(["7","8","9"],e),this.getKeyRow(["*","0","#"],e)))}},{key:"getDrawerContents",value:function(){switch(this.state.drawerType){case Eu.location:return this.getLocationDrawer();case Eu.audio:return this.getAudioDrawer();case Eu.images:return this.getImageDrawer();case Eu.videos:return this.getVideoDrawer();case Eu.quickReplies:return this.getQuickRepliesDrawer();case Eu.digits:case Eu.digit:return this.getKeypadDrawer(this.state.drawerType===Eu.digits)}return null}},{key:"handleDrawerRef",value:function(e){return this.drawerEle=e}},{key:"getDrawer",value:function(){var e={};return this.state.drawerOpen?(e.bottom=50,this.state.waitingForHint&&(e.bottom=25,e.zIndex=150,e.paddingBottom=10)):e.bottom=-this.state.drawerHeight,w.a.createElement("div",{ref:this.handleDrawerRef,style:e,className:Uu.a.drawer+" "+(this.state.drawerOpen?Uu.a.drawer_visible:"")+" "+(this.state.attachmentOptionsVisible?"":Uu.a.forced)},this.getDrawerContents())}},{key:"hasQuickReplies",value:function(){return(this.state.quickReplies||[]).length>0}},{key:"handleHideAttachments",value:function(){var e=this;this.setState({attachmentOptionsVisible:!1,drawerOpen:!1},(function(){e.hasQuickReplies()&&window.setTimeout((function(){e.showAttachmentDrawer(Eu.quickReplies)}),300)}))}},{key:"getAttachmentButton",value:function(e,t){var a=this;return w.a.createElement("div",{className:e,onClick:function(){a.showAttachmentDrawer(t)}})}},{key:"getAttachmentOptions",value:function(){return w.a.createElement("div",{className:Uu.a.attachment_buttons+" "+(this.state.attachmentOptionsVisible?Uu.a.visible:"")},w.a.createElement("div",{className:"fe-x",onClick:this.handleHideAttachments}),this.getAttachmentButton("fe-picture2",Eu.images),this.getAttachmentButton("fe-video",Eu.videos),this.getAttachmentButton("fe-mic",Eu.audio),this.getAttachmentButton("fe-map-marker",Eu.location))}},{key:"handleContextExplorerClose",value:function(){this.setState({contextExplorerVisible:!1})}},{key:"getContextExplorer",value:function(){return w.a.createElement(Au,{visible:this.state.contextExplorerVisible,onClose:this.handleContextExplorerClose,contents:this.state.context})}},{key:"handleHideAttachmentDrawer",value:function(){this.setState({drawerOpen:!1})}},{key:"showAttachmentDrawer",value:function(e){var t=this;if(this.state.drawerOpen){if(e===this.state.drawerType)return;this.handleHideAttachmentDrawer(),window.setTimeout((function(){t.showAttachmentDrawer(e)}),300)}else this.setState((function(t){return{drawerOpen:!0,drawerType:e}}))}},{key:"render",value:function(){var e,t=this,a=[],n=Object(N.a)(this.state.events);try{for(n.s();!(e=n.n()).done;){var o=e.value;a.push(w.a.createElement(xu,Object.assign({},o,{key:o.type+"_"+String(o.created_on)})))}}catch(l){n.e(l)}finally{n.f()}var s=this.props.popped&&this.props.popped!==ze.SIMULATOR,i=s||!this.state.visible?Uu.a.sim_hidden:"",r={height:366-(this.state.drawerOpen?this.state.drawerHeight-20:0)};return this.state.drawerOpen&&this.state.waitingForHint&&(r.height+=25),w.a.createElement("div",{className:s?Uu.a.tab_hidden:""},w.a.createElement(zu,{header:Te.t("simulator.header","Simulator"),color:"#2db379",icon:"fe-smartphone",label:Te.t("simulator.label","Simulator"),top:"220px",popTop:"0px",custom:!0,visible:this.state.visible,onShow:this.onToggle,onHide:this.onToggle},w.a.createElement("div",{id:"sim_container",className:Uu.a.sim_container},w.a.createElement("div",null,w.a.createElement("div",{id:"simulator",className:Uu.a.simulator+" "+i,key:"sim"},this.getContextExplorer(),w.a.createElement("div",{className:Uu.a.screen},w.a.createElement("div",{className:Uu.a.header},w.a.createElement("div",{className:Uu.a.close+" fe-x",onClick:this.onToggle})),w.a.createElement("div",{className:Uu.a.messages,style:r},a,w.a.createElement("div",{id:"bottom",style:{float:"left",clear:"both",marginTop:20},ref:this.bottomRef})),w.a.createElement("div",{className:Uu.a.controls},w.a.createElement("input",{ref:this.inputBoxRef,type:"text",onKeyUp:this.onKeyUp,disabled:this.state.sprinting,placeholder:this.state.active?Te.t("simulator.prompt.message","Enter message"):Te.t("simulator.prompt.restart","Press home to start again")}),w.a.createElement("div",{className:Uu.a.show_attachments_button},w.a.createElement("div",{className:"fe-paperclip",onClick:function(){t.setState({attachmentOptionsVisible:!0,drawerOpen:!1})}}))),this.getAttachmentOptions(),this.getDrawer(),w.a.createElement("div",{className:Uu.a.footer},this.state.contextExplorerVisible?w.a.createElement("div",{className:Uu.a.show_context_button},w.a.createElement("div",{className:"context-button",onClick:function(){t.setState({contextExplorerVisible:!1})}},w.a.createElement("span",{className:"fe-x"}))):w.a.createElement("div",{className:Uu.a.show_context_button},w.a.createElement("div",{className:"context-button",onClick:function(){t.setState({contextExplorerVisible:!0})}},w.a.createElement("span",{className:"fe-at-sign"}))),w.a.createElement("span",{className:Uu.a.reset+" "+(this.state.active?Uu.a.active:Uu.a.inactive),onClick:this.onReset}))))))))}}]),a}(w.a.Component);Hu.contextTypes={config:jt};var Wu=Object(Gl.b)((function(e){var t=e.flowContext,a=t.definition,n=t.nodes,o=t.assetStore,s=e.editorState;return{liveActivity:s.liveActivity,activity:s.activity,assetStore:o,definition:a,nodes:n,language:s.language}}),(function(e){return Object(fe.bindActionCreators)({},e)}))(Hu),Ku=Pt.a.bind(uu.a),Yu=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).timeout=void 0,n.hideDragHelper=void 0,n.pendingMessageFetch={},n.ele=void 0,n.lastEnter=(new Date).getTime(),n.state={confirmDelete:!1,recentContacts:null,fetchingRecentContacts:!1,showDragHelper:e.showDragHelper},Object(E.react)(Object(f.a)(n),{include:[/^on/,/^get/,/^handle/,/^connect/]}),n}return Object(v.a)(a,[{key:"getSourceId",value:function(){return"".concat(this.props.node.uuid,":").concat(this.props.exit.uuid)}},{key:"handleDisconnect",value:function(){this.setState({showDragHelper:!1})}},{key:"componentDidMount",value:function(){this.props.plumberMakeSource(this.getSourceId()),this.ele&&this.ele.addEventListener("disconnect",this.handleDisconnect),this.props.exit.destination_uuid&&this.connect()}},{key:"componentDidUpdate",value:function(e){this.props.exit.destination_uuid!==e.exit.destination_uuid&&(this.connect(),this.state.confirmDelete&&this.setState({confirmDelete:!1})),this.state.showDragHelper&&e.showDragHelper&&!this.props.showDragHelper&&this.setState({showDragHelper:!1}),this.props.plumberUpdateClass(this.props.node,this.props.exit,"confirm-delete",this.state.confirmDelete)}},{key:"componentWillUnmount",value:function(){this.props.exit.destination_uuid&&this.props.plumberRemove(this.getSourceId()),this.ele&&this.ele.removeEventListener("disconnect",this.handleDisconnect)}},{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handleClick",value:function(e){var t=this;this.props.translating||(this.props.exit.destination_uuid?(e.preventDefault(),e.stopPropagation(),this.setState({confirmDelete:!0},(function(){t.timeout=window.setTimeout((function(){t.setState({confirmDelete:!1})}),2e3)}))):(e.preventDefault(),e.stopPropagation(),this.state.showDragHelper||this.setState({showDragHelper:!0},(function(){t.hideDragHelper&&window.clearTimeout(t.hideDragHelper),t.hideDragHelper=window.setTimeout((function(){t.setState({showDragHelper:!1})}),3e3)}))))}},{key:"onDisconnect",value:function(e){this.timeout&&window.clearTimeout(this.timeout),this.hideDragHelper&&window.clearTimeout(this.hideDragHelper),this.props.disconnectExit(this.props.node.uuid,this.props.exit.uuid)}},{key:"connect",value:function(){this.props.plumberConnectExit(this.props.node,this.props.exit)}},{key:"handleShowRecentMessages",value:function(){var e=this;this.props.recentContacts?this.setState({recentContacts:this.props.recentContacts}):this.setState({fetchingRecentContacts:!0},(function(){var t,a,n;(t=e.context.config.endpoints.recents,a=e.props.exit,n=e.pendingMessageFetch,new Promise((function(e,o){return n.reject=o,Ze.a.get("".concat(t).concat(a.uuid,"/").concat(a.destination_uuid,"/")).then((function(t){var a,n=[],o=Object(N.a)(t.data);try{for(o.s();!(a=o.n()).done;){var s=a.value;n.push({contact:s.contact,operand:s.operand,time:s.time})}}catch(i){o.e(i)}finally{o.f()}e(t.data)})).catch((function(e){return o(e)}))}))).then((function(t){e.setState({recentContacts:t,fetchingRecentContacts:!1})})).catch((function(){}))}))}},{key:"handleHideRecentMessages",value:function(){this.pendingMessageFetch.reject&&(this.pendingMessageFetch.reject(),this.pendingMessageFetch={}),this.setState({fetchingRecentContacts:!1,recentContacts:null})}},{key:"getSegmentCount",value:function(){var e=this;if(this.props.segmentCount>0){var t="".concat(this.props.exit.uuid,"-label");return C.createElement("div",{style:{position:"absolute",bottom:"-25px"}},C.createElement(Ml,{key:t,count:this.props.segmentCount,containerStyle:uu.a.activity,countStyle:uu.a.count,keepVisible:!1,onMouseEnter:function(){e.lastEnter=(new Date).getTime(),e.handleShowRecentMessages()},onMouseLeave:function(){(new Date).getTime()-e.lastEnter<100&&e.handleHideRecentMessages()}}))}}},{key:"getName",value:function(){var e=this;if(this.props.translating){var t="",a="",n=!1;return this.props.categories.forEach((function(o){var s=H(o,e.props.localization,e.props.language);n=n||"name"in s.localizedKeys;var i=s.getObject();t+=a+i.name,a=", "})),{name:t,localized:n}}var o=[];return this.props.categories.forEach((function(e){o.push(e.name)})),{name:o.join(", ")}}},{key:"getRecentContacts",value:function(){var e=this;if(this.state.fetchingRecentContacts||null!==this.state.recentContacts){var t=this.state.recentContacts||[],a=0!==t.length,n=[uu.a.recent_contacts],o=Te.t("recent_contacts.header","Recent Contacts");a||this.state.fetchingRecentContacts||(o=Te.t("recent_contacts.header_empty","No Recent Contacts"),n.push(uu.a.no_recents));var s=document.getElementById("canvas-container"),i=0,r=0;if(s){var l=s.getBoundingClientRect(),u=l.top+window.scrollY,c=this.ele.getBoundingClientRect();i=c.left+window.scrollX+5-l.left,r=c.top+window.scrollY-u+30}return C.createElement(pu,{id:"activity_recent_contacts"},C.createElement("div",{className:n.join(" "),style:{position:"absolute",left:i,top:r},onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseUp:function(e){e.stopPropagation(),e.preventDefault()}},C.createElement("div",{className:"pointer-capture",style:{display:"flex",marginTop:"-20px"}},C.createElement("div",{className:"left",style:{flexGrow:1,pointerEvents:"none"}}),C.createElement("div",{onMouseLeave:this.handleHideRecentMessages,className:"middle",style:{width:"50px",height:"40px",marginBottom:"-20px",paddingBottom:"20px"}},"\xa0"),C.createElement("div",{className:"right",style:{flexGrow:1}})),C.createElement("div",{className:uu.a.container,onMouseEnter:function(){e.setState({recentContacts:t,fetchingRecentContacts:!1})},onMouseLeave:this.handleHideRecentMessages},C.createElement("div",{className:uu.a.title},o),t.map((function(t,a){var n,o=null;return t.operand&&(o=C.createElement("div",{className:uu.a.operand},t.operand)),C.createElement("div",{key:"recent_"+a,className:uu.a.row},C.createElement("div",{className:uu.a.contact},t.contact.uuid===Fu?t.contact.name:C.createElement("a",{href:(n=t.contact.uuid,e.context.config.endpoints.contact+n)},t.contact.name)),o,C.createElement("div",{className:uu.a.time},ru.utc(t.time).fromNow()))})),null===this.state.recentContacts?C.createElement("div",{className:uu.a.loading},C.createElement(iu,{size:10,units:6,color:"#999999"})):null)))}return null}},{key:"render",value:function(){var e,t=this,a=this.getName(),n=a.name,o=a.localized,s=n?uu.a.name:"",i=this.props.exit.destination_uuid?" jtk-connected":"",r=Ku(uu.a.endpoint,i),l=this.state.confirmDelete&&this.props.exit.hasOwnProperty("destination_uuid"),u=l&&this.context.config.mutable?C.createElement("div",Object.assign({className:uu.a.confirm_x+" fe-x"},G(this.onDisconnect,(function(){return t.props.dragging})))):null,c=Ku((e={},Object(x.a)(e,uu.a.exit,!0),Object(x.a)(e,"plumb-exit",!0),Object(x.a)(e,uu.a.translating,this.props.translating),Object(x.a)(e,uu.a.unnamed_exit,null==n),Object(x.a)(e,uu.a.missing_localization,n&&this.props.translating&&!o),Object(x.a)(e,uu.a.confirm_delete,l),e)),d=this.getSegmentCount(),p=this.getRecentContacts(),m=this.context.config.mutable?G(this.handleClick,(function(){return t.props.dragging}),this.handleMouseDown):{};return C.createElement("div",{className:c},n?C.createElement("div",{className:s},n):null,C.createElement("div",Object.assign({ref:function(e){return t.ele=e}},m,{id:"".concat(this.props.node.uuid,":").concat(this.props.exit.uuid),className:r}),u),d,p,Y(this.state.showDragHelper)(C.createElement(tu,null)))}}]),a}(C.PureComponent);Yu.contextTypes={config:jt};var Xu=Object(Gl.b)((function(e,t){var a=e.flowContext.definition.localization,n=e.editorState,o=n.translating,s=n.language,i=n.dragActive,r=n.activity,l=null,u=au(t.exit);return u in(r.recentContacts||{})&&(l=r.recentContacts[u]),{dragging:i,segmentCount:r.segments[au(t.exit)]||0,translating:o,language:s,localization:a,recentContacts:l}}),(function(e){return Object(fe.bindActionCreators)({disconnectExit:Zr},e)}))(Yu),Zu=a(156),Qu=a(34),Ju=a.n(Qu),$u=Pt.a.bind(Object(k.a)({},pe.a,{},Ju.a)),ec=[],tc=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e,n){var o;return Object(g.a)(this,a),(o=t.call(this,e)).ele=void 0,o.firstAction=void 0,o.clicking=void 0,o.events=void 0,Object(E.react)(Object(f.a)(o),{include:[/Ref$/,/^on/,/^get/,/^handle/]}),o.events=n.config.mutable?G(o.onClick,o.handleShouldCancelClick):{},o}return Object(v.a)(a,[{key:"handleShouldCancelClick",value:function(){return this.props.selected}},{key:"eleRef",value:function(e){return this.ele=e}},{key:"getGhostListener",value:function(){var e=this;return function(t){if(e.ele){var a=e.ele.parentElement;e.ele.parentElement.parentElement&&(a=e.ele.parentElement.parentElement);var n=a.getBoundingClientRect(),o=e.ele.getBoundingClientRect().width,s=t.pageX-o/2-15-n.left,i=t.pageY-n.top-window.scrollY,r=e.ele.style;r.left=s+"px",r.top=i+"px",r.visibility=document.querySelector(".plumb-drop-hover")?"hidden":"visible"}}}},{key:"componentDidMount",value:function(){if(this.props.plumberMakeTarget(this.props.renderNode.node.uuid),this.props.ghost){var e=this.getGhostListener();window.ghostListener=e,document.addEventListener("mousemove",e)}}},{key:"componentDidUpdate",value:function(e){if(!this.props.ghost)try{this.props.plumberRecalculate(this.props.renderNode.node.uuid);var t,a=Object(N.a)(this.props.renderNode.node.exits);try{for(a.s();!(t=a.n()).done;){var n=t.value;this.props.plumberRecalculate(this.props.renderNode.node.uuid+":"+n.uuid)}}catch(o){a.e(o)}finally{a.f()}}catch(s){}}},{key:"componentWillUnmount",value:function(){this.props.plumberRemove(this.props.renderNode.node.uuid)}},{key:"handleUUIDClicked",value:function(e){var t=window.getSelection(),a=document.createRange();a.selectNodeContents(e.currentTarget),t.removeAllRanges(),t.addRange(a),document.execCommand("copy"),t.removeAllRanges(),console.log(e.currentTarget.textContent+" copied to clipboard.")}},{key:"handleAddToNode",value:function(){this.props.onAddToNode(this.props.renderNode.node)}},{key:"onClick",value:function(e){this.props.onOpenNodeEditor({originalNode:this.props.renderNode})}},{key:"handleRemoval",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.removeNode(this.props.renderNode.node)}},{key:"getExits",value:function(){var e=this;return this.props.renderNode.node.exits?this.props.renderNode.node.exits.map((function(t,a){return C.createElement(Xu,{key:t.uuid,node:e.props.renderNode.node,categories:Mo(e.props.renderNode,t),exit:t,showDragHelper:e.props.onlyNode&&0===a,plumberMakeSource:e.props.plumberMakeSource,plumberRemove:e.props.plumberRemove,plumberConnectExit:e.props.plumberConnectExit,plumberUpdateClass:e.props.plumberUpdateClass})})):[]}},{key:"isSelected",value:function(){return this.props.selected}},{key:"isStartNodeVisible",value:function(){return this.props.startingNode}},{key:"renderDebug",value:function(){if(this.props.debug&&this.props.debug.showUUIDs)return C.createElement("span",{id:"uuid-".concat(this.props.renderNode.node.uuid),onClick:this.handleUUIDClicked,className:Ju.a.uuid},this.props.renderNode.node.uuid)}},{key:"render",value:function(){var e,t,a=this,n=[],o=null;if(this.props.renderNode.node.actions){var s={ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a.firstAction=e}))};(t=this.props.renderNode,kr(t)===Ue.split_by_subflow?t.node.actions.filter((function(e){return e.type!==Ue.set_run_result})):t.node.actions).forEach((function(e,t){var o=br(e.type),i=function(e,t,a){return a.filter((function(a){return a.node_uuid===e&&a.action_uuid===t.uuid}))}(a.props.nodeUUID,e,a.props.issues);if(o.hasOwnProperty("component")&&o.component){var r=o.component;o.massageForDisplay&&o.massageForDisplay(e),n.push(C.createElement(Jl,Object.assign({},s,{key:e.uuid,renderNode:a.props.renderNode,selected:a.props.selected,action:e,first:0===t,issues:i,render:function(e){return C.createElement(r,Object.assign({},e,{languages:a.props.languages,issues:i}))}})))}s={}})),o=n.length>0?C.createElement(Zu.a,{enterAnimation:"fade",leaveAnimation:"fade",duration:300,easing:"ease-out"},n):null}var i=null,r=null,l=null,u=kr(this.props.renderNode);if(u!==Ue.execute_actions){var c=br(u),d=c.name;Po(this.props.renderNode.node)&&u===Ue.split_by_contact_field&&this.props.renderNode.ui.config.operand.name&&(d="Split by ".concat(this.props.renderNode.ui.config.operand.name));var p=qo(this.props.renderNode.node);p&&(l=C.createElement("div",Object.assign({},this.events,{className:Ju.a.save_result}),C.createElement("div",{className:Ju.a.save_as},Te.t("forms.save_as","Save as")," "),C.createElement("div",{className:Ju.a.result_name},p))),null!==d||u!==Ue.split_by_run_result&&u!==Ue.split_by_run_result_delimited||(d="Split by ".concat(this.props.results[this.props.renderNode.ui.config.operand.id].name)),null===d&&(d=c.name),this.props.renderNode.node.actions&&this.props.renderNode.node.actions.length||(i=C.createElement("div",{style:{position:"relative"}},C.createElement("div",this.events,C.createElement(Bl,{__className:pe.a[tn(this.props.issues,this.props.translating,this.props.language)?"missing":c.type],showRemoval:!this.props.translating,onRemoval:this.handleRemoval,shouldCancelClick:this.handleShouldCancelClick,title:d}))))}else!this.props.translating&&this.context.config.mutable&&(r=C.createElement("div",Object.assign({className:Ju.a.add},G(this.handleAddToNode,this.handleShouldCancelClick)),C.createElement("span",{className:"fe-add"})));var m=this.getExits(),h=$u((e={"plumb-drag":!0},Object(x.a)(e,Ju.a.ghost,this.props.ghost),Object(x.a)(e,Ju.a.flow_start,this.isStartNodeVisible()),Object(x.a)(e,Ju.a.selected,this.isSelected()),Object(x.a)(e,Ju.a.immutable,!this.context.config.mutable),e)),_=this.renderDebug(),g=C.createElement("div",{className:Ju.a.node},this.isStartNodeVisible()?C.createElement("div",{className:Ju.a.flow_start_message},Te.t("flow_start","Flow Start")):null,_,C.createElement(Ml,{count:this.props.activeCount,containerStyle:Ju.a.active,countStyle:"",keepVisible:this.props.simulating,onClick:function(){a.context.config.onActivityClicked&&a.context.config.onActivityClicked(a.props.nodeUUID,a.props.activeCount)}}),C.createElement("div",{className:Ju.a.cropped},i,o,l),C.createElement("div",{className:"".concat(Ju.a.exit_table)},C.createElement("div",Object.assign({className:Ju.a.exits},this.events),m),r));return C.createElement("div",{id:this.props.renderNode.node.uuid,className:"".concat(Ju.a.node_container," ").concat(h),ref:this.eleRef},!this.props.scrollToAction&&this.props.scrollToNode&&this.props.scrollToNode===this.props.nodeUUID?C.createElement(Yl,{pulseAfterScroll:!0},g):g)}}]),a}(C.PureComponent);tc.contextTypes={config:jt};var ac=Object(Gl.b)((function(e,t){var a=e.flowContext,n=a.nodes,o=a.issues,s=a.assetStore,i=s.results.items,r=s.languages.items,l=e.editorState,u=l.translating,c=l.debug,d=l.ghostNode,p=l.simulating,m=l.activity,h=l.language,_=l.scrollToAction,g=l.scrollToNode,v=null;if(d&&d.node.uuid===t.nodeUUID?v=d:t.nodeUUID in n&&(v=n[t.nodeUUID]),!v)throw Error("Couldn't find node for "+t.nodeUUID);var f=m.nodes[t.nodeUUID]||0,y=g&&g===t.nodeUUID?g:null,b=_&&y?_:null;return{issues:(o||{})[t.nodeUUID]||ec,results:i,language:h,languages:r,activeCount:f,translating:u,debug:c,renderNode:v,simulating:p,scrollToNode:y,scrollToAction:b}}),(function(e){return Object(fe.bindActionCreators)({onAddToNode:ol,onOpenNodeEditor:cl,removeNode:Jr,mergeEditorState:Vr},e)}),null,{forwardRef:!0})(tc),nc=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),n=t.call(this,e),Object(E.react)(Object(f.a)(n),{include:[/^close/,/^update/,/^handle/]}),n}return Object(v.a)(a,[{key:"updateLocalizations",value:function(e,t){this.props.onUpdateLocalizations(e,t)}},{key:"close",value:function(e){if(e){var t=Co(this.props.settings.originalNode);if(t){var a,n=this.props.nodes[t.nodeUUID],o=Object(N.a)(n.node.exits);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.uuid===t.exitUUID){this.props.plumberConnectExit(n.node,s);break}}}catch(i){o.e(i)}finally{o.f()}}}this.props.resetNodeEditingState(),this.props.updateUserAddingAction(!1)}},{key:"updateAction",value:function(e,t){this.props.onUpdateAction(e,t)}},{key:"updateRouter",value:function(e){this.props.onUpdateRouter(e)}},{key:"handleAddAsset",value:function(e,t){this.props.addAsset(e,t)}},{key:"render",value:function(){var e=this;if(this.props.settings){var t=this.props.typeConfig;if(this.props.translating){var a=t.localization;if(a){var n={updateLocalizations:this.updateLocalizations,nodeSettings:this.props.settings,onClose:this.close,language:this.props.language,helpArticles:this.props.helpArticles,issues:this.props.issues.filter((function(t){return t.language===e.props.language.id}))};return C.createElement(fu,{width:"600px",show:!0},C.createElement(a,Object(k.a)({},n)))}}var o=t.form,s={assetStore:this.props.assetStore,addAsset:this.handleAddAsset,updateAction:this.updateAction,updateRouter:this.updateRouter,nodeSettings:this.props.settings,helpArticles:this.props.helpArticles,issues:this.props.issues.filter((function(e){return!e.language})),typeConfig:this.props.typeConfig,onTypeChange:this.props.handleTypeConfigChange,onClose:this.close};return C.createElement(fu,{width:"600px",show:!0},C.createElement(o,Object(k.a)({},s)))}return null}}]),a}(C.Component),oc=Object(Gl.b)((function(e){var t=e.flowContext,a=t.definition,n=t.nodes,o=t.assetStore,s=t.issues,i=e.editorState,r=i.language,l=i.translating,u=e.nodeEditor,c=u.typeConfig,d=u.settings;return{issues:(s[d.originalNode.node.uuid]||[]).filter((function(e){return!d.originalAction||d.originalAction.uuid===e.action_uuid})),language:r,definition:a,nodes:n,translating:l,typeConfig:c,settings:d,assetStore:o}}),(function(e){return Object(fe.bindActionCreators)({addAsset:Wr,resetNodeEditingState:al,mergeEditorState:Vr,handleTypeConfigChange:tl,onUpdateLocalizations:Yr,onUpdateAction:nl,onUpdateRouter:ul,updateUserAddingAction:oa},e)}))(nc),sc=a(108),ic=a.n(sc),rc=a(33),lc=a.n(rc),uc=Te.t("sticky.title","New Note"),cc=Te.t("sticky.body","..."),dc={yellow:lc.a.yellow,blue:lc.a.blue,green:lc.a.green,purple:lc.a.purple,gray:lc.a.gray},pc=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).dragging=!1,n.ele=void 0,n.debounceTextChanges=void 0,n.showConfirmation=void 0,n.DEFUALT_TITLE="New Note",n.DEFUALT_BODY="...",Object(E.react)(Object(f.a)(n),{include:[/^on/,/^get/,/^is/,/^handle/]}),n.state={title:n.props.sticky.title,body:n.props.sticky.body,color:n.props.sticky.color,showConfirmation:!1},n}return Object(v.a)(a,[{key:"isSelected",value:function(){return this.props.selected}},{key:"onRef",value:function(e){return this.ele=e}},{key:"componentWillUnmount",value:function(){this.showConfirmation&&window.clearTimeout(this.showConfirmation),this.debounceTextChanges&&window.clearTimeout(this.debounceTextChanges)}},{key:"handleDrag",value:function(e){}},{key:"handleDragStop",value:function(e){var t=L(e.finalPos[0],e.finalPos[1]),a=t.left,n=t.top;this.ele.style.left="".concat(a,"px"),this.ele.style.top="".concat(n,"px"),this.props.sticky.position={left:a,top:n},this.props.updateSticky(this.props.uuid,this.props.sticky)}},{key:"onUpdateText",value:function(){var e=this;this.debounceTextChanges&&window.clearTimeout(this.debounceTextChanges),this.debounceTextChanges=window.setTimeout((function(){var t=Object(k.a)({},e.props.sticky);t.title=e.state.title,t.body=e.state.body,e.props.updateSticky(e.props.uuid,t),e.debounceTextChanges=null}),2e3)}},{key:"handleChangeTitle",value:function(e){this.setState({title:e.currentTarget.value}),this.onUpdateText()}},{key:"handleChangeBody",value:function(e){this.setState({body:e.currentTarget.value}),this.onUpdateText()}},{key:"handleClickRemove",value:function(e){var t=this;this.state.showConfirmation?this.props.updateSticky(this.props.uuid,null):(this.setState({showConfirmation:!0}),this.showConfirmation=window.setTimeout((function(){t.setState({showConfirmation:!1})}),2e3))}},{key:"handleChangeColor",value:function(e){this.props.sticky.color=e,this.props.updateSticky(this.props.uuid,this.props.sticky),this.setState({color:e})}},{key:"handleSelectForValue",value:function(e,t){e.value===t&&window.setTimeout((function(){e.select()}),0)}},{key:"handleTitleFocused",value:function(e){this.handleSelectForValue(e.currentTarget,uc)}},{key:"handleBodyFocused",value:function(e){this.handleSelectForValue(e.currentTarget,cc)}},{key:"getColorChooser",value:function(){var e=this;return C.createElement("div",{className:lc.a.color_chooser_container},C.createElement("div",{className:lc.a.color_chooser},Object.keys(dc).map((function(t){return C.createElement("div",{key:e.props.uuid+t,onClick:function(){e.handleChangeColor(t)},className:lc.a.color_option+" "+dc[t]})}))))}},{key:"render",value:function(){var e=[lc.a.title_wrapper];this.state.showConfirmation&&e.push(lc.a.removal);var t=[lc.a.sticky_container];this.props.sticky.color||(this.props.sticky.color="yellow");var a=[lc.a.sticky];this.isSelected()&&a.push(lc.a.selected),t.push(dc[this.props.sticky.color]);var n=this.getColorChooser();return C.createElement("div",{key:this.props.uuid,className:t.join(" "),"data-spec":"sticky-container",ref:this.onRef,id:this.props.uuid},C.createElement("div",{className:a.join(" ")},C.createElement("div",{className:e.join(" ")},C.createElement("div",{className:lc.a.remove_button,onClick:this.handleClickRemove},C.createElement("span",{className:"fe-x"})),C.createElement("div",{className:lc.a.confirmation},"Remove?"),C.createElement(ic.a,{className:lc.a.title,value:this.state.title,onChange:this.handleChangeTitle,onFocusCapture:this.handleTitleFocused})),C.createElement("div",{className:lc.a.body_wrapper},C.createElement(ic.a,{className:lc.a.body,value:this.state.body,onChange:this.handleChangeBody,onFocusCapture:this.handleBodyFocused}),n)))}}]),a}(C.Component),mc=Object(Gl.b)((function(e){return{definition:e.flowContext.definition}}),(function(e){return Object(fe.bindActionCreators)({updateSticky:ll},e)}),null,{forwardRef:!1})(pc),hc=a(237).jsPlumb.importDefaults,_c={anchor:["Continuous",{shape:"Rectangle",faces:["top","left","right"]}],endpoint:["Rectangle",{width:23,height:23,cssClass:"plumb-endpoint",hoverClass:"plumb-endpoint-hover"}],dropOptions:{tolerance:"touch",hoverClass:"plumb-drop-hover",isTarget:!1},dragAllowedWhenFull:!1,deleteEndpointsOnEmpty:!0,isTarget:!1},gc={anchor:"BottomCenter",maxConnections:1,dragAllowedWhenFull:!1,deleteEndpointsOnEmpty:!0,isSource:!0},vc=function(e,t){return["Continuous",{shape:"Dot",faces:e.getBoundingClientRect().bottom+z/3<t.getBoundingClientRect().top?["top"]:["right","left"]}]},fc=["Flowchart",{stub:12,midpoint:.75,alwaysRespectStubs:!1,gap:[0,5],cornerRadius:3}],yc=function(){function e(){Object(g.a)(this,e),this.jsPlumb=void 0,this.pendingConnections={},this.pendingConnectionTimeout=void 0,this.animateInterval=null,this.onLoadFunction=null,this.jsPlumb=hc({DragOptions:{cursor:"pointer",zIndex:1e3},DropOptions:{tolerance:"touch",hoverClass:"plumb-hover"},Endpoint:"Rectangle",EndpointStyle:{strokeStyle:"transparent"},PaintStyle:{strokeWidth:3.5},ConnectionsDetachable:!0,Connector:fc,ConnectionOverlays:[["PlainArrow",{location:.999,width:12,length:12,cssClass:"jtk-arrow"}]]}),this.debug=this.debug.bind(this),this.setSourceEnabled=this.setSourceEnabled.bind(this),this.makeSource=this.makeSource.bind(this),this.makeTarget=this.makeTarget.bind(this),this.connectExit=this.connectExit.bind(this),this.setDragSelection=this.setDragSelection.bind(this),this.clearDragSelection=this.clearDragSelection.bind(this),this.removeFromDragSelection=this.removeFromDragSelection.bind(this),this.cancelDurationRepaint=this.cancelDurationRepaint.bind(this),this.remove=this.remove.bind(this),this.handlePendingConnections=this.handlePendingConnections.bind(this),this.checkForPendingConnections=this.checkForPendingConnections.bind(this),this.connect=this.connect.bind(this),this.bind=this.bind.bind(this),this.repaint=this.repaint.bind(this),this.recalculate=this.recalculate.bind(this),this.reset=this.reset.bind(this),this.updateClass=this.updateClass.bind(this),this.rerouteAnchors=this.rerouteAnchors.bind(this)}return Object(v.a)(e,[{key:"setContainer",value:function(e){this.jsPlumb.setContainer(e)}},{key:"debug",value:function(){return this.jsPlumb}},{key:"setSourceEnabled",value:function(e,t){this.jsPlumb.setSourceEnabled(e,t)}},{key:"makeSource",value:function(e){return this.jsPlumb.makeSource(e,gc)}},{key:"makeTarget",value:function(e){this.jsPlumb.makeTarget(e,_c)}},{key:"connectExit",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.connect("".concat(e.uuid,":").concat(t.uuid),t.destination_uuid,a,e.exits.findIndex((function(e){return e.uuid===t.uuid})),e.exits.length)}},{key:"updateClass",value:function(e,t,a,n){var o="".concat(e.uuid,":").concat(t.uuid),s=this.jsPlumb.select({source:o});n?s.addClass(a):s.removeClass(a)}},{key:"removeFromDragSelection",value:function(e){this.jsPlumb.removeFromDragSelection(e)}},{key:"setDragSelection",value:function(e){var t=this;this.cancelDurationRepaint(),this.jsPlumb.clearDragSelection(),Object.keys(e).forEach((function(e){return t.jsPlumb.addToDragSelection(e)}))}},{key:"clearDragSelection",value:function(){this.jsPlumb.clearDragSelection()}},{key:"cancelDurationRepaint",value:function(){this.animateInterval&&(window.clearInterval(this.animateInterval),this.animateInterval=null)}},{key:"handlePendingConnections",value:function(){var e=this,t={};Object.keys(this.pendingConnections).length;this.jsPlumb.batch((function(){for(var a in e.pendingConnections)if(e.pendingConnections.hasOwnProperty(a)){var n=e.pendingConnections[a],o=n.source,s=n.target,i=n.className,r=n.slot,l=n.totalSlots,u=s?["Bottom",vc(document.getElementById(o),document.getElementById(s))]:[];if(null!=o){e.jsPlumb.select({source:o}).delete({fireEvent:!1});var c=l<5?.75:.35,d=c+.15*r;r>l/2&&(d=c-.05+.15*(l-r)),d=Math.max(Math.min(.9,d),.1);var p=[].concat(fc);p[1].midpoint=d,null!=s&&e.jsPlumb.connect({source:o,target:s,anchors:u,fireEvent:!1,cssClass:i,detachable:!i,connector:p})}null!=s&&(t[s]=!0),delete e.pendingConnections[a]}}),!1),this.onLoadFunction&&(this.onLoadFunction(),this.onLoadFunction=null)}},{key:"triggerLoaded",value:function(e){e&&(0===Object.keys(this.pendingConnections).length&&e(),this.onLoadFunction=e)}},{key:"checkForPendingConnections",value:function(){var e=this;this.pendingConnectionTimeout&&window.clearTimeout(this.pendingConnectionTimeout),this.pendingConnectionTimeout=window.setTimeout((function(){e.handlePendingConnections()}),0)}},{key:"connect",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.pendingConnections["".concat(e,":").concat(t,":").concat(a)]={source:e,target:t,className:a,slot:n,totalSlots:o},this.checkForPendingConnections()}},{key:"bind",value:function(e,t){return this.jsPlumb.bind(e,t)}},{key:"repaint",value:function(e){e?(this.jsPlumb.recalculateOffsets(e),this.jsPlumb.repaint(e)):(this.jsPlumb.recalculateOffsets(),this.jsPlumb.repaintEverything())}},{key:"remove",value:function(e){this.jsPlumb.isSource(e)?(this.jsPlumb.unmakeSource(e),this.jsPlumb.remove(e)):this.jsPlumb.isTarget(e)&&this.jsPlumb.deleteConnectionsForElement(e)}},{key:"rerouteAnchors",value:function(e){var t=this;e.forEach((function(e){var a,n=e.id,o=t.jsPlumb.getConnections({target:n}).concat(t.jsPlumb.getConnections({source:n})),s=Object(N.a)(o);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.endpoints[1].setAnchor(vc(i.endpoints[0].element,i.endpoints[1].element))}}catch(r){s.e(r)}finally{s.f()}}))}},{key:"revalidate",value:function(e){var t=this;this.jsPlumb.revalidate(e),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.timeout&&window.clearTimeout(e.timeout),e.timeout=window.setTimeout(a||e,t)}(this.rerouteAnchors,200,(function(){t.rerouteAnchors(e)}))}},{key:"recalculate",value:function(e){var t=this;window.setTimeout((function(){t.jsPlumb.revalidate(e)}),100)}},{key:"reset",value:function(){this.jsPlumb.reset()}},{key:"getPlumb",value:function(){return this.jsPlumb}}]),e}(),bc=a(15),kc=function(){function e(t,a){Object(g.a)(this,e),this.props=void 0,this.state=void 0,this.props=t,this.state=a||{showUUIDs:!1}}return Object(v.a)(e,[{key:"showUUIDs",value:function(){var e=bc(this.state,{$merge:{showUUIDs:!0}});return this.props.mergeEditorState({debug:e}),e}}]),e}(),Ec=a(157),Cc=a.n(Ec),wc=3,Nc=function(e){return e.suspendedElementId===e.targetId&&null!==e.source},Sc=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e,n){var o;return Object(g.a)(this,a),(o=t.call(this,e,n)).Plumber=void 0,o.nodeContainerUUID=void 0,o.ghost=void 0,o.nodeContainerUUID=te(),o.Plumber=new yc,n.config.debug&&(window.fe=new kc(e,o.props.debug)),Object(E.react)(Object(f.a)(o),{include:[/Ref$/,/^on/,/^is/,/^get/,/^handle/]}),o}return Object(v.a)(a,[{key:"ghostRef",value:function(e){return this.ghost=e}},{key:"componentDidMount",value:function(){var e=this;this.Plumber.bind("connection",(function(t){return e.props.updateConnection(t.sourceId,t.targetId)})),this.Plumber.bind("beforeDrag",(function(t){e.beforeConnectionDrag(t)})),this.Plumber.bind("connectionDrag",(function(t){e.props.onConnectionDrag(t,e.context.config.flowType)})),this.Plumber.bind("connectionDragStop",(function(t){return e.onConnectorDrop(t)})),this.Plumber.bind("beforeStartDetach",(function(t){return!e.props.translating&&e.context.config.mutable})),this.Plumber.bind("beforeDetach",(function(e){return!0})),this.Plumber.bind("beforeDrop",(function(t){return e.onBeforeConnectorDrop(t)})),this.Plumber.triggerLoaded(this.context.config.onLoad)}},{key:"componentWillUnmount",value:function(){this.Plumber.reset()}},{key:"onBeforeConnectorDrop",value:function(e){this.props.resetNodeEditingState();var t=e.sourceId.split(":")[0];try{vl(this.props.nodes,t,e.targetId)}catch(a){return!1}return!0}},{key:"onConnectorDrop",value:function(e){var t=this.props.ghostNode;if(X(t)&&!Nc(e)){this.Plumber.recalculate(t.node.uuid);var a=Co(t);this.Plumber.connect(a.nodeUUID+":"+a.exitUUID,t.node.uuid);var n=this.ghost&&L(this.ghost.ele.offsetLeft,this.ghost.ele.offsetTop)||{left:0,top:0},o=n.left,s=n.top;this.props.ghostNode.ui.position={left:o,top:s};var i=null;t.node.actions&&1===t.node.actions.length&&(i=t.node.actions[0]),this.props.onOpenNodeEditor({originalNode:t,originalAction:i})}return Nc(e)&&this.props.mergeEditorState({ghostNode:null}),document.removeEventListener("mousemove",window.ghostListener),!0}},{key:"beforeConnectionDrag",value:function(e){return e.source&&e.source.dispatchEvent(new Event("disconnect")),!this.props.translating}},{key:"handleStickyCreation",value:function(e){var t=this.props.definition._ui.stickies||{},a=e.uuid;return C.createElement(mc,{key:a,uuid:a,sticky:t[a],selected:e.selected})}},{key:"handleNodeCreation",value:function(e){var t=1===Object.keys(this.props.nodes).length;return C.createElement(ac,{onlyNode:t,startingNode:0===e.idx,selected:e.selected,key:e.uuid,"data-spec":"node",nodeUUID:e.uuid,plumberMakeTarget:this.Plumber.makeTarget,plumberRemove:this.Plumber.remove,plumberRecalculate:this.Plumber.recalculate,plumberMakeSource:this.Plumber.makeSource,plumberConnectExit:this.Plumber.connectExit,plumberUpdateClass:this.Plumber.updateClass})}},{key:"getNodes",value:function(){var e=this;return bl(this.props.nodes).map((function(t,a){return{uuid:t.node.uuid,position:t.ui.position,elementCreator:e.handleNodeCreation,config:t,idx:a}}))}},{key:"getStickies",value:function(){var e=this,t=this.props.definition._ui.stickies||{};return Object.keys(t).map((function(a,n){return{uuid:a,elementCreator:e.handleStickyCreation,position:t[a].position,idx:n}}))}},{key:"getDragNode",value:function(){return X(this.props.ghostNode)?C.createElement("div",{"data-spec":"ghost-node",key:this.props.ghostNode.node.uuid,style:{position:"absolute",display:"block",visibility:"hidden"}},C.createElement(ac,{onlyNode:!1,selected:!1,startingNode:!1,ref:this.ghostRef,ghost:!0,nodeUUID:this.props.ghostNode.node.uuid,plumberMakeTarget:this.Plumber.makeTarget,plumberRemove:this.Plumber.remove,plumberRecalculate:this.Plumber.recalculate,plumberMakeSource:this.Plumber.makeSource,plumberConnectExit:this.Plumber.connectExit,plumberUpdateClass:this.Plumber.updateClass})):null}},{key:"getSimulator",value:function(){var e=this;return Y(this.context.config.endpoints&&this.context.config.endpoints.simulateStart)(C.createElement(Wu,{key:"simulator",popped:this.props.popped,mergeEditorState:this.props.mergeEditorState,onToggled:function(t,a){e.props.mergeEditorState({popped:t?a:null})}}))}},{key:"getNodeEditor",value:function(){return Y(null!==this.props.nodeEditorSettings)(C.createElement(oc,{key:"node-editor",helpArticles:this.context.config.help,plumberConnectExit:this.Plumber.connectExit}))}},{key:"handleDoubleClick",value:function(e){var t=e.left,a=e.top;this.props.updateSticky(te(),{position:L(t-90+I,a-40),title:uc,body:cc})}},{key:"getEmptyFlow",value:function(){var e=this;return C.createElement("div",{key:"create_node",className:Cc.a.empty_flow},C.createElement(ke.a,{i18nKey:"empty_flow_message"},C.createElement("h1",null,"Let's get started"),C.createElement("div",null,"We recommend starting your flow by sending a message. This message will be sent to anybody right after they join the flow. This is your chance to send a single message or ask them a question.")),C.createElement(ce,{name:Te.t("buttons.create_message","Create Message"),onClick:function(){var t=kl(null,null,1,e.context.config.flowType);e.props.onOpenNodeEditor({originalNode:t,originalAction:t.node.actions[0]})}}))}},{key:"handleDragging",value:function(e){var t=this;e.forEach((function(e){try{var a=document.getElementById(e),n=a.querySelectorAll(".jtk-connected");t.Plumber.revalidate([a].concat(Object(ve.a)(n)))}catch(o){}}))}},{key:"handleCanvasLoaded",value:function(){this.Plumber.setContainer("canvas")}},{key:"render",value:function(){var e=this.getNodes(),t=this.getStickies().concat(e);return C.createElement("div",null,0===e.length?this.getEmptyFlow():C.createElement(C.Fragment,null,this.getSimulator()),this.getNodeEditor(),C.createElement(Fl,{mutable:this.context.config.mutable,draggingNew:!!this.props.ghostNode&&!this.props.nodeEditorSettings,newDragElement:this.getDragNode(),onDragging:this.handleDragging,uuid:this.nodeContainerUUID,dragActive:this.props.dragActive,mergeEditorState:this.props.mergeEditorState,onRemoveNodes:this.props.onRemoveNodes,draggables:t,onDoubleClick:this.handleDoubleClick,onUpdatePositions:this.props.onUpdateCanvasPositions,onLoaded:this.handleCanvasLoaded}),C.createElement("div",{id:"activity_recent_contacts"}))}}]),a}(C.PureComponent);Sc.contextTypes={config:jt};var xc,Oc=Object(Gl.b)((function(e){var t=e.flowContext,a=t.definition,n=t.metadata,o=t.nodes,s=e.editorState,i=s.ghostNode,r=s.debug,l=s.translating,u=s.popped,c=s.dragActive;return{nodeEditorSettings:e.nodeEditor.settings,definition:a,nodes:o,metadata:n,ghostNode:i,debug:r,translating:l,popped:u,dragActive:c}}),(function(e){return Object(fe.bindActionCreators)({mergeEditorState:Vr,resetNodeEditingState:al,onConnectionDrag:rl,onOpenNodeEditor:cl,onUpdateCanvasPositions:il,onRemoveNodes:sl,updateConnection:Qr,updateSticky:ll},e)}))(Sc),jc=a(59),Tc=a.n(jc),Ac=a(79),Rc=a.n(Ac),Uc=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e,n){var o;return Object(g.a)(this,a),o=t.call(this,e,n),Object(E.react)(Object(f.a)(o),{include:[/^handle/]}),o}return Object(v.a)(a,[{key:"handleLanguageChanged",value:function(e){this.props.handleLanguageChange(e)}},{key:"handleLanguageSort",value:function(e,t){return"base"===e.id?-1:"base"===t.id?1:void 0!==e.order&&void 0!==t.order?e.order-t.order:e.name.localeCompare(t.name)}},{key:"render",value:function(){var e=this;if(!this.props.language)return null;var t=Object.keys(this.props.languages.items).map((function(t){return e.props.languages.items[t]})).sort(this.handleLanguageSort);return 1===t.length?null:C.createElement("div",{className:"language-selector"},C.createElement("div",{style:{position:"fixed",right:"2em",marginTop:"2em",zIndex:1}},t.map((function(t,a){return C.createElement("div",{key:"lang_"+t.id,className:Rc.a.language},a>0?C.createElement("div",{className:Rc.a.separator},"|"):null,C.createElement("div",{className:Rc.a.language_link+" "+(e.props.language.id===t.id?Rc.a.active:""),onClick:function(){e.handleLanguageChanged(t)}},t.name))}))))}}]),a}(C.Component),Dc=Object(Gl.b)((function(e){var t=e.flowContext.assetStore,a=e.editorState.language;return{languages:t.languages,language:a}}),(function(e){return Object(fe.bindActionCreators)({handleLanguageChange:Kr},e)}))(Uc),Pc=a(158),zc=a.n(Pc),Fc=a(40),Ic=a.n(Fc),Lc=Pt.a.bind(Ic.a),Mc=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).onRevisionClicked=function(e){return function(t){t.stopPropagation(),t.preventDefault(),pt(n.props.assetStore.revisions,e.id).then((function(t){n.props.loadFlowDefinition(t,n.props.assetStore),n.setState({revision:e})}))}},n.onRevertClicked=function(e){return function(e){e.stopPropagation(),e.preventDefault(),n.props.createNewRevision(),n.setState({visible:!1,revision:null})}},n.state={revisions:[],revision:null,definition:null,visible:!1},Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"handleUpdateRevisions",value:function(){var e=this;if(null!==this.props.assetStore){var t=this.props.assetStore.revisions;return lt(t.endpoint+"?version="+O,t.type,t.id||"id").then((function(t){t.length>0&&(t[0].content.current=!0),e.setState({revisions:t})}))}}},{key:"handleTabClicked",value:function(){var e=this;this.props.onToggled(!this.state.visible,ze.REVISION_HISTORY),this.setState((function(e){return{visible:!e.visible}}),(function(){e.state.visible?e.handleUpdateRevisions():e.state.revision&&e.state.revision.id!==e.state.revisions[0].id&&pt(e.props.assetStore.revisions,e.state.revisions[0].id).then((function(t){e.props.loadFlowDefinition(t,e.props.assetStore),e.setState({revision:null})}))}))}},{key:"render",value:function(){var e,t=this,a=Lc((e={},Object(x.a)(e,Ic.a.visible,this.state.visible),Object(x.a)(e,Ic.a.hidden,this.props.popped&&this.props.popped!==ze.REVISION_HISTORY),e));return w.a.createElement("div",{className:a},w.a.createElement("div",{className:Ic.a.mask}),w.a.createElement(zu,{header:Te.t("revisions.header","Revisions"),color:"#8e5ea7",icon:"fe-time",label:Te.t("revisions.label","Revision History"),top:"170px",popTop:"40px",visible:this.state.visible,onShow:this.handleTabClicked,onHide:this.handleTabClicked,custom:!1},w.a.createElement("div",{className:Ic.a.explorer_wrapper},w.a.createElement("div",{className:Ic.a.explorer},w.a.createElement("div",{className:Ic.a.revisions},this.state.revisions.map((function(e){var a=e.content,n=t.state.revision&&e.id===t.state.revision.id,o=a.current||n?Ic.a.selected:"";return w.a.createElement("div",{className:Ic.a.revision+" "+o,key:"revision_"+e.id,onClick:t.onRevisionClicked(e)},Y(a.current)(w.a.createElement("div",{className:Ic.a.button+" "+Ic.a.current},Te.t("revisions.current","current"))),Y(n&&!a.current)(w.a.createElement("div",{onClick:t.onRevertClicked(e),className:Ic.a.button},Te.t("revisions.revert","revert"))),w.a.createElement("div",{className:Ic.a.created_on},zc()(new Date(a.created_on),"mmmm d, yyyy, h:MM TT",t.props.utc)),w.a.createElement("div",{className:Ic.a.email},a.user.name||a.user.email))})))))))}}]),a}(w.a.Component),qc=a(49),Vc=a.n(qc),Bc=Pt.a.bind(Vc.a),Gc=function(e){return(e.action_uuid||e.node_uuid)+(e.language||"")},Hc=function(e,t){var a=t[e.node_uuid],n=null;if(e.action_uuid&&a){var o=e.action_uuid?a.node.actions.findIndex((function(t){return t.uuid===e.action_uuid})):null;if(o>-1){var s=a.node.actions[o];n={action:s,config:br(s.type),index:o}}}return{renderNode:a,renderAction:n}},Wc=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={visible:!1,selectedIssue:null,issueDetails:n.buildIssueDetails()},Object(E.react)(Object(f.a)(n),{include:[/^handle/,/^render/]}),n}return Object(v.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.issues===e.issues&&e.nodes===this.props.nodes&&this.props.languages===e.languages||this.setState({issueDetails:this.buildIssueDetails()})}},{key:"buildIssueDetails",value:function(){var e={};if(Object.keys(this.props.nodes).length>0)for(var t=0,a=Object.values(this.props.issues);t<a.length;t++){var n,o=a[t],s=Object(N.a)(o);try{for(s.s();!(n=s.n()).done;){var i=n.value,r=Gc(i),l=e[r];if(l)l.issues.push(i);else{var u=null;i.language&&this.props.languages&&(u=this.props.languages[i.language]);var c=Hc(i,this.props.nodes);!c.renderNode||i.action_uuid&&!c.renderAction||(l={issues:[i],renderObjects:c,language:u})}l&&(e[r]=l)}}catch(d){s.e(d)}finally{s.f()}}return Object.values(e).sort((function(e,t){if(e.language&&!t.language)return 1;if(!e.language&&t.language)return-1;if(e.language&&t.language&&e.language.name!==t.language.name)return e.language.name.localeCompare(t.language.name);var a=e.renderObjects.renderNode.ui.position.top-t.renderObjects.renderNode.ui.position.top;return 0!==a?a:e.renderObjects.renderNode.node.uuid===t.renderObjects.renderNode.node.uuid&&e.renderObjects.renderAction&&t.renderObjects.renderAction?e.renderObjects.renderAction.index-t.renderObjects.renderAction.index:0}))}},{key:"handleTabClicked",value:function(){this.props.onToggled(!this.state.visible,ze.ISSUES_TAB),this.setState((function(e){return{visible:!e.visible}}))}},{key:"handleIssueClicked",value:function(e){var t=this;this.props.onIssueClicked(e),window.setTimeout((function(){t.props.onIssueOpened(e)}),750)}},{key:"render",value:function(){var e,t=this,a=0,n=null,o=this.state.issueDetails.map((function(e){a+=e.issues.length;var o=null;e.language&&e.language!==n&&(o=w.a.createElement("div",{className:Vc.a.language},e.language.name)),n=e.language;var s=null;if(!e.renderObjects.renderNode)return null;s=e.renderObjects.renderAction?e.renderObjects.renderAction.config:br(kr(e.renderObjects.renderNode));var i=e.issues.map((function(e,t){return w.a.createElement("div",{key:Gc(e)+t,className:Vc.a.message},w.a.createElement("div",{className:Vc.a.header},s.name,":")," ",gt(e))}));return w.a.createElement("div",{key:Gc(e.issues[0])+"_detail"},o,w.a.createElement("div",{className:Vc.a.details,onClick:function(){return t.handleIssueClicked(e)}},null,w.a.createElement("div",{className:Vc.a.issues_code},i)))})),s=Bc((e={},Object(x.a)(e,Vc.a.visible,this.state.visible),Object(x.a)(e,Vc.a.hidden,this.props.popped&&this.props.popped!==ze.ISSUES_TAB),e));return w.a.createElement("div",{className:s},w.a.createElement("div",{className:Vc.a.mask}),w.a.createElement(zu,{header:"".concat(Te.t("issues.label","Flow Issues")," (").concat(a,")"),label:Te.t("issues.header","Flow Issues"),color:"tomato",icon:"fe-warning",top:"270px",popTop:"-60px",visible:this.state.visible,onShow:this.handleTabClicked,onHide:this.handleTabClicked,custom:!1},w.a.createElement("div",{className:Vc.a.issues_wrapper},o)))}}]),a}(w.a.Component),Kc=a(159),Yc=a(160),Xc=a.n(Yc),Zc=Object(fe.combineReducers)({flowContext:He,editorState:Rr,nodeEditor:sa}),Qc={flowContext:Le,editorState:Ar,nodeEditor:aa},Jc=[Xc.a],$c=a(20),ed=a.n($c);!function(e){e.COMPLETE="complete",e.MISSING="missing"}(xc||(xc={}));var td,ad=function(e,t,a){return e.translations.filter((function(e){switch(t){case xc.COMPLETE:return!!e.to&&e.type===a;case xc.MISSING:return!e.to&&e.type===a}return!0})).map((function(e){return e[t===xc.MISSING?"from":"to"]})).join(", ")},nd=function(e,t,a,n){var o=[];return t.forEach((function(t){for(var s=t.split("."),i=a,r=[];s.length>0&&i;){s.length>0&&i.uuid&&(r=(n||{})[i.uuid]);var l=s.shift();r&&(r=r[l]),i=i[l]}i&&(r&&(r=r.join(", ")),Array.isArray(i)&&(i=i.map((function(e){return e.name?e.name:e.arguments?e.arguments.join(" "):e})).join(", ")),i&&o.push({type:e,attribute:t,from:i,to:r}))})),o},od=function(e){return"categories"===e?be.a.t("translation.attributes.categories","Categories"):"cases"===e?be.a.t("translation.attributes.cases","Rules"):"text"===e?be.a.t("translation.attributes.text","Message"):"quick_replies"===e?be.a.t("translation.attributes.quick_replies","Quick Replies"):"templating.variables"===e?be.a.t("translation.attributes.templates","Template Variables"):"subject"===e?be.a.t("translation.attributes.subject","Subject"):"body"===e?be.a.t("translation.attributes.body","Body"):(t=e)?t.split("_").join(" ").toLowerCase():t;var t},sd=function(e){return e.node_uuid+e.action_uuid},id=Pt.a.bind(ed.a);!function(e){e.PROPERTY="property",e.CATEGORY="category",e.CASE="case"}(td||(td={}));var rd=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e,n){var o;return Object(g.a)(this,a),(o=t.call(this,e)).state={visible:!1,selectedTranslation:null,translationBundles:[],optionsVisible:!1,pctComplete:0,translationFilters:e.translationFilters||{categories:!0,rules:!0}},Object(E.react)(Object(f.a)(o),{include:[/^handle/,/^render/,/^toggle/]}),o}return Object(v.a)(a,[{key:"componentWillUnmount",value:function(){this.state.visible&&this.handleTabClicked()}},{key:"componentDidUpdate",value:function(e,t){e.translationFilters===this.props.translationFilters&&e.localization===this.props.localization&&e.language===this.props.language&&t.visible&&t.translationFilters===this.state.translationFilters||this.handleUpdateTranslations()}},{key:"handleUpdateTranslations",value:function(){var e=this,t=[];Object.keys(this.props.nodes).forEach((function(a){var n=e.props.nodes[a];if(n.node.router&&(e.state.translationFilters.categories||e.state.translationFilters.rules)){var o=br(kr(n)),s=[];if(e.state.translationFilters.categories){var i=["name"];n.node.router.categories.forEach((function(t){s.push.apply(s,Object(ve.a)(nd(td.CATEGORY,i,t,e.props.localization)))}))}if(e.state.translationFilters.rules){var r=["arguments"],l=Po(n.node);l&&l.cases.forEach((function(t){s.push.apply(s,Object(ve.a)(nd(td.CASE,r,t,e.props.localization)))}))}s.length>0&&t.push({typeConfig:o,node_uuid:a,translations:s,translated:s.filter((function(e){return!!e.to})).length})}else n.node.actions.forEach((function(n){var o=br(n.type),s=nd(td.PROPERTY,o.localizeableKeys||[],n,e.props.localization);s.length>0&&t.push({typeConfig:o,node_uuid:a,action_uuid:n.uuid,translations:s,translated:s.filter((function(e){return!!e.to})).length})}))}));var a={total:0,complete:0};t.reduce((function(e,t){return e.total+=t.translations.length,e.complete+=t.translated,e}),a);var n=a.total>0?Math.round(a.complete/a.total*100):0,o=t.filter((function(e){return e.translated<e.translations.length})).sort((function(e,t){return t.translations.length-t.translated-(e.translations.length-e.translated)}));n===this.state.pctComplete&&o.length===this.state.translationBundles.length||this.setState({pctComplete:n,translationBundles:o})}},{key:"handleTabClicked",value:function(){this.props.onToggled(!this.state.visible,ze.TRANSLATOR_TAB),this.setState((function(e){return{visible:!e.visible}}))}},{key:"toggleOptions",value:function(){this.setState({optionsVisible:!this.state.optionsVisible})}},{key:"toggleCategories",value:function(e){var t=this;this.setState({translationFilters:{categories:e,rules:this.state.translationFilters.rules}},(function(){t.props.onTranslationFilterChanged(t.state.translationFilters)}))}},{key:"toggleRules",value:function(e){var t=this;this.setState({translationFilters:{rules:e,categories:this.state.translationFilters.categories}},(function(){t.props.onTranslationFilterChanged(t.state.translationFilters)}))}},{key:"renderMissing",value:function(e,t,a){return t?w.a.createElement("div",{key:this.props.language.id+e,className:ed.a.item},w.a.createElement("div",{className:ed.a.text+" "+ed.a.from_text},t),w.a.createElement("div",{className:ed.a.text+" "+ed.a.attribute},a)):null}},{key:"handleTranslationClicked",value:function(e){var t=this;this.props.onTranslationClicked(e),window.setTimeout((function(){t.props.onTranslationOpened(e)}),750)}},{key:"handleChangeLanguageClick",value:function(e){this.context.config.onChangeLanguage(this.props.language.id,this.props.language.name),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e,t,a,n,o=this,s=this.state.optionsVisible&&this.context.config.onChangeLanguage,i=id((e={},Object(x.a)(e,ed.a.visible,this.state.visible),Object(x.a)(e,ed.a.hidden,this.props.popped&&this.props.popped!==ze.TRANSLATOR_TAB),e)),r=id((t={},Object(x.a)(t,ed.a.options,!0),Object(x.a)(t,ed.a.options_visible,this.state.optionsVisible),Object(x.a)(t,ed.a.change_visible,s),t)),l=id((a={},Object(x.a)(a,ed.a.filled,!0),Object(x.a)(a,ed.a.hundredpct,100===this.state.pctComplete),a)),u=id((n={},Object(x.a)(n,ed.a.translations_wrapper,!0),Object(x.a)(n,ed.a.complete,0===this.state.translationBundles.length),n));return w.a.createElement("div",{className:i},w.a.createElement(zu,{header:"".concat(this.props.language.name," ").concat(Te.t("translation.label","Translations")),label:Te.t("translation.header","Flow Translation"),color:"#777",icon:"fe-language",top:"120px",popTop:"100px",visible:this.state.visible,onShow:this.handleTabClicked,onHide:this.handleTabClicked,custom:!1},w.a.createElement("div",{key:"translation_wrapper",className:u},this.state.translationBundles.map((function(e){return w.a.createElement("div",{key:o.props.language.id+sd(e),className:ed.a.translate_block,onClick:function(){o.handleTranslationClicked(e)}},w.a.createElement("div",{className:ed.a.needs_translation},w.a.createElement("div",{className:ed.a.type_name},e.typeConfig.name),o.renderMissing(sd(e)+"categories",ad(e,xc.MISSING,td.CATEGORY),od("categories")),o.renderMissing(sd(e)+"rules",ad(e,xc.MISSING,td.CASE),od("cases")),e.translations.filter((function(e){return!e.to&&e.type===td.PROPERTY})).map((function(t){return o.renderMissing(sd(e)+t.from,t.from,od(t.attribute))}))))}))),w.a.createElement("div",{className:r,onClick:this.toggleOptions},w.a.createElement("div",{className:ed.a.header},w.a.createElement("div",{className:ed.a.progress_bar},w.a.createElement("div",{style:{width:"".concat(this.state.pctComplete,"%")},className:l})),w.a.createElement("div",{className:ed.a.toggle},w.a.createElement("span",{className:"fe-arrow-up"}))),w.a.createElement("div",{className:ed.a.filters},w.a.createElement("div",{className:ed.a.checkboxes},w.a.createElement("div",null,w.a.createElement(Ha,{name:Te.t("forms.categories","categories"),checked:this.state.translationFilters.categories,description:"Categories",checkboxClassName:ed.a.checkbox,onChange:this.toggleCategories})),w.a.createElement("div",null,w.a.createElement(Ha,{name:Te.t("forms.rules","rules"),checked:this.state.translationFilters.rules,description:"Rule Arguments",checkboxClassName:ed.a.checkbox,onChange:this.toggleRules}))),w.a.createElement("div",{className:ed.a.pct_complete},this.state.pctComplete,"%")),w.a.createElement("div",{className:ed.a.changeLanguage},s&&w.a.createElement("button",{onClick:this.handleChangeLanguageClick},Te.t("forms.use_as_default_language","Use as default language"))))))}}]),a}(w.a.Component);rd.contextTypes={config:jt};var ld=a(238).default,ud=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qc,t=Object(fe.createStore)(Zc,e,Object(Kc.composeWithDevTools)(fe.applyMiddleware.apply(void 0,Jc)));return t}(),cd={config:jt},dd=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),n=t.call(this,e),Object(E.react)(Object(f.a)(n),{include:[/^handle/]}),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.context.config,t=e.endpoints,a=e.flow,n=e.forceSaveOnLoad;this.props.fetchFlow(t,a,n)}},{key:"handleDownloadClicked",value:function(){!function(e,t){var a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",t+".json"),document.body.appendChild(n),n.click(),n.remove()}(yl(this.props.definition,this.props.nodes),"definition")}},{key:"handleVisibilityChanged",value:function(e){this.props.mergeEditorState({visible:e,activityInterval:5e3})}},{key:"getAlertModal",value:function(){var e=this;return this.props.modalMessage?C.createElement(fu,{width:"600px",show:!0},C.createElement(ge,{className:Tc.a.alert_modal,title:this.props.modalMessage.title,headerClass:"alert",buttons:{primary:{name:"Ok",onClick:function(){e.props.mergeEditorState({modalMessage:null})}}}},C.createElement("div",{className:Tc.a.alert_body},this.props.modalMessage.body))):null}},{key:"getSavingIndicator",value:function(){return this.props.saving?C.createElement("div",{id:"saving_animation",className:Tc.a.saving},C.createElement("div",{style:{position:"fixed",right:"30px",marginTop:"0px",zIndex:1}},C.createElement(iu,{units:5,color:"#3498db",size:7}))):null}},{key:"getFooter",value:function(){return!this.props.fetchingFlow&&this.context.config.showDownload?C.createElement("div",{className:Tc.a.footer},C.createElement("div",{className:Tc.a.download_button},C.createElement(ce,{name:Te.t("buttons.download","Download"),onClick:this.handleDownloadClicked,type:j.primary}))):null}},{key:"handleLanguageSetting",value:function(e){e.language?this.props.handleLanguageChange(e.language):this.props.handleLanguageChange(this.props.baseLanguage)}},{key:"handleOpenIssue",value:function(e){this.handleLanguageSetting(e),this.props.onOpenNodeEditor({originalNode:e.renderObjects.renderNode,originalAction:e.renderObjects.renderAction?e.renderObjects.renderAction.action:null})}},{key:"handleScrollToNode",value:function(e,t){var a=this;this.props.scrollToNode===e&&this.props.scrollToAction===t&&this.props.mergeEditorState({scrollToNode:null,scrollToAction:null}),se((function(){a.props.mergeEditorState({scrollToNode:e,scrollToAction:t})}))}},{key:"handleScrollToTranslation",value:function(e){this.handleScrollToNode(e.node_uuid,e.action_uuid)}},{key:"handleOpenTranslation",value:function(e){var t=this.props.nodes[e.node_uuid],a=e.action_uuid?t.node.actions.find((function(t){return t.uuid===e.action_uuid})):null;this.props.onOpenNodeEditor({originalNode:t,originalAction:a})}},{key:"handleScrollToIssue",value:function(e){this.handleLanguageSetting(e);var t=e.issues[0];this.handleScrollToNode(t.node_uuid,t.action_uuid)}},{key:"handleTabPopped",value:function(e,t){e?this.props.mergeEditorState({popped:t}):this.props.mergeEditorState({popped:null})}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){return C.createElement(ld,{onChange:this.handleVisibilityChanged},C.createElement("div",{id:"editor-container",className:this.props.translating?Tc.a.translating:void 0,"data-spec":"editor-container"},this.getFooter(),this.getAlertModal(),C.createElement("div",{className:Tc.a.editor,"data-spec":"editor"},Y(Object.keys(this.props.nodes||{}).length>0&&this.props.languages&&Object.keys(this.props.languages.items).length>0)(C.createElement(Dc,null)),this.getSavingIndicator(),Y(this.props.definition&&this.props.language&&!this.props.fetchingFlow)(C.createElement(Oc,null)),Y(this.props.definition&&this.props.translating&&!this.props.fetchingFlow)(C.createElement(rd,{language:this.props.language,languages:this.props.languages?this.props.languages.items:{},localization:this.props.definition&&this.props.language?this.props.definition.localization[this.props.language.id]:{},onTranslationClicked:this.handleScrollToTranslation,onTranslationOpened:this.handleOpenTranslation,onTranslationFilterChanged:this.props.updateTranslationFilters,translationFilters:this.props.definition?this.props.definition._ui.translation_filters:null,nodes:this.props.nodes,onToggled:this.handleTabPopped,popped:this.props.popped})),C.createElement(Mc,{loadFlowDefinition:this.props.loadFlowDefinition,createNewRevision:this.props.createNewRevision,assetStore:this.props.assetStore,onToggled:this.handleTabPopped,popped:this.props.popped}),Y(Object.keys(this.props.issues).length>0)(C.createElement(Wc,{issues:this.props.issues,onIssueClicked:this.handleScrollToIssue,onIssueOpened:this.handleOpenIssue,languages:this.props.languages?this.props.languages.items:{},nodes:this.props.nodes,onToggled:this.handleTabPopped,popped:this.props.popped})),C.createElement("div",{id:"portal-root"}),C.createElement("div",{id:"canvas-portal"}))))}}]),a}(C.Component);dd.contextTypes=cd;var pd=Object(Gl.b)((function(e){var t=e.flowContext,a=t.definition,n=t.issues,o=t.nodes,s=t.assetStore,i=t.baseLanguage,r=e.editorState,l=r.translating,u=r.language,c=r.fetchingFlow,d=r.simulating,p=r.modalMessage,m=r.saving,h=r.scrollToAction,_=r.scrollToNode;return{popped:r.popped,baseLanguage:i,modalMessage:p,saving:m,simulating:d,assetStore:s,translating:l,language:u,fetchingFlow:c,definition:a,issues:n,nodes:o,languages:s?s.languages:null,scrollToAction:h,scrollToNode:_}}),(function(e){return Object(fe.bindActionCreators)({fetchFlow:Hr,loadFlowDefinition:Gr,createNewRevision:Br,mergeEditorState:Vr,onOpenNodeEditor:cl,handleLanguageChange:Kr,updateTranslationFilters:dl},e)}))(dd),md=function(e){var t=e.config;return C.createElement(Ls,{config:Object(k.a)({},t)},C.createElement(Gl.a,{store:ud},C.createElement(pd,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));document.body.innerHTML.indexOf("temba-components")>-1||document.body.innerHTML.indexOf("temba-modules")>-1||a.e(3).then(a.t.bind(null,265,7)).then((function(){console.log("Loading temba components")})),window.showFlowEditor=function(e,t){var a;t.httpTimeout&&(a=t.httpTimeout,Ze.a.defaults.timeout=a),du.a.render(w.a.createElement(md,{config:t}),e)},"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[166,1,2]]]);
//# sourceMappingURL=main.45f007fe.chunk.js.map