{"version":3,"file":"VectorIcon.js","sourceRoot":"","sources":["../../../src/vectoricon/VectorIcon.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, TemplateResult, html, css } from 'lit';\nimport { property } from 'lit/decorators';\n\nimport { getClasses } from '../utils';\n\n// for cache busting, increase whenever the icon set changes\nconst ICON_VERSION = 6;\n\nexport class VectorIcon extends LitElement {\n  @property({ type: String })\n  name: string;\n\n  @property({ type: String })\n  prefix: string;\n\n  // same as name but without implicit coloring\n  @property({ type: String })\n  id: string;\n\n  @property({ type: Number })\n  size = 1;\n\n  @property({ type: Boolean })\n  clickable: boolean;\n\n  @property({ type: Boolean })\n  circled: boolean;\n\n  @property({ type: String })\n  animateChange: string;\n\n  @property({ type: Number })\n  animationDuration = 200;\n\n  @property({ type: Number, attribute: false })\n  steps = 2;\n\n  @property({ type: Number, attribute: false })\n  animationStep: number;\n\n  @property({ type: String })\n  easing = 'cubic-bezier(0.68, -0.55, 0.265, 1.55)';\n\n  static get styles() {\n    return css`\n      :host {\n        margin: auto;\n        --color1: var(--icon-color);\n      }\n\n      :host([id='flow']),\n      :host([name='flow']) {\n        padding-bottom: 0.2em;\n      }\n\n      svg {\n        fill: var(--icon-color);\n        transform: scale(1);\n        transition: fill 100ms ease-in-out,\n          background 200ms cubic-bezier(0.68, -0.55, 0.265, 1.55),\n          padding 200ms cubic-bezier(0.68, -0.55, 0.265, 1.55),\n          margin 200ms cubic-bezier(0.68, -0.55, 0.265, 1.55);\n      }\n\n      svg.spin {\n        transform: rotate(0deg);\n      }\n\n      svg.spin-1 {\n        transform: rotate(180deg);\n      }\n\n      svg.spin-2 {\n        transform: rotate(360deg);\n      }\n\n      svg.spin-3 {\n        transform: rotate(0deg);\n        transition-duration: 0ms !important;\n      }\n\n      svg.pulse {\n        transform: scale(1);\n      }\n\n      svg.pulse-1 {\n        transform: scale(1.2);\n      }\n\n      .clickable:hover {\n        cursor: pointer;\n        fill: var(--color-link-primary);\n        background: rgb(255, 255, 255);\n      }\n\n      .circled {\n        background: rgb(240, 240, 240);\n        padding: 0.15em;\n        margin: -0.15em;\n        box-shadow: var(--shadow);\n      }\n\n      .wrapper {\n        display: flex;\n        flex-direction: column;\n        border-radius: 999px;\n        transition: background 200ms linear,\n          transform 300ms cubic-bezier(0.68, -0.55, 0.265, 1.55),\n          padding 150ms linear, margin 150ms linear;\n      }\n\n      .wrapper.clickable {\n        transform: scale(1);\n      }\n\n      .wrapper.clickable:hover {\n        --icon-circle-size: 0.35em;\n        --icon-background: var(--icon-color-circle-hover);\n      }\n\n      .wrapper.clickable {\n        padding: var(--icon-circle-size);\n        margin: calc(-1 * var(--icon-circle-size));\n        background: var(--icon-background);\n      }\n    `;\n  }\n\n  constructor() {\n    super();\n  }\n\n  private lastName: string;\n\n  public firstUpdated(changes: Map<string, any>) {\n    super.firstUpdated(changes);\n    if (changes.has('animateChange')) {\n      // set our default duration if we need one\n      if (!changes.has('animationDuration')) {\n        this.animationDuration = this.steps * this.animationDuration;\n      }\n\n      if (this.animateChange === 'spin') {\n        this.steps = 3;\n        this.animationDuration = 400;\n        this.easing = 'linear';\n      }\n    }\n  }\n\n  public updated(changes: Map<string, any>) {\n    super.updated(changes);\n\n    if (changes.has('animationStep')) {\n      // if we are halfway through, change the icon\n      if (this.lastName && this.animationStep >= this.steps / 2) {\n        this.lastName = null;\n        this.requestUpdate();\n      }\n\n      setTimeout(() => {\n        if (this.animationStep > 0 && this.animationStep < this.steps) {\n          this.animationStep++;\n        } else {\n          this.animationStep = 0;\n        }\n      }, this.animationDuration / this.steps);\n    }\n\n    if (changes.has('name') && this.animateChange) {\n      this.lastName = changes.get('name');\n\n      // our name changed, lets animate it\n      if (this.lastName && this.animateChange) {\n        this.animationStep = 1;\n      }\n    }\n  }\n\n  public render(): TemplateResult {\n    return html`\n      <div\n        class=\"wrapper ${getClasses({\n          clickable: this.clickable,\n          circled: this.circled,\n          animate: !!this.animateChange,\n        })}\"\n      >\n        <svg\n          style=\"height:${this.size}em;width:${this\n            .size}em;transition:transform ${this.animationDuration /\n          this.steps}ms\n          ${this.easing}\"\n          class=\"${getClasses({\n            [this.animateChange]: !!this.animateChange,\n            [this.animateChange + '-' + this.animationStep]:\n              this.animationStep > 0,\n          })}\"\n        >\n          <use\n            href=\"${this.prefix ||\n            (window as any).static_url ||\n            '/static/'}icons/symbol-defs.svg?v=${ICON_VERSION}#icon-${this\n              .lastName ||\n            this.name ||\n            this.id}\"\n          />\n        </svg>\n      </div>\n    `;\n  }\n}\n"]}